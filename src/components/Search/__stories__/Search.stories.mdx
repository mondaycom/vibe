import Search from "../Search";
import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import { createComponentTemplate } from "../../../storybook/functions/create-component-story";
import Dropdown from "../../Dropdown/Dropdown.jsx";
import DialogContentContainer from "../../DialogContentContainer/DialogContentContainer";
import { Add, Filter, Search as SearchIcon } from "../../Icon/Icons";
import { Link } from "../../../storybook/components";
import Icon from "../../Icon/Icon.jsx";
import { DROPDAWN, TEXT_FIELD, COMBOBOX } from "../../../storybook/components/related-components/component-description-map";
import "./Search.stories.scss";

<Meta
  title="Components/Search"
  component={ Search }
/>

<!--- Component template -->

export const searchTemplate = createComponentTemplate(Search);

<!--- Component documentation -->

# Search
- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)
- [Do’s and don’ts](#dos-and-donts)
- [Use cases and examples](#use-cases-and-examples)
- [Related components](#related-components)
- [Feedback](#feedback)

## Overview
Search lets users quickly find relevant content. A search field allows a user to type a word or phrase to filter through a large amount of data without navigation.

<Canvas>
  <Story name="Overview"
         args={ {placeholder: "Placeholder text here", wrapperClassName: "monday-storybook-search_size"} }>
    { searchTemplate.bind({}) }
  </Story>
</Canvas>

## Props
<ArgsTable of={ Search } />

## Usage
<UsageGuidelines guidelines={[
  "Search query input methods can be extended to include historical suggestions and auto-completion of queries.",
  "Search results are displayed below the search bar.",
  "Always use the search icon to help users identify search fields. Display the search icon as a presentational icon inside the search input.",
  "Let users submit their search by hitting enter. For live-filtering search, update search results immediately without hitting enter and be mindful of performance.",
  "If used as filter, position the search field above and in context to the list of filterable items",
]}/>

<Tip title="Not what you were looking for?">If you need to filter results from a long list, consider using the <Link href="/?path=/docs/components-combobox--overview" size={Link.sizes.SMALL} withoutSpacing>Combobox</Link> component.</Tip>

## Variants
### Sizes
There are three sizes available: Small (32px), Medium (40px), and Large (48px).
<Canvas>
  <Story name="Sizes">
    <div className="monday-storybook-search_box">
      <Search placeholder="Small" size={Search.sizes.SMALL} />
      <Search placeholder="Medium" />
      <Search placeholder="Large" size={Search.sizes.LARGE} />
     </div>
  </Story>
</Canvas>

<Tip title="Missing something?">If you’re looking for search states, go to <Link href="/?path=/docs/components-canvas--overview" size={Link.sizes.SMALL} withoutSpacing>Canvas</Link> and play with Knobs.</Tip>

## Do’s and Don’ts
<ComponentRules
  rules={[
    {
      positive: {
        component:
        <DialogContentContainer className="monday-storybook-search_wrapper">
          <Dropdown placeholder="Select" />
          <div className="monday-storybook-search_column-wrapper">
            <div className="monday-storybook-search_inline-wrapper"><Icon icon={Add} /> Add</div>
            <div className="monday-storybook-search_inline-wrapper"><Icon icon={Filter} /> Filters</div>
            <div className="monday-storybook-search_inline-wrapper"><Icon icon={SearchIcon} /> Search</div>
          </div>
        </DialogContentContainer>,
        description:"Use a single search input per page/section."
      },
      negative: {
        component:
        <DialogContentContainer className="monday-storybook-search_wrapper">
          <Search placeholder="Search" />
          <div className="monday-storybook-search_column-wrapper">
            <div className="monday-storybook-search_inline-wrapper"><Icon icon={Add} /> Add</div>
            <div className="monday-storybook-search_inline-wrapper"><Icon icon={Filter} /> Filters</div>
            <div className="monday-storybook-search_inline-wrapper"><Icon icon={SearchIcon} /> Search</div>
          </div>
        </DialogContentContainer>,
        description:"Avoid using more than one search input field per page, which can confuse users."
      }
    }
  ]}
/>


## Use cases and examples
### Filter in combobox
<Canvas>
  <Story name="Filter in combobox">
    <DialogContentContainer className="monday-storybook-search_wrapper">
      <Search placeholder="Placeholder text here" />
      <div className="monday-storybook-search_item-box">
        <div>Cheese Cake</div>
        <div>Muffin</div>
        <div>Cookie</div>
        <div>Cup cake</div>
        <div>Banana lottie</div>
      </div>
    </DialogContentContainer>
  </Story>
</Canvas>

## Related components
<RelatedComponents componentsNames={[DROPDAWN, TEXT_FIELD, COMBOBOX]} /> 