import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import { createStoryMetaSettingsDecorator, Tip, AlphaWarning } from "../../../storybook";
import Flex from "../../Flex/Flex";
import { createComponentTemplate } from "vibe-storybook-components";
import Heading from "../Heading";
import { OVERFLOW_TITLE_CONTAINER_ID, ONE_LINE_ELLIPSIS_TEST_ID } from "../__tests__/heading-tests-constants";
import styles from "./Heading.stories.module.scss";
import { titleOverflowSuite } from "../__tests__/Heading.interactions";

export const metaSettings = createStoryMetaSettingsDecorator({
  component: Heading,
  enumPropNamesArray: ["types", "weights", "colors", { propName: "align", enumName: "align" }], // List enum props here
  iconPropNamesArray: [], // List props that are typed as icons here
  actionPropsArray: [] // List the component's actions here
});

<Meta title="Text/Title" component={Heading} argTypes={metaSettings.argTypes} decorators={metaSettings.decorators} />

<!--- Component template -->

export const textTemplate = createComponentTemplate(Heading);

# Title

<AlphaWarning />

<!--- Component documentation -->

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)
- [Do’s and don’ts](#dos-and-donts)
- [Use cases and examples](#use-cases-and-examples)
- [Related components](#related-components)
- [Feedback](#feedback)

## Overview

Title components are used to title any page sections or sub-sections in top-level page sections.

<Canvas>
  <Story name="Overview" args={{ children: "Title" }}>
    {textTemplate.bind({})}
  </Story>
</Canvas>

## Props

<ArgsTable story="Overview" />

## Usage

<UsageGuidelines guidelines={["Usage guideline 1", "Usage guideline 2", "Usage guideline 3"]} />

<Tip title="Not what you were looking for?">Tip content</Tip>

## Variants

### Types and weights

<Canvas>
  <Story name="Types and weights">
    <Flex
      gap={Flex.gaps.SMALL}
      direction={Flex.directions.COLUMN}
      justify={Flex.justify.START}
      align={Flex.align.START}
    >
      <Heading type={Heading.types.H1} weight={Heading.weights.BOLD}>
        Bold H1 title
      </Heading>
      <Heading type={Heading.types.H1} weight={Heading.weights.NORMAL}>
        Normal H1 title
      </Heading>
      <Heading type={Heading.types.H1} weight={Heading.weights.LIGHT}>
        Light H1 title
      </Heading>
      <Heading type={Heading.types.H2} weight={Heading.weights.BOLD}>
        Bold H2 title
      </Heading>
      <Heading type={Heading.types.H2} weight={Heading.weights.NORMAL}>
        Normal H2 title
      </Heading>
      <Heading type={Heading.types.H2} weight={Heading.weights.LIGHT}>
        Light H2 title
      </Heading>
      <Heading type={Heading.types.H3} weight={Heading.weights.BOLD}>
        Bold H3 title
      </Heading>
      <Heading type={Heading.types.H3} weight={Heading.weights.NORMAL}>
        Normal H3 title
      </Heading>
      <Heading type={Heading.types.H3} weight={Heading.weights.LIGHT}>
        Light H3 title
      </Heading>
    </Flex>
  </Story>
</Canvas>

### Colors

<Canvas>
  <Story name="Colors">
    <Flex direction={Flex.directions.COLUMN} align={Flex.align.START} gap={Flex.gaps.SMALL}>
      <Heading color={Heading.colors.PRIMARY}>Primary title</Heading>
      <Heading color={Heading.colors.SECONDARY}>Secondary title</Heading>
      <Heading
        element="div"
        className={styles.primaryBackground}
        align={Heading.align.CENTER}
        color={Heading.colors.ON_PRIMARY}
      >
        On primary title
      </Heading>
      <Heading
        element="div"
        className={styles.invertedBackground}
        align={Heading.align.CENTER}
        color={Heading.colors.ON_INVERTED}
      >
        On inverted title
      </Heading>
    </Flex>
  </Story>
</Canvas>

### Overflow

Our Text component support overflow state.
When the text is too long and the component includes an ellipsis flag, we will cut the end of the heading and display instead of it "...".

<Canvas>
  <Story name="Overflow" play={titleOverflowSuite}>
    <Flex
      id={OVERFLOW_TITLE_CONTAINER_ID}
      direction={Flex.directions.COLUMN}
      gap={Flex.gaps.MEDIUM}
      align={Flex.align.STRETCH}
      style={{ width: "70%" }}
    >
      <Heading ellipsis={false}>
        Title without overflow title without overflow title without overflow title without overflow title without
        overflow title without overflow title without overflow
      </Heading>
      <Heading
        ellipsis
        /**for testing purposes**/
        data-testid={ONE_LINE_ELLIPSIS_TEST_ID}
        tooltipProps={{
          containerSelector: `#${OVERFLOW_TITLE_CONTAINER_ID}`
        }}
      >
        Title with overflow title with overflow title with overflow title with overflow title with overflow title with
        overflow title with overflow title with overflow title with overflow title with overflow
      </Heading>
      <div>
        <Heading ellipsis withoutTooltip maxLines={2}>
          Title with overflow title with overflow title with overflow title with overflow title with overflow title with
          overflow title with overflow title with overflow title with overflow title with overflow title with overflow
          title with overflow title with overflow title with overflow title with overflow title with overflow
        </Heading>
      </div>
    </Flex>
  </Story>
</Canvas>

## Related components

<RelatedComponents componentsNames={[]} />
