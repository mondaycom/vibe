import EditableText from "../EditableText";
import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import { createStoryMetaSettingsDecorator } from "../../../storybook";
import { createComponentTemplate } from "vibe-storybook-components";
import { overviewPlaySuite } from "../__tests__/EditableText-interactions";
import {
  TEXT,
  HEADING,
  EDITABLE_HEADING
} from "../../../storybook/components/related-components/component-description-map";

export const metaSettings = createStoryMetaSettingsDecorator({
  component: EditableText,
  enumPropNamesArray: ["weight", "type"],
  actionPropsArray: ["onChange"]
});

<Meta
  title="Inputs/EditableText"
  component={EditableText}
  argTypes={metaSettings.argTypes}
  decorators={metaSettings.decorators}
/>

export const EditableTextTemplate = createComponentTemplate(EditableText);

# EditableText

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)
- [Related components](#related-components)
- [Feedback](#feedback)

## Overview

An extension of the <Link href="/?path=/docs/text-text--overview" withoutSpacing>Text</Link> component with built in editing capabilities.

<Canvas>
  <Story
    name="Overview"
    args={{
      value: "This text is an editable text",
      type: EditableText.types.H1
    }}
    play={overviewPlaySuite}
  >
    {EditableTextTemplate.bind({})}
  </Story>
</Canvas>

## Props

<ArgsTable story="Overview" />

## Usage

<UsageGuidelines
  guidelines={[
    "Use when the text is editable and you want to edit it",
    "The component takes 100% of width and height of its container"
  ]}
/>

## Variants

### Text types

<Canvas>
  <Story name="Types">
    <EditableText type={EditableText.types.H1} value="Text1" />
    <EditableText type={EditableText.types.H2} value="Text2" />
  </Story>
</Canvas>

## Related components

<RelatedComponents componentsNames={[TEXT, HEADING, EDITABLE_HEADING]} />
