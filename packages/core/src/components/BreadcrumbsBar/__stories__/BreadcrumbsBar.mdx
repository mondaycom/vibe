import { Meta } from "@storybook/blocks";
import BreadcrumbsBar from "../BreadcrumbsBar";
import BreadcrumbItem from "../BreadcrumbItem/BreadcrumbItem.tsx";
import Avatar from "../../Avatar/Avatar";
import Text from "../../Text/Text";
import DialogContentContainer from "../../DialogContentContainer/DialogContentContainer";
import { Board, Folder, Group, Workspace } from "@vibe/icons";
import person3 from "./assets/person3.png";
import do1 from "./assets/do1.png";
import dont1 from "./assets/dont1.png";
import { TipCheckYourself } from "./BreadcrumbsBar.stories.helpers";
import * as BreadcrumbsBarStories from "./BreadcrumbsBar.stories";
import styles from "./BreadcrumbsBar.stories.module.scss";

<Meta of={BreadcrumbsBarStories} />

# BreadcrumbsBar

Breadcrumbs allow users to keep track and maintain awareness of their location as they navigate through pages, folders, files, etc.

<Canvas of={BreadcrumbsBarStories.Overview} />

### Import

```js
import { BreadcrumbsBar } from "@vibe/core";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Breadcrumbs show users their current location relative to the information architecture and enable them to quickly move up to a parent level or previous step",
    "Effective in a hierarchy of more than two levels.",
    "Start with the highest level parent page and move deeper into the information architecture as the breadcrumb trail progresses.",
    "Use breadcrumbs when the user is most likely to have landed on the page from an external source.",
    "Place breadcrumbs at the top left corner of the screen, above the page title."
  ]}
/>

## Accessibility

<UsageGuidelines
  guidelines={[
    <>
      Use the <code>type="navigation"</code> prop when breadcrumbs are clickable for navigation. This automatically
      enables keyboard navigation and proper button/link semantics.
    </>,
    <>
      For clickable breadcrumbs, ensure all items have descriptive <code>text</code> props that clearly indicate what
      section or page they represent.
    </>,
    <>
      When using icons in breadcrumbs, ensure they are purely decorative and don't replace the descriptive text, as
      screen readers will announce the text content.
    </>,
    <>
      Use the <code>isCurrent</code> prop on BreadcrumbItem to mark the current page. This ensures screen readers
      understand the user's current location in the navigation hierarchy.
    </>
  ]}
/>
<TipCheckYourself />

## Variants

### Text only

<Canvas of={BreadcrumbsBarStories.TextOnly} />

### With icons

<Canvas of={BreadcrumbsBarStories.WithIcons} />

### With Breadcrumb Menu

<Canvas of={BreadcrumbsBarStories.WithBreadcrumbMenu} />

## Do’s and Don’ts

<ComponentRules
  rules={[
    {
      positive: {
        component: <img src={do1} alt="do1" style={{ width: "250px" }} />,
        description:
          "Show the current step as the last item when using overflow behavior, and use only if content is overflowing and not as an aesthetic action."
      },
      negative: {
        component: <img src={dont1} alt="dont1" style={{ width: "120px" }} />,
        description:
          "overflow on the last item causes disorientation. Moreover using overflow on individual items prevent the user of essential information unnecessarily.."
      }
    },
    {
      positive: {
        component: (
          <BreadcrumbsBar type="navigation">
            <BreadcrumbItem text="Workspace" icon={Workspace} isCurrent />
            <BreadcrumbItem text="Folder" icon={Folder} />
            <BreadcrumbItem text="Board" icon={Board} />
            <BreadcrumbItem text="Group" icon={Group} />
          </BreadcrumbsBar>
        ),
        description: "If there’s a need to insert an icon, use for all items."
      },
      negative: {
        component: (
          <BreadcrumbsBar type="navigation">
            <BreadcrumbItem text="Workspace" icon={Workspace} isCurrent />
            <BreadcrumbItem text="Folder" />
            <BreadcrumbItem text="Board" />
            <BreadcrumbItem text="Group" />
          </BreadcrumbsBar>
        ),
        description: "Don’t use icons if not applied to all steps."
      }
    },
    {
      positive: {
        component: (
          <DialogContentContainer
            style={{
              display: "flex",
              alignItems: "center",
              gap: "var(--space-12)"
            }}
          >
            <Avatar size="medium" src={person3} type="img" />
            <div className={styles.list}>
              <Text type="text1" weight="medium">
                Rotem Dekel
              </Text>
              <BreadcrumbsBar type="navigation">
                <BreadcrumbItem text="User research" icon={Board} />
                <BreadcrumbItem text="Video sessions" icon={Group} />
              </BreadcrumbsBar>
            </div>
          </DialogContentContainer>
        ),
        description: "Use breadcrumbs when there is more than two levels of hierarchy."
      },
      negative: {
        component: (
          <DialogContentContainer
            style={{
              display: "flex",
              alignItems: "center",
              gap: "var(--space-12)"
            }}
          >
            <Avatar size="medium" src={person3} type="img" />
            <div className={styles.list}>
              <Text type="text1" weight="medium">
                Rotem Dekel
              </Text>
              <BreadcrumbsBar type="navigation">
                <BreadcrumbItem text="User research" icon={Board} />
              </BreadcrumbsBar>
            </div>
          </DialogContentContainer>
        ),
        description: "Don’t use breadcrumbs when there is only one level of navigation or hierachy."
      }
    }
  ]}
/>

## Use cases and examples

### Navigatable breadcrumbs

Use when breadcrumbs are clickable and are used for information and navigation

<Canvas of={BreadcrumbsBarStories.NavigatableBreadcrumbs} />

## Related components

<RelatedComponents componentsNames={["ButtonGroup", "MultiStepIndicator", "Tabs"]} />
