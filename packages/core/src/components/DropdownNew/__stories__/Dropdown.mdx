import { Meta } from "@storybook/blocks";
import { Link, Tip } from "vibe-storybook-components";
import {
  COMBOBOX,
  MENU,
  SPLIT_BUTTON
} from "../../../storybook/components/related-components/component-description-map";
import { Dropdown } from "../index";
import * as DropdownStories from "./Dropdown.stories";
import do1 from "./assets/do1.png";
import dont1 from "./assets/dont1.png";

<Meta of={DropdownStories} />

# Dropdown

Dropdown present a list of options from which a user can select one or several.

<br />

<AlphaWarning />

<br />

<Tip title="Migration Guide Available" emoji="ðŸš€">
  Migrating from the old Dropdown? Check out our comprehensive{" "}
  <Link href="/?path=/docs/components-dropdown-alpha-migration-guide--docs">Dropdown Migration Guide</Link> for
  step-by-step instructions, breaking changes, and new features.
</Tip>

<Canvas of={DropdownStories.Overview} />

### Import

```js
import { Dropdown } from "@vibe/core/next";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Dropdown menus are typically used when you have 5-8 items to choose from. They're used for navigation or command menus, where an action is initiated based on the selection.",
    "Use a consistent size of form components on the same page. For example, if you are using a medium size dropdown also use the same size text inputs, buttons, and so on.",
    "Avoid having multiple lines of text in a dropdown. If the text is too long for one line, add an ellipsis (â€¦).",
    "When the menu is open, each option in the menu should be the same height as the field.",
    "When organizing dropdown menu items, sort the list in a logical order by putting the most selected option at the top."
  ]}
/>

## Variants

### Sizes

There are three sizes available: Small, Medium, and Large

<Canvas of={DropdownStories.Sizes} />

### States

<Canvas of={DropdownStories.States} />

### Multi-select

The Dropdown component supports multi select option that display as chips. The selected items can be shown in either a single line (with additional option for hidden list), or multiple line. This mode also supports all standard dropdown states.

<Canvas of={DropdownStories.MultiSelect} />

### Dropdown with icon or avatar

<Canvas of={DropdownStories.DropdownWithIconOrAvatar} />

## Doâ€™s and Donâ€™ts

<ComponentRules
  rules={[
    {
      positive: {
        component: <img src={do1} alt="do1" style={{ width: "300px" }} />,
        description:
          "Use the dropdown as a closed component. Users should normally be allowed only to click on the items; search is not recommended, though possible."
      },
      negative: {
        component: <img src={dont1} alt="dont1" style={{ width: "200px" }} />,
        description: (
          <>
            Don't keep the dropdown component in open mode as permanent state. If this is a design requirement consider
            use <StorybookLink page="Components/Combobox">Combo box</StorybookLink> instead.
          </>
        )
      }
    }
  ]}
/>

## Use cases and examples

### Searchable dropdown

The dropdown can also function as a search for a specific item within the list.

<Canvas of={DropdownStories.Searchable} />

### Dropdown with groups

Dropdown menu can be organized into groups, either with titled sections or dividers. Group titles can be configured to remain sticky or non-sticky.

<Canvas of={DropdownStories.DropdownWithGroups} />

### Dropdown item with elements

The dropdown item can contain start element or end element. This are the options:

<Canvas of={DropdownStories.DropdownItemWithElements} />

### Hide selected items

You can choose to hide selected items within the dropdown list, so users can see only the available options.

<Canvas of={DropdownStories.DropdownShowSelectedItems} />

### Dropdown with tooltips

<Canvas of={DropdownStories.DropdownWithTooltips} />

## Related components

<RelatedComponents componentsNames={[COMBOBOX, SPLIT_BUTTON, MENU]} />
