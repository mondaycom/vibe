import { Meta } from "@storybook/blocks";
import {
  COMBOBOX,
  MENU,
  SPLIT_BUTTON
} from "../../../storybook/components/related-components/component-description-map";
import { Dropdown } from "../../index";
import * as DropdownStories from "./Dropdown.stories";
import { TipDevTipPopover } from "./Dropdown.stories.helpers";

<Meta of={DropdownStories} />

# Dropdown New

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)
- [Do’s and don’ts](#dos-and-donts)
- [Use cases and examples](#use-cases-and-examples)
- [Related components](#related-components)
- [Feedback](#feedback)

## Overview

Dropdown present a list of options from which a user can select one or several.

<Canvas of={DropdownStories.Overview} />

### Import

```js
import { Dropdown } from "@vibe/core";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Dropdown menus are typically used when you have 5-8 items to choose from. They're used for navigation or command menus, where an action is initiated based on the selection.",
    "Use a consistent size of form components on the same page. For example, if you are using a medium size dropdown also use the same size text inputs, buttons, and so on.",
    "Avoid having multiple lines of text in a dropdown. If the text is too long for one line, add an ellipsis (…).",
    "When the menu is open, each option in the menu should be the same height as the field.",
    "When organizing dropdown menu items, sort the list in a logical order by putting the most selected option at the top."
  ]}
/>

## Variants

### Sizes

There are three sizes available: Small, Medium, and Large

<Canvas of={DropdownStories.Sizes} />

### States

<Canvas of={DropdownStories.States} />

### Multi-select

The Dropdown component supports multi select option that display as chips. The selected items can be shown in either a single line (with additional option for hidden list), or multiple line. This mode also supports all standard dropdown states.

<Canvas of={DropdownStories.MultiSelect} />

### Dropdown with icon or avatar

<Canvas of={DropdownStories.DropdownWithIconOrAvatar} />

## Do’s and Don’ts

<ComponentRules
  rules={[
    {
      positive: {
        component: (
          <div style={{ width: "300px" }}>
            <Dropdown
              placeholder="Placeholder text here"
              options={[
                { value: 1, label: "Option 1" },
                { value: 2, label: "Option 2" },
                { value: 3, label: "Option 3" }
              ]}
              className="dropdown-stories-styles_rules-spacing"
            />
          </div>
        ),
        description:
          "Use the dropdown as a closed component. Users should normally be allowed only to click on the items; search is not recommended, though possible."
      },
      negative: {
        component: (
          <div style={{ width: "300px" }}>
            <Dropdown
              menuIsOpen
              placeholder="Placeholder text here"
              options={[
                { value: 1, label: "Option 1" },
                { value: 2, label: "Option 2" },
                { value: 3, label: "Option 3" }
              ]}
              className="dropdown-stories-styles_rules-spacing"
            />
          </div>
        ),
        description: (
          <>
            Don't keep the dropdown component in open mode as permanent state. If this is a design requirement consider
            use <StorybookLink page="Components/Combobox">Combo box</StorybookLink> instead.
          </>
        )
      }
    }
  ]}
/>

## Use cases and examples

### Searchable dropdown

The dropdown can also function as a search for a specific item within the list.

<Canvas of={DropdownStories.Searchable} />

### Dropdown with groups

Dropdown menu can be organized into groups, either with titled sections or dividers. Group titles can be configured to remain sticky or non-sticky.

<Canvas of={DropdownStories.DropdownWithGroups} />

### Dropdown item with elements

The dropdown item can contain start element or end element. This are the options:

<Canvas of={DropdownStories.DropdownItemWithElements} />

### Show selected items

You can choose to display selected items within the dropdown list, so users can easily see both available and already-selected options in one view.

<Canvas of={DropdownStories.DropdownShowSelectedItems} />

### Dropdown with tooltips

<Canvas of={DropdownStories.DropdownWithTooltips} />

## Related components

<RelatedComponents componentsNames={[COMBOBOX, SPLIT_BUTTON, MENU]} />
