import { Meta } from "@storybook/blocks";
import TextArea from "../TextArea";
import * as TextAreaStories from "./TextArea.stories";
import doImage from "./assets/do.svg";
import dontImage from "./assets/dont.svg";

<Meta of={TextAreaStories} />

# TextArea

A field that allows users to write multiple lines of text. Text area includes a label and a field that users can type into. It can also come with helper text.

<Canvas of={TextAreaStories.Overview} />

### Import

```js
import { TextArea } from "@vibe/core";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Use text area to allow users to write multiple lines of text, usually for comments or descriptions.",
    "Placeholders should only be used when necessary."
  ]}
/>

## Accessibility

<UsageGuidelines
  guidelines={[
    <>
      Using an <code>id</code> is highly recommended for all instances to ensure the best accessibility.
    </>,
    <>
      Always provide a visible <code>label</code> to ensure the textarea's purpose is clear to all users.
    </>,
    <>
      When using <code>label</code> or <code>helpText</code>, you must also provide an <code>id</code>. This is crucial,
      as it allows screen readers to correctly associate the textarea with its label and description.
    </>,
    <>
      For required fields, use the <code>required</code> prop to ensure proper screen reader announcements and native
      browser validation.
    </>,
    <>
      Provide descriptive error messages using the <code>error</code> prop with <code>helpText</code> to help users
      understand and correct validation issues.
    </>,
    <>
      The component automatically sets <code>aria-invalid</code> when validation fails, including when character count
      exceeds <code>maxLength</code>.
    </>,
    <>
      Character counting with <code>showCharCount</code> automatically provides accessibility labels for screen readers.
    </>,
    <>
      Use the <code>aria-label</code> prop when a visible label is not desired but accessibility support is still
      needed.
    </>,
    <>
      The component automatically handles <code>aria-describedby</code> attributes for help text and character limit
      information when applicable.
    </>
  ]}
/>

## Variants

### Sizes

There are two sizes available: small and large.

<Canvas of={TextAreaStories.Sizes} />

### States

Text areas have all the same states as text fields.

<Canvas of={TextAreaStories.States} />

### Validation

If a required text area is left empty, use validation text to give feedback to users. The validation error state should appear after users try to submit a form.

<Canvas of={TextAreaStories.Validation} />

## Do's and Don'ts

<ComponentRules
  rules={[
    {
      positive: {
        component: <img src={doImage} />,
        description: "Use text area if you want to ask an open question. Make sure the question is short and clear."
      },
      negative: {
        component: <img src={dontImage} />,
        description: "Don't use a text area if you want short and specific info - use a text field instead. "
      }
    }
  ]}
/>

## Related components

<RelatedComponents componentsNames={["TextField", "Dropdown", "Search"]} />
