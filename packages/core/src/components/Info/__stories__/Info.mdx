import { Meta } from "@storybook/blocks";
import { Frame, ComponentRules, UsageGuidelines } from "vibe-storybook-components";
import {
  ALERT_BANNER,
  TOOLTIP,
  TIPSEEN
} from "../../../storybook/components/related-components/component-description-map";
import * as InfoStories from "./Info.stories";
import do1 from "./assets/do1.png";
import do2 from "./assets/do2.png";
import dont1 from "./assets/dont1.png";
import dont2 from "./assets/dont2.png";
import usecaseboard from "./assets/usecaseboard.png";
import usecasecolumn from "./assets/usecasecolumn.png";
import styles from "./Info.stories.module.scss";

<Meta of={InfoStories} />

# Info

An info component is a contextual container that provides supplemental information to help users understand related content

## Import path

```tsx
import { Info } from "@vibe/core";
```

## Overview

<Canvas of={InfoStories.Overview} />

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Use to provide supplemental or explanatory context that supports, but is not essential to, task completion.",
    "Keep content informational, not instructional - avoid critical actions or blocking messages.",
    "Prefer when tooltips are too limited or the explanation requires paragraph-like text.",
    "Keep the message concise and scannable, linking out if more detail is needed."
  ]}
/>

## Accessibility

<UsageGuidelines
  guidelines={[
    <>
      Provide an <code>id</code> for the Info component to enable proper accessibility associations and unique
      identification.
    </>,
    <>
      You should provide an accessible name using the <code>aria-label</code> prop to describe the purpose of the info
      button (e.g., "More information about this feature").
    </>,
    <>
      Use <code>aria-labelledby</code> prop when an external element provides the accessible name for the info button.
      Pass the <code>id</code> of that external element (instead of using <code>aria-label</code>).
    </>,
    <>
      The component automatically manages <code>aria-controls</code>, <code>aria-haspopup="dialog"</code>, and{" "}
      <code>aria-expanded</code> attributes to indicate the relationship with the dialog and its current state.
    </>,
    <>
      Focus management is handled automatically - when the dialog opens, focus moves to the content, and when closed
      with Escape, focus returns to the info button.
    </>
  ]}
/>

## Variants

### Directions

Info component dialog can appear from top, bottom, left or right.

<Canvas of={InfoStories.Directions} />

## Do's and Don'ts

<ComponentRules
  rules={[
    {
      componentContainerClassName: styles.largeComponentRule,
      positive: {
        component: <img src={do1} alt="Info component with contextual information" style={{ maxWidth: "100%" }} />,
        description: "Place Info component in location with context"
      },
      negative: {
        component: <img src={dont1} alt="Info component without proper context" style={{ maxWidth: "100%" }} />,
        description: "Place it in an location without context"
      }
    },
    {
      className: styles.container,
      componentContainerClassName: styles.largeComponentRule,
      positive: {
        component: <img src={do2} alt="Info component used for supportive content" style={{ maxWidth: "100%" }} />,
        description: "Use when the supporting text is longer than a few words and requires more context"
      },
      negative: {
        component: (
          <img
            src={dont2}
            alt="Info component misused for brief content"
            className={styles.small}
            style={{ maxWidth: "100%" }}
          />
        ),
        description:
          "Use when the supporting text is brief and can be explained in just a few words. Use a tooltip instead."
      }
    }
  ]}
/>

## Use cases and examples

### In board header

Used for header description

<Frame className={styles.useCase}>
  <img src={usecaseboard} alt="Info component used in board header for description" />
</Frame>

### In board column

Used for column description

<Frame className={styles.useCase}>
  <img src={usecasecolumn} alt="Info component used in board column for description" />
</Frame>

## Related Components

<RelatedComponents componentsNames={[ALERT_BANNER, TOOLTIP, TIPSEEN]} />
