import { Meta } from "@storybook/blocks";
import TextField from "../TextField";
import { ComponentRules, UsageGuidelines } from "vibe-storybook-components";
import * as TextFieldStories from "./TextField.stories";

<Meta of={TextFieldStories} />

# TextField

An input field includes a label and a text field users can type text into. They typically appear in forms and dialogs.

<Canvas of={TextFieldStories.Overview} />

### Import

```js
import { TextField } from "@vibe/core";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Always use placeholder in input field",
    "Icons can be used to message alerts as well. Pair them with error messages to provide redundant alerts.",
    "Character or word counters should be used if there is a character or word limit."
  ]}
/>

## Accessibility

<UsageGuidelines
  guidelines={[
    <>
      Using an <code>id</code> is highly recommended for all instances to ensure the best accessibility.
    </>,
    <>
      Always provide a visible <code>title</code> or an <code>inputAriaLabel</code> to ensure the input's purpose is
      clear to all users.
    </>,
    <>
      When using <code>title</code> or validation text, you must also provide an <code>id</code>. This is crucial, as it
      allows screen readers to correctly associate the input with its label and description.
    </>,
    <>
      For required fields, use the <code>required</code> prop to ensure proper screen reader announcements and native
      browser validation.
    </>,
    <>
      Provide descriptive error messages using <code>validation</code> prop with status 'error' to help users understand
      and correct validation issues.
    </>,
    <>
      When using icons, provide meaningful labels through <code>iconsNames.primary</code> and{" "}
      <code>iconsNames.secondary</code> props for screen reader users.
    </>,
    <>
      For search inputs, use <code>type='search'</code> and provide <code>searchResultsContainerId</code> to properly
      associate with search results.
    </>,
    <>
      Character counting with <code>showCharCount</code> automatically provides accessibility labels for screen readers.
    </>
  ]}
/>

## Variants

### Sizes

There are three sizes available: Small (32px), Medium (40px) and Large (48px).

<Canvas of={TextFieldStories.Sizes} />

### States

<Canvas of={TextFieldStories.States} />

### Validation

Use validation to give feedback to the user for a case where he has provided an invalid input. The validation error should appear when the user is done typing and getting out of the input’s focus.

<code>The validation object has two status states - error, success</code>

<Canvas of={TextFieldStories.Validation} />

## Do’s and Don’ts

<ComponentRules
  rules={[
    {
      positive: {
        component: (
          <div style={{ width: 300 }}>
            <TextField title="Email" placeholder="email@monday.com" size="medium" />
          </div>
        ),
        description:
          "Make sure your text field has a short, descriptive label above it that describes what the user should type into the box below."
      },
      negative: {
        component: (
          <div style={{ width: 300 }}>
            <TextField title="What is your email address?" placeholder="email@monday.com" size="medium" />
          </div>
        ),
        description:
          "Avoid phrasing your labels as questions. Keep in mind that your label shouldn’t contain instructions. Reserve those for the helper text."
      }
    },
    {
      positive: {
        component: (
          <div style={{ width: 300 }}>
            <TextField title="Email" placeholder="email@monday.com" size="medium" />
          </div>
        ),
        description:
          "Use the help text description to convey requirements or to show any formatting examples that would help user comprehension."
      },
      negative: {
        component: (
          <div style={{ width: 300 }}>
            <TextField title="Email" placeholder="email@monday.com" size="medium" />
            For example: email@monday.com
          </div>
        ),
        description:
          "Avoid repeating the field label. If the field label provides sufficient context for completing the action, then you likely don’t need to add help text."
      }
    }
  ]}
/>

## Use cases and examples

### Text field in a form

Users can insert text.

<Canvas of={TextFieldStories.TextFieldInAForm} />

### Input field with placeholder text

<Canvas of={TextFieldStories.InputFieldWithPlaceholderText} />

### Required input field

<Canvas of={TextFieldStories.RequiredInputField} />

### Input field with date

<Canvas of={TextFieldStories.InputFieldWithDate} />

### Input field with datetime

<Canvas of={TextFieldStories.InputFieldWithDateAndTime} />

## Related components

<RelatedComponents componentsNames={["Dropdown", "Search", "Combobox"]} />
