import { Meta } from "@storybook/blocks";
import AttentionBox from "../AttentionBox";
import { Link } from "vibe-storybook-components";
import { Info } from "@vibe/icons";
import {
  ALERT_BANNER,
  TOAST,
  TOOLTIP
} from "../../../storybook/components/related-components/component-description-map";
import Flex from "../../Flex/Flex";
import AttentionBoxLink from "../AttentionBoxLink/AttentionBoxLink";
import { TipCheckYourself } from "./AttentionBox.stories.helpers";
import * as AttentionBoxStories from "./AttentionBox.stories";
import { Heading } from "../../Heading";
import Text from "../../Text/Text";

<Meta of={AttentionBoxStories} />

# Attention Box

Attention box lets users know important information within content areas, as close as possible to the content it’s about. An optional smooth entrance animation can be used to enhance visibility.

<Canvas of={AttentionBoxStories.Overview} />

### Import

```js
import { AttentionBox, AttentionBoxLink } from "@vibe/core";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Use attention box if there is crucial information for user to finish or be acknowledged about a task.",
    "Attention box do not dismiss automatically. They persist on the page until the user dismisses them or takes action that resolves the notification.",
    "The width of attention box is based on content and layout. They can expand to the fill the container or content area they relate to."
  ]}
/>

<TipCheckYourself />

## Accessibility

<UsageGuidelines
  guidelines={[
    <>
      Always provide clear, descriptive <code>title</code> and <code>text</code> content. The title should be concise
      and the text should provide actionable information that helps users understand what they need to do.
    </>,
    <>
      For dismissible AttentionBoxes, use the <code>closeButtonAriaLabel</code> prop to provide a descriptive accessible
      name for the close button.
    </>
  ]}
/>

## Variants

### States

There are five types of attention boxes: Primary, success, danger, warning and dark (natural).

<Canvas of={AttentionBoxStories.States} />

### Attention box with link

<Canvas of={AttentionBoxStories.AttentionBoxWithLink} />

### Dismissable

<Canvas of={AttentionBoxStories.Dismissable} />

## Do’s and Don’ts

<ComponentRules
  rules={[
    {
      positive: {
        component: (
          <div style={{ width: "340px" }}>
            <AttentionBox
              title="Attention box title"
              text="Studies show that 100% of people who celebrate birthdays, will eventually die."
            />
          </div>
        ),
        description: "Provide a short and brief title, and explanation related to the title."
      },
      negative: {
        component: <AttentionBox title="Attention box title" />,
        description: "Don’t use only a title to explain something."
      }
    },
    {
      positive: {
        component: (
          <div>
            <Heading type="h2" weight="bold">
              Inbox
            </Heading>
            <Text style={{ margin: "0 0 10px" }}>Catch up on updates from all your boards.</Text>
            <AttentionBox compact icon={Info}>
              <Flex style={{ width: "400px" }} justify="space-between">
                Get your monday.com notifications <AttentionBoxLink href="" text="Learn more" />
              </Flex>
            </AttentionBox>
          </div>
        ),
        description:
          "Use when you are speaking directly to a piece of content and the notification can be positioned close to the content."
      },
      negative: {
        component: (
          <div>
            <Heading type="h2" weight="bold">
              Inbox
            </Heading>
            <Text style={{ margin: "0 0 10px" }}>Catch up on updates from all your boards.</Text>
            <AttentionBox compact icon={Info}>
              <Flex style={{ width: "400px" }} justify="space-between">
                7 days left on your free trial <AttentionBoxLink href="" text="Learn more" />
              </Flex>
            </AttentionBox>
          </div>
        ),
        description: (
          <>
            Don’t use when a message applies at a system level, does not apply to a specific piece of content, or needs
            to alert all users. On those cases, use{" "}
            <StorybookLink page="Components/AlertBanner">Alert banner.</StorybookLink>
          </>
        )
      }
    }
  ]}
/>

## Use cases and examples

### Natural Attention box

Provides additional information about an action or section.

<Canvas of={AttentionBoxStories.NaturalAttentionBox} />

### Attention box inside a dialog/combobox

Provides contextual and related information.

<Canvas of={AttentionBoxStories.AttentionBoxInsideADialogCombobox} />

### Animation

The Attention box component consist of enter animation prop to increase user attention. Is highly recommended to use a 200ms delay before the attention box entry motion once the page is fully loaded.

<Canvas of={AttentionBoxStories.AttentionBoxAnimation} />

## Related components

<RelatedComponents componentsNames={[ALERT_BANNER, TOAST, TOOLTIP]} />
