import { Meta } from "@storybook/blocks";
import * as DropdownBasicDropdownStories from "./DropdownBasicDropdown.stories";
import basicSelectDo1 from "./assets/basicSelectDo1.png";
import basicSelectDont1 from "./assets/basicSelectDont1.png";
import basicSelectDo2 from "./assets/basicSelectDo2.png";
import basicSelectDont2 from "./assets/basicSelectDont2.png";
import dont1 from "./assets/dont1.png";
import { StorybookLink } from "vibe-storybook-components";

<Meta of={DropdownBasicDropdownStories} />

# Basic Dropdown

The basic dropdown is intended for quick value selection when space is limited and the list of options doesn't need to remain visible. It typically is used when you have 5-8 items to choose from where an action is initiated based on the selection.

<Canvas of={DropdownBasicDropdownStories.Overview} />

### Import

```js
import { Dropdown } from "@vibe/core";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Dropdown is typically used when you have 5-8 items to choose from. They are used for navigation or command menus, where an action is initiated based on the selection.",
    "Use a consistent size of form components on the same page. For example, if you are using a medium size dropdown also use the same size text inputs, buttons, and so on.",
    "Avoid having multiple lines of text in a dropdown. If the text is too long for one line, add an ellipsis (â€¦).",
    "When the menu is open, each option in the menu should be the same height as the field.",
    "When organizing dropdown menu items, sort the list in a logical order by putting the most selected option at the top."
  ]}
/>

## Accessibility

<UsageGuidelines
  guidelines={[
    <>
      Using an <code>id</code> is highly recommended for all instances to ensure proper label association.
    </>,
    <>
      Always provide a <code>label</code> prop to ensure the dropdown's purpose is clear to all users.
    </>,
    <>
      Use <code>ariaLabel</code> prop when you need to provide a custom accessible name for the dropdown.
    </>,
    <>
      Use <code>clearAriaLabel</code> prop when dropdown is clearable.
    </>,
    <>
      Use <code>inputAriaLabel</code> prop when you need to provide a specific accessible name for the input field in
      searchable dropdowns.
    </>,
    <>
      Use <code>menuAriaLabel</code> prop when you need to provide a custom accessible name for the dropdown menu.
    </>,
    <>
      Use <code>autoFocus</code> prop when the dropdown should receive initial focus for keyboard navigation.
    </>
  ]}
/>

## Variants

### Sizes

There are three sizes available: Small, Medium, and Large

<Canvas of={DropdownBasicDropdownStories.Sizes} />

### States

<Canvas of={DropdownBasicDropdownStories.States} />

### Multi select

The Dropdown component supports multi select option that display as chips. The selected items can be shown in either a single line (with additional option for hidden list), or multiple line. This mode also supports all standard dropdown states.

<Canvas of={DropdownBasicDropdownStories.MultiSelect} />

### Dropdown with icon or avatar

<Canvas of={DropdownBasicDropdownStories.DropdownWithIconOrAvatar} />

## Do's and Don'ts

<ComponentRules
  rules={[
    {
      positive: {
        component: <img src={basicSelectDo1} alt="do1" style={{ width: "300px" }} />,
        description: "Use the searchable option when having a long list of options."
      },
      negative: {
        component: <img src={basicSelectDont1} alt="dont1" style={{ width: "300px" }} />,
        description: <>Use a searchable select when the list is short. Use the select as is.</>
      }
    },
    {
      positive: {
        component: <img src={basicSelectDo2} alt="do2" style={{ width: "300px" }} />,
        description:
          "Use the select as a closed component. Users should normally be allowed only to click on the items; search is not recommended, though possible."
      },
      negative: {
        component: <img src={basicSelectDont2} alt="dont2" style={{ width: "300px" }} />,
        description: (
          <>
            Keep the select component in open mode as permanent state. If this is a design requirement consider use the
            box mode instead <StorybookLink page="Components/Dropdown">box mode</StorybookLink> instead.
          </>
        )
      }
    }
  ]}
/>

## Use cases and examples

### Searchable dropdown

The dropdown can also function as a search for a specific item within the list.

<Canvas of={DropdownBasicDropdownStories.Searchable} />

### Dropdown with groups

Dropdown can be organized into groups, either with titled sections or dividers. Group titles can be configured to remain sticky or non-sticky.

<Canvas of={DropdownBasicDropdownStories.DropdownWithGroups} />

### Dropdown with elements

The dropdown item can contain start element or end element. This are the options:

<Canvas of={DropdownBasicDropdownStories.DropdownItemWithElements} />

### Hide selected items

You can choose to hide selected items within the dropdown list, so users can see only the available options.

<Canvas of={DropdownBasicDropdownStories.DropdownHideSelectedItems} />

### Dropdown with tooltips

<Canvas of={DropdownBasicDropdownStories.DropdownWithTooltips} />

### Dropdown with virtualization

For performance optimization with large datasets, the Dropdown supports virtualization through the menuRenderer prop. You can integrate any virtualization library of your choice - this example demonstrates implementation using <a href="https://github.com/bvaughn/react-window" target="_blank">react-window</a>.

<Canvas of={DropdownBasicDropdownStories.DropdownWithVirtualization} />

## Related components

<RelatedComponents componentsNames={["DropdownBoxMode", "Combobox", "Menu"]} />
