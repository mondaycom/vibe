import { Loader, Flex, Heading } from "@vibe/core";
import { Meta } from "@storybook/blocks";
import { ComponentRules, UsageGuidelines, Tip } from "vibe-storybook-components";
import { TipSkeleton } from "./Loader.stories.helpers";
import * as LoaderStories from "./Loader.stories";

<Meta of={LoaderStories} />

# Loader

Circular loader indicates to user waiting state.

<Canvas of={LoaderStories.Overview} />

### Import

```js
import { Loader } from "@vibe/core";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Use this loader to load small parts of the system, not the whole pages.",
    "Use sizes of loader in context to its position. The bigger the loading area gets, the bigger loader should be used.",
    "Always place loader in context to the loading content."
  ]}
/>

<TipSkeleton />

## Variants

### Size variants

<Canvas of={LoaderStories.SizeVariants} />

### Color variants

<Canvas of={LoaderStories.ColorVariants} />

### Custom colors

If there is a need for color customization, css `color` attribute of a parent component can be used.

<Canvas of={LoaderStories.CustomColors} />

### Visual variants

<Canvas of={LoaderStories.VisualVariants} />

## Do’s and Don’ts

<ComponentRules
  rules={[
    {
      positive: {
        component: (
          <Flex direction="row" gap="medium">
            <Heading>H1 heading component</Heading>
            <Loader size="small" hasBackground />
          </Flex>
        ),
        description: "Place loader in context to the loading content and keep its size proportional to the content."
      },
      negative: {
        component: (
          <Flex direction="row" gap="medium">
            <Heading>H1 heading component</Heading>
            <Loader size="large" hasBackground />
          </Flex>
        ),
        description: "Don’t leave the size visually unmaintained."
      }
    }
  ]}
/>

## Use cases and examples

### Loader in text field

Use loader in search field while filtering results.

<Canvas of={LoaderStories.LoaderInTextField} />

### Loader in button

Indicate the loading status in button if content or an action is loading.

<Canvas of={LoaderStories.LoaderInButton} />

## Related components

<RelatedComponents componentsNames={["Skeleton", "ProgressBar", "Button"]} />
