import { Meta, Canvas } from "@storybook/blocks";
import { Board, Add, Filter } from "@vibe/icons";
import { List, ListItem } from "@vibe/core/next";
import { DialogContentContainer, Divider, Flex } from "@vibe/core";
import { Link, Tip, StorybookLink } from "vibe-storybook-components";
import * as ListStories from "./List.stories";

<Meta of={ListStories} />

# List

Lists is a group of actionable items containing primary and supplemental actions, which are represented by icons and text.

<Tip title="Migration Guide Available" emoji="ðŸš€">
  Migrating from the old List? Check out our comprehensive{" "}
  <Link href="/?path=/docs/components-list-new-migration-guide--docs">List Migration Guide</Link> for
  step-by-step instructions, breaking changes, and new features.
</Tip>

<Canvas of={ListStories.Overview} />

### Import

All the List-related components can be imported from `@vibe/core/next`.

```js
import { List, ListItem } from "@vibe/core/next";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Use list component for display a list of navigable items in a column.",
    "List purpose is usually allowing navigation in context to the navigable content.",
    "Your list items can be either in regular, selected or disabled state. You can control a list item's component state by its attributes.",
    "Use the ariaLabel prop to provide an accessible name for the list."
  ]}
/>

<Tip title="Check yourself">
  For implementing a menu inside a dialog, please use our{" "}
  <StorybookLink page="Components/Menu" size={StorybookLink.sizes.SMALL}>
    Menu
  </StorybookLink>{" "}
  component
</Tip>

## Variants

### List with icons

<Canvas of={ListStories.ListWithIcons} />

### List with avatars

<Canvas of={ListStories.ListWithAvatars} />

### Scrollable list

Use `maxHeight` to create a scrollable list with a fixed height.

<Canvas of={ListStories.ScrollableList} />

### Sizes

<Canvas of={ListStories.Sizes} />

### States

<Canvas of={ListStories.States} />

### Custom role

The List supports different ARIA roles for different use cases:
- `listbox` (default): For selection-based lists
- `menu`: For action menus
- `list`: For static/navigation lists

<Canvas of={ListStories.CustomRole} />

### Different element types

Use the `as` prop to render the list as different HTML elements.

<Canvas of={ListStories.DifferentElementTypes} />

### In dialog container

<Canvas of={ListStories.InDialogContainer} />

### With end elements

<Canvas of={ListStories.WithEndElements} />

### With click handler

<Canvas of={ListStories.WithClickHandler} />

## Accessibility

### Keyboard Navigation

The List component provides comprehensive keyboard navigation:

- **Arrow Up/Down**: Navigate between items (wraps around)
- **Home**: Jump to first item
- **End**: Jump to last item
- **PageUp/PageDown**: Move by 10 items
- **Enter/Space**: Activate the focused item

<Canvas of={ListStories.KeyboardNavigation} />

### Default Focus Index

Use `defaultFocusIndex` to set which item should be focused when the list receives focus.

<Canvas of={ListStories.DefaultFocusIndex} />

### Focus Callback

Use `onFocusChange` to track which item is currently focused.

<Canvas of={ListStories.WithFocusCallback} />

### Disabled List

When disabled, the list blocks all keyboard navigation.

<Canvas of={ListStories.DisabledList} />

## Do's and Don'ts

<ComponentRules
  rules={[
    {
      positive: {
        component: (
          <div>
            <List ariaLabel="Actions">
              <ListItem label="Add" value="add" startElement={{ type: "icon", value: Add }} />
              <ListItem label="Filter" value="filter" startElement={{ type: "icon", value: Filter }} />
            </List>
            <Divider />
            <List ariaLabel="Boards">
              <ListItem label="Board name" value="board1" startElement={{ type: "icon", value: Board }} />
              <ListItem label="Board name" value="board2" startElement={{ type: "icon", value: Board }} />
            </List>
          </div>
        ),
        description: "Use a list component to create a menu displayed on one of the various sections of your web page."
      },
      negative: {
        component: (
          <DialogContentContainer>
            <List ariaLabel="Actions">
              <ListItem label="Add" value="add" startElement={{ type: "icon", value: Add }} />
              <ListItem label="Filter" value="filter" startElement={{ type: "icon", value: Filter }} />
            </List>
            <Divider />
            <List ariaLabel="Boards">
              <ListItem label="Board name" value="board1" startElement={{ type: "icon", value: Board }} />
              <ListItem label="Board name" value="board2" startElement={{ type: "icon", value: Board }} />
            </List>
          </DialogContentContainer>
        ),
        description: (
          <>
            Do not use the list to implement a menu displayed inside a dialog. See{" "}
            <StorybookLink page="Components/Menu">Menu</StorybookLink>.
          </>
        )
      }
    }
  ]}
/>

## Related components

<RelatedComponents componentsNames={["Menu", "Tabs", "MultiStepIndicator"]} />
