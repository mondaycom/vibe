import { Meta } from "@storybook/blocks";
import { Board, Add, Filter } from "@vibe/icons";
import { List, ListItem, ListTitle } from "@vibe/core/next";
import { DialogContentContainer, Divider, Flex } from "@vibe/core";
import { Link, Tip, StorybookLink } from "vibe-storybook-components";
import { TipCheckYourself } from "./List.stories.helpers";
import * as ListStories from "./List.stories";

<Meta of={ListStories} />

# List

Lists is a group of actionable items containing primary and supplemental actions, which are represented by icons and text.

<Canvas of={ListStories.Overview} />

### Import

All the List-related components can be imported from `@vibe/core/next`.

```js
import { List, ListItem, ListTitle } from "@vibe/core/next";
```

## Props

<PropsTable />

## Usage

<UsageGuidelines
  guidelines={[
    "Use list component for display a list of navigable items in a column.",
    "List purpose is usually allowing navigation in context to the navigable content.",
    "Your list items can be either in regular, selected or disabled state. You can control a list item's component state by its attributes.",
    "Use the ariaLabel prop to provide an accessible name for the list."
  ]}
/>

<TipCheckYourself />

## Accessibility

<UsageGuidelines
  guidelines={[
    <>
      Always provide an <code>ariaLabel</code> prop to give the list a meaningful accessible name that describes its
      purpose (e.g., "Navigation menu", "Settings options").
    </>,
    <>
      The List component provides comprehensive keyboard navigation: <strong>Arrow Up/Down</strong> to navigate between
      items (wraps around), <strong>Home/End</strong> to jump to first/last item, <strong>PageUp/PageDown</strong> to
      move by 10 items, and <strong>Enter/Space</strong> to activate the focused item.
    </>,
    <>
      Use <code>defaultFocusIndex</code> to set which item should receive focus when the list first becomes focused.
    </>,
    <>
      Use <code>onFocusChange</code> callback to track focus changes for custom focus management scenarios.
    </>,
    <>
      Ensure individual <code>ListItem</code> components have descriptive <code>label</code> text. For items with only
      icons, provide additional context through the label.
    </>
  ]}
/>

## Variants

### List with icons

<Canvas of={ListStories.ListWithIcons} />

### List with avatars

<Canvas of={ListStories.ListWithAvatars} />

### List with title

Use `ListTitle` to create section headers within your list. Titles are automatically skipped during keyboard navigation.

<Canvas of={ListStories.ListWithTitle} />

### Sticky title

Use the `sticky` prop on `ListTitle` to keep section headers visible at the top while scrolling through a list.

<Canvas of={ListStories.StickyTitle} />

### Scrollable list

Use `maxHeight` to create a scrollable list with a fixed height.

<Canvas of={ListStories.ScrollableList} />

### Sizes

<Canvas of={ListStories.Sizes} />

### States

<Canvas of={ListStories.States} />

### In dialog container

<Canvas of={ListStories.InDialogContainer} />

### With end elements

<Canvas of={ListStories.WithEndElements} />

### Virtualized list

For performance optimization with large datasets (thousands of items), you can implement virtualization by composing the List components with a virtualization library. This example demonstrates using <a href="https://github.com/bvaughn/react-window" target="_blank">react-window</a> to render only the visible items.

<Canvas of={ListStories.VirtualizedList} />

## Do's and Don'ts

<ComponentRules
  rules={[
    {
      positive: {
        component: (
          <div>
            <List ariaLabel="Actions">
              <ListItem label="Add" value="add" startElement={{ type: "icon", value: Add }} />
              <ListItem label="Filter" value="filter" startElement={{ type: "icon", value: Filter }} />
            </List>
            <Divider />
            <List ariaLabel="Boards">
              <ListItem label="Board name" value="board1" startElement={{ type: "icon", value: Board }} />
              <ListItem label="Board name" value="board2" startElement={{ type: "icon", value: Board }} />
            </List>
          </div>
        ),
        description: "Use a list component to create a menu displayed on one of the various sections of your web page."
      },
      negative: {
        component: (
          <DialogContentContainer>
            <List ariaLabel="Actions">
              <ListItem label="Add" value="add" startElement={{ type: "icon", value: Add }} />
              <ListItem label="Filter" value="filter" startElement={{ type: "icon", value: Filter }} />
            </List>
            <Divider />
            <List ariaLabel="Boards">
              <ListItem label="Board name" value="board1" startElement={{ type: "icon", value: Board }} />
              <ListItem label="Board name" value="board2" startElement={{ type: "icon", value: Board }} />
            </List>
          </DialogContentContainer>
        ),
        description: (
          <>
            Do not use the list to implement a menu displayed inside a dialog. See{" "}
            <StorybookLink page="Components/Menu">Menu</StorybookLink>.
          </>
        )
      }
    }
  ]}
/>

## Related components

<RelatedComponents componentsNames={["Menu", "Tabs", "MultiStepIndicator"]} />
