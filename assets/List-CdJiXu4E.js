import{j as m}from"./jsx-runtime-lwGtIXvq.js";import{c as R}from"./index-BpvXyOxN.js";import{r as n,R as x}from"./index-CTZeEbLr.js";import{u as D}from"./useMergeRef-C008K4k9.js";import{u as B}from"./index-nBaTNWgC.js";import{L as S,b as J}from"./ListItem-CafAvmAh.js";import{T as X}from"./Text-1SYDbpP1.js";import{V as K}from"./VirtualizedList-BPuorRc1.js";import{k as P,U as W}from"./function-utils-CSFuT5hl.js";import{a as G,g as Y,C as Q}from"./test-ids-utils-CSfXomCJ.js";import{u as Z}from"./useIsomorphicLayoutEffect-CtfxbExD.js";import{w as ee}from"./withStaticProps-DfSG2La2.js";const te="_listTitle_1u8a6_1",se={listTitle:te},T=n.forwardRef(({className:e,id:r,children:t,tabIndex:d,"data-testid":o},c)=>{const u=n.useRef(null),l=D(c,u);return m.jsx(X,{type:"text1",weight:"medium","data-testid":o||r,"aria-level":3,tabIndex:d,role:"heading",ref:l,className:R(se.listTitle,e),id:r,children:t})});Object.assign(T,{displayName:"ListTitle"});try{T.displayName="ListTitle",T.__docgenInfo={description:"",displayName:"ListTitle",props:{tabIndex:{defaultValue:null,description:"The tab index for keyboard navigation.",name:"tabIndex",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"The title text.",name:"children",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const re="_scrollableContainer_cjz0y_1",ie={scrollableContainer:re},b={TITLE:"title",ITEM:"item"},ae=48,ne=32,v=({children:e})=>{const r=n.useMemo(()=>(Array.isArray(e)?e:[e]).map((o,c)=>{const u=o.type.displayName;if(u===T.displayName)return{type:b.TITLE,id:`list-title-${c}`,props:o.props,height:ae};if(u===S.displayName){const{id:l}=o.props;return{type:b.ITEM,id:l||`list-item-${c}`,props:o.props,height:ne}}else return}).filter(o=>o!==void 0),[e]),t=n.useCallback((d,o,c)=>{const{type:u,props:l}=d;let L;switch(u){case b.TITLE:{L=m.jsx(T,{...l});break}case b.ITEM:{L=m.jsx(S,{...l});break}}return m.jsx("div",{style:c,children:L})},[]);return m.jsx(K,{scrollableClassName:R(ie.scrollableContainer),items:r,itemRenderer:t})};try{v.displayName="VirtualizedListItems",v.__docgenInfo={description:"",displayName:"VirtualizedListItems",props:{children:{defaultValue:null,description:"The list of children.",name:"children",required:!1,type:{name:"ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<any>> | ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<...>>[]"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}var q=(e=>(e.DIV="div",e.NAV="nav",e.UL="ul",e.OL="ol",e))(q||{});let oe=0;const le=()=>`list-${oe++}`,de=["option","listitem","menuitem","tab","treeitem"],A=e=>{const[r,t]=n.useState();return Z(()=>{t(e||le())},[e]),r},N=(e,r)=>{var t;return(t=e.current[r])==null?void 0:t.id},ce=(e,r)=>e.current.findIndex(t=>(t==null?void 0:t.id)===r),V=e=>{switch(e){case"ul":case"ol":return"li";case"nav":return"a";default:return"div"}},I=e=>e&&e instanceof HTMLElement&&de.includes(e.getAttribute("role")),ue=(e,r)=>{for(;e<r.current.length-1;){const t=r.current[++e];if(I(t))return e}},pe=(e,r)=>{for(;e>0;){const t=r.current[--e];if(I(t))return e}};try{A.displayName="useListId",A.__docgenInfo={description:"",displayName:"useListId",props:{}}}catch{}try{V.displayName="getListItemComponentType",V.__docgenInfo={description:"",displayName:"getListItemComponentType",props:{}}}catch{}try{I.displayName="isListItem",I.__docgenInfo={description:"",displayName:"isListItem",props:{}}}catch{}const me="_list_17d8x_2",fe={list:me},C=n.forwardRef(({className:e,id:r,component:t=q.UL,children:d,ariaLabel:o,ariaDescribedBy:c,"aria-controls":u,renderOnlyVisibleItems:l=!1,style:L,role:w="listbox","data-testid":M},j)=>{const g=n.useRef(null),k=D(j,g),a=n.useRef([]),h=A(r),[f,H]=n.useState(0),U=t,_=n.useCallback(i=>{var s;H(ce(a,i)),(s=g==null?void 0:g.current)==null||s.setAttribute("aria-activedescendant",i)},[]),$=n.useCallback(i=>{if(l)return;i.preventDefault();const s=i.key===P.UP_ARROW,p=i.key===P.DOWN_ARROW;let y;p&&f+1<a.current.length?y=ue(f,a):s&&f>0&&(y=pe(f,a)),y!==void 0&&(_(N(a,y)),a.current[y].focus())},[f,l,_]);B({keys:W,callback:$,ref:g}),n.useEffect(()=>{const i=a.current.findIndex(s=>s instanceof HTMLElement&&I(s)&&(s==null?void 0:s.getAttribute("aria-selected"))==="true");if(i!==-1)_(N(a,i));else{const s=a.current.findIndex(p=>I(p));s!==-1&&_(N(a,s))}},[_]);const z=n.useMemo(()=>{let i=Array.isArray(d)?d:[d];return l?i=m.jsx(v,{children:i}):(a.current=a.current.slice(0,i.length),i=x.Children.map(i,(s,p)=>{if(!x.isValidElement(s))return s;const y=s.props.id||`${h}-item-${p}`,E=a.current[p],O=E==null||I(E);return x.cloneElement(s,{ref:F=>a.current[p]=F,tabIndex:f===p&&O?0:-1,id:y,component:V(t),role:s.props.role})})),i},[d,t,f,h,l]);return m.jsx(J.Provider,{value:{updateFocusedItem:_},children:m.jsx(U,{"data-testid":M||Y(Q.LIST,r),"data-vibe":G.LIST,ref:k,style:L,className:R(fe.list,e),id:h,"aria-label":o,"aria-describedby":c,"aria-controls":u,tabIndex:-1,role:w,children:z})})}),Ae=ee(C,{components:q});try{C.displayName="List",C.__docgenInfo={description:"",displayName:"List",props:{component:{defaultValue:{value:"ListWrapperComponentTypeEnum.UL"},description:"The wrapping component for the list.",name:"component",required:!1,type:{name:"ListElement"}},ariaLabel:{defaultValue:null,description:"The ARIA label describing the list.",name:"ariaLabel",required:!1,type:{name:"string"}},ariaDescribedBy:{defaultValue:null,description:"The ID of an element that describes the list.",name:"ariaDescribedBy",required:!1,type:{name:"string"}},"aria-controls":{defaultValue:null,description:"The ID of an element controlled by the list.",name:"aria-controls",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The child elements inside the list.",name:"children",required:!1,type:{name:"ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<any>> | ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<...>>[]"}},renderOnlyVisibleItems:{defaultValue:{value:"false"},description:"If true, uses a virtualized list to render only visible items for performance optimization.",name:"renderOnlyVisibleItems",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"Custom inline styles applied to the list.",name:"style",required:!1,type:{name:"CSSProperties"}},role:{defaultValue:{value:"listbox"},description:"The ARIA role of the list.",name:"role",required:!1,type:{name:"AriaRole"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Ae as L,T as a};
