import{j as t}from"./jsx-runtime-lwGtIXvq.js";import{c as n}from"./index-BpvXyOxN.js";import{r as l}from"./index-CTZeEbLr.js";import{u as He}from"./index-BHzG1aTI.js";import{T as Ne}from"./Text-5PiIofEG.js";import{F as je}from"./FieldLabel-B51HqSqE.js";import{B as m}from"./sizes-BOsbvv4u.js";import{u as Fe}from"./useMergeRef-Do2VYePL.js";import{g as G}from"./test-ids-utils-DBF55-X4.js";import{N as d}from"./function-utils-CgdCy1w7.js";import{a as ze,C as Y}from"./constants-BFnbiwiw.js";import{T as Z}from"./Tooltip-BlFnX8EL.js";import{C as J}from"./Clickable-DHJc0oio.js";import{H as Oe}from"./HiddenText-DCC7afvY.js";import{w as We}from"./withStaticProps-DfSG2La2.js";import{L as Be}from"./Loader-BabV-h63.js";import{I as Q}from"./Icon-CpEYCgaz.js";const Ue="_textField_6waav_5",Pe="_labelWrapper_6waav_16",Ke="_subTextContainer_6waav_20",Xe="_counter_6waav_27",$e="_disabled_6waav_31",Ge="_icon_6waav_31",Ye="_inputWrapper_6waav_35",Ze="_input_6waav_35",Je="_iconContainer_6waav_51",Qe="_iconContainerHasIcon_6waav_51",ea="_readOnly_6waav_75",aa="_inputHasIcon_6waav_95",ta="_onlyUnderline_6waav_107",na="_tooltipContainer_6waav_115",ra="_wrapperSizeMedium_6waav_124",ia="_wrapperSizeLarge_6waav_128",la="_iconContainerActive_6waav_148",oa="_iconContainerClickable_6waav_148",sa="_inputErrorValidation_6waav_186",ua="_subTextContainerStatus_6waav_207",da="_inputSuccessValidation_6waav_212",ca="_wrapperSizeSmall_6waav_237",pa="_loaderContainer_6waav_307",fa="_loaderContainerHasIcon_6waav_319",ma="_loader_6waav_307",ha="_loaderSvg_6waav_328",e={textField:Ue,labelWrapper:Pe,subTextContainer:Ke,counter:Xe,disabled:$e,icon:Ge,inputWrapper:Ye,input:Ze,iconContainer:Je,iconContainerHasIcon:Qe,readOnly:ea,inputHasIcon:aa,onlyUnderline:ta,tooltipContainer:na,wrapperSizeMedium:ra,wrapperSizeLarge:ia,iconContainerActive:la,iconContainerClickable:oa,inputErrorValidation:sa,subTextContainerStatus:ua,inputSuccessValidation:da,wrapperSizeSmall:ca,loaderContainer:pa,loaderContainerHasIcon:fa,loader:ma,loaderSvg:ha};var ae=(a=>(a.CHAR="Input char count",a.VALIDATION_TEXT="Additional helper text",a))(ae||{});m.SMALL,m.MEDIUM,m.LARGE;var te=(a=>(a.TEXT="text",a.PASSWORD="password",a.SEARCH="search",a.DATE="date",a.DATE_TIME="datetime-local",a.NUMBER="number",a.TEL="tel",a.URL="url",a.EMAIL="email",a))(te||{}),ne=(a=>(a.ERROR="error",a.SUCCESS="success",a))(ne||{});const ee={error:e.inputErrorValidation,success:e.inputSuccessValidation},ya={[m.SMALL]:e.wrapperSizeSmall,[m.MEDIUM]:e.wrapperSizeMedium,[m.LARGE]:e.wrapperSizeLarge},va={primary:"",secondary:""},k=l.forwardRef(({className:a="",placeholder:R="",autoComplete:re="off",value:g,onChange:M=d,onBlur:D=d,onFocus:ie=d,onKeyDown:le=d,onWheel:oe=d,debounceRate:se=0,autoFocus:H=!1,disabled:b=!1,readonly:N=!1,setRef:ue=d,iconName:c,secondaryIconName:p,id:y="input",title:de="",size:I="small",validation:i=null,wrapperClassName:ce="",onIconClick:_=d,clearOnIconClick:V=!1,labelIconName:pe,showCharCount:j=!1,inputAriaLabel:fe,searchResultsContainerId:F="",activeDescendant:me="",iconsNames:E=va,type:he="text",maxLength:f=null,allowExceedingMaxLength:z=!1,trim:ye=!1,role:ve="",required:v=!1,requiredErrorText:S="",loading:O=!1,"data-testid":Ce,secondaryDataTestId:be,tabIndex:_e,underline:xe=!1,name:we,controlled:h=!1,iconTooltipContent:q,secondaryTooltipContent:T,dir:ge},Ie)=>{const[u,W]=l.useState(!1),o=l.useRef(null),Ve=Fe(Ie,o,ue),Ee=l.useCallback(r=>{v&&!r.target.value&&W(!0),D(r)},[D,v]),C=l.useCallback((r,Me)=>{u&&r&&W(!1);const De=Me||{target:o.current};M(r,De)},[M,u]),{inputValue:B,onEventChanged:U,clearValue:P}=He({delay:se,onChange:C,initialStateValue:g,trim:ye}),s=l.useMemo(()=>h?g:B,[h,g,B]),Se=l.useCallback(r=>{h?C(r.target.value,r):U(r)},[h,C,U]),x=l.useMemo(()=>p&&s?p:c,[c,p,s]),K=l.useCallback(()=>{b||(V&&(o.current&&o.current.focus(),o.current.value="",h?C(""):P()),_(x))},[b,V,_,x,h,C,P]),qe=l.useMemo(()=>{if(typeof f=="number"&&s&&s.length>f)return ee.error;if((!i||!i.status)&&!u)return"";const r=u?"error":i.status;return ee[r]},[f,i,u,s]),w=c||p,Te=j||i&&i.text||u&&S,A=p===x,L=c===x,Ae=(_!==d||E.primary||q)&&s&&c.length&&L,Le=(p||T)&&A&&!!s,X=z?`${y}-allow-exceeding-max-length-text`:void 0;l.useEffect(()=>{if(!(o!=null&&o.current)||!H)return;const r=requestAnimationFrame(()=>o.current.focus());return()=>cancelAnimationFrame(r)},[o,H]);const $=_!==d||V,ke=E.primary||q,Re=E.secondary||T;return t.jsx("div",{className:n(e.textField,ce,{[e.disabled]:b,[e.onlyUnderline]:xe}),role:ve,"aria-busy":O,children:t.jsxs("div",{className:n(e.labelWrapper),children:[t.jsx(je,{labelText:de,icon:pe,labelFor:y,required:v}),t.jsxs("div",{className:n(e.inputWrapper,ya[I],qe),children:[t.jsx("input",{className:n(a,e.input,{[e.inputHasIcon]:!!w,[e.readOnly]:N}),placeholder:R,autoComplete:re,value:s,onChange:Se,disabled:b,readOnly:N,ref:Ve,type:he,id:y,"data-testid":Ce||G(Y.TEXT_FIELD,y),"data-vibe":ze.TEXT_FIELD,name:we,onBlur:Ee,onFocus:ie,onKeyDown:le,onWheel:oe,maxLength:typeof f=="number"&&!z?f:void 0,role:F&&"combobox","aria-label":fe||R,"aria-invalid":i&&i.status==="error"||u,"aria-owns":F,"aria-activedescendant":me,"aria-required":v,"aria-describedby":X,required:v,tabIndex:_e,dir:ge}),O&&t.jsx("div",{className:n(e.loaderContainer,{[e.loaderContainerHasIcon]:w}),children:t.jsx("div",{className:n(e.loader),children:t.jsx(Be,{className:n(e.loaderSvg)})})}),c&&t.jsx(Z,{content:L?q:void 0,referenceWrapperClassName:e.tooltipContainer,children:t.jsx(J,{className:n(e.iconContainer,{[e.iconContainerHasIcon]:w,[e.iconContainerActive]:L,[e.iconContainerClickable]:$}),onClick:K,tabIndex:Ae?"0":"-1",ariaLabel:ke,children:t.jsx(Q,{icon:c,className:n(e.icon),iconType:"font",iconSize:I==="small"?"16px":"18px"})})}),p&&t.jsx(Z,{content:A?T:void 0,addKeyboardHideShowTriggersByDefault:!0,referenceWrapperClassName:e.tooltipContainer,children:t.jsx(J,{className:n(e.iconContainer,{[e.iconContainerHasIcon]:w,[e.iconContainerActive]:A,[e.iconContainerClickable]:$}),onClick:K,tabIndex:Le?"0":"-1","data-testid":be||G(Y.TEXT_FIELD_SECONDARY_BUTTON,y),ariaLabel:Re,children:t.jsx(Q,{icon:p,className:n(e.icon),iconType:"font",iconSize:I==="small"?"16px":"18px"})})})]}),Te&&t.jsxs(Ne,{type:"text2",color:"secondary",className:n(e.subTextContainer),children:[(i&&i.text||u&&S)&&t.jsx("span",{className:n(e.subTextContainerStatus),children:u?S:i.text}),j&&t.jsxs("span",{className:n(e.counter),"aria-label":ae.CHAR,children:[s&&s.length||0,typeof f=="number"&&`/${f}`,t.jsx(Oe,{id:X,text:`Maximum of ${f} characters`})]})]})]})})}),Da=We(k,{sizes:m,feedbacks:ne,types:te});try{k.displayName="TextField",k.__docgenInfo={description:"",displayName:"TextField",props:{placeholder:{defaultValue:{value:""},description:"The placeholder text displayed when the input is empty.",name:"placeholder",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"Configures the browser's autocomplete behavior.",name:"autoComplete",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"The current value of the text field.",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Callback fired when the text field value changes.",name:"onChange",required:!1,type:{name:'(value: string, event: ChangeEvent<HTMLInputElement> | Pick<ChangeEvent<HTMLInputElement>, "target">) => void'}},onBlur:{defaultValue:null,description:"Callback fired when the text field loses focus.",name:"onBlur",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onFocus:{defaultValue:null,description:"Callback fired when the text field gains focus.",name:"onFocus",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onKeyDown:{defaultValue:null,description:"Callback fired when a key is pressed inside the text field.",name:"onKeyDown",required:!1,type:{name:"(event: KeyboardEvent<Element>) => void"}},onWheel:{defaultValue:null,description:"Callback fired when the mouse wheel is used inside the text field.",name:"onWheel",required:!1,type:{name:"(event: WheelEvent<Element>) => void"}},debounceRate:{defaultValue:{value:"0"},description:"The debounce rate for input value changes.",name:"debounceRate",required:!1,type:{name:"number"}},autoFocus:{defaultValue:{value:"false"},description:"If true, the input is automatically focused on mount.",name:"autoFocus",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"If true, disables the text field.",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:{value:"false"},description:"If true, makes the text field read-only.",name:"readonly",required:!1,type:{name:"boolean"}},setRef:{defaultValue:null,description:"A function to set a reference to the input element.",name:"setRef",required:!1,type:{name:"(node: HTMLElement) => void"}},iconName:{defaultValue:null,description:"The primary icon displayed inside the text field.",name:"iconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},secondaryIconName:{defaultValue:null,description:"The secondary icon displayed inside the text field.",name:"secondaryIconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},title:{defaultValue:{value:""},description:"The label displayed above the text field.",name:"title",required:!1,type:{name:"string"}},size:{defaultValue:{value:"small"},description:"The size of the text field.",name:"size",required:!1,type:{name:"TextFieldSize"}},validation:{defaultValue:{value:"null"},description:"Validation state for the text field.",name:"validation",required:!1,type:{name:'{ status?: "error" | "success"; text?: ReactNode; }'}},wrapperClassName:{defaultValue:{value:""},description:"Class name applied to the text field wrapper.",name:"wrapperClassName",required:!1,type:{name:"string"}},onIconClick:{defaultValue:null,description:"Callback fired when the icon inside the text field is clicked.",name:"onIconClick",required:!1,type:{name:"(icon: string | FunctionComponent<{}>) => void"}},clearOnIconClick:{defaultValue:{value:"false"},description:"If true, clears the input when the icon is clicked.",name:"clearOnIconClick",required:!1,type:{name:"boolean"}},labelIconName:{defaultValue:null,description:"The icon displayed inside the label.",name:"labelIconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},showCharCount:{defaultValue:{value:"false"},description:"If true, displays the character count.",name:"showCharCount",required:!1,type:{name:"boolean"}},inputAriaLabel:{defaultValue:null,description:"The ARIA label for the input field.",name:"inputAriaLabel",required:!1,type:{name:"string"}},searchResultsContainerId:{defaultValue:{value:""},description:"The ID of the container where search results are displayed.",name:"searchResultsContainerId",required:!1,type:{name:"string"}},activeDescendant:{defaultValue:{value:""},description:"The ID of the currently active search result.",name:"activeDescendant",required:!1,type:{name:"string"}},iconsNames:{defaultValue:{value:'{ primary: "", secondary: "" }'},description:"Icon labels for accessibility.",name:"iconsNames",required:!1,type:{name:"{ primary: string; secondary: string; }"}},type:{defaultValue:{value:"text"},description:"The type of the text field.",name:"type",required:!1,type:{name:"TextFieldType"}},maxLength:{defaultValue:{value:"null"},description:"The maximum number of characters allowed.",name:"maxLength",required:!1,type:{name:"number"}},allowExceedingMaxLength:{defaultValue:{value:"false"},description:"If true, allows the user to exceed the character limit set by `maxLength`.",name:"allowExceedingMaxLength",required:!1,type:{name:"boolean"}},trim:{defaultValue:{value:"false"},description:"If true, trims whitespace from the input value.",name:"trim",required:!1,type:{name:"boolean"}},role:{defaultValue:{value:""},description:"The ARIA role of the text field.",name:"role",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"If true, marks the input as required.",name:"required",required:!1,type:{name:"boolean"}},requiredErrorText:{defaultValue:{value:""},description:"The error message displayed when a required field is left empty.",name:"requiredErrorText",required:!1,type:{name:"string"}},loading:{defaultValue:{value:"false"},description:"If true, displays a loading indicator inside the text field.",name:"loading",required:!1,type:{name:"boolean"}},secondaryDataTestId:{defaultValue:null,description:"Test ID for the secondary icon.",name:"secondaryDataTestId",required:!1,type:{name:"string"}},tabIndex:{defaultValue:null,description:"The tab order of the input field.",name:"tabIndex",required:!1,type:{name:"number"}},name:{defaultValue:null,description:"The name attribute for the input field.",name:"name",required:!1,type:{name:"string"}},underline:{defaultValue:{value:"false"},description:"If true, renders only an underline style for the text field.",name:"underline",required:!1,type:{name:"boolean"}},controlled:{defaultValue:{value:"false"},description:"If true, the component is controlled by an external state.",name:"controlled",required:!1,type:{name:"boolean"}},iconTooltipContent:{defaultValue:null,description:"Tooltip content for the primary icon.",name:"iconTooltipContent",required:!1,type:{name:"string"}},secondaryTooltipContent:{defaultValue:null,description:"Tooltip content for the secondary icon.",name:"secondaryTooltipContent",required:!1,type:{name:"string"}},dir:{defaultValue:null,description:"The text direction of the input.",name:"dir",required:!1,type:{name:'"auto" | "ltr" | "rtl"'}},className:{defaultValue:{value:""},description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:{value:"input"},description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Da as T};
