import{j as L}from"./jsx-runtime-lwGtIXvq.js";import{c as de}from"./index-BpvXyOxN.js";import{r as i}from"./index-CTZeEbLr.js";import{V as ce}from"./index.esm-B4DTZ0aw.js";import{A as me}from"./react-virtualized-auto-sizer.esm-CJUwJr1b.js";import{u as fe}from"./index-BWKJv4Cj.js";import{g as pe,a as be,u as he,b as Ie,i as j,e as ye}from"./virtualized-service-2d5dKjyP.js";import{u as H}from"./useMergeRef-C008K4k9.js";import{g as ge,b as Ve}from"./test-ids-utils-B1IbFLmr.js";import{n as P}from"./noop-DX6rZLP_.js";const ve="_virtualizedListWrapper_7t1vs_1",Se={virtualizedListWrapper:ve},B=i.forwardRef(({className:C,id:R,items:n=[],itemRenderer:q=(l,h,p)=>l,getItemHeight:T=(l,h)=>l.height,getItemSize:O=null,layout:_="vertical",onScroll:V,overscanCount:G=0,getItemId:x=(l,h)=>l.id,scrollToId:f,scrollDuration:v=200,onScrollToFinished:m=P,onItemsRendered:S,onItemsRenderedThrottleMs:U=200,onSizeUpdate:k=P,onVerticalScrollbarVisiblityChange:w=null,onLayoutDirectionScrollbarVisibilityChange:A=null,virtualListRef:J,scrollableClassName:Q,role:X,ariaLabel:Z,style:K,"data-testid":Y},$)=>{const[l,h]=i.useState(0),[p,ee]=i.useState(0),D=_!=="horizontal",o=i.useMemo(()=>D?l:p,[D,l,p]),E=fe(f),te=i.useRef(null),M=i.useRef(null),d=i.useRef(null),I=i.useRef(0),ie=i.useRef({initialized:!1,scrollOffsetInitial:0,scrollOffsetFinal:0,animationStartTime:0}),ae=H($,te),re=H(J,d),a=ie.current;a.initialized||(a.initialized=!0,a.scrollOffsetInitial=0,a.scrollOffsetFinal=0,a.animationStartTime=0);const y=i.useCallback((t,e)=>{const c=(O||T)(t,e);return c===void 0&&console.error("Couldn't get height for item: ",t),c},[T,O]),u=i.useCallback((t,e)=>{const r=x(t,e);return r===void 0&&console.error("Couldn't get id for item: ",t),r},[x]),s=i.useMemo(()=>pe(n,u,y),[n,u,y]),N=i.useMemo(()=>be(o,s),[o,s]),ne=i.useCallback(({scrollDirection:t,scrollOffset:e,scrollUpdateWasRequested:r})=>{I.current=e,r||(a.scrollOffsetInitial=e),V&&V(t,e,r)},[V,I,a]),z=i.useCallback(()=>{requestAnimationFrame(()=>{var W;const e=performance.now()-a.animationStartTime,r=a.scrollOffsetFinal-a.scrollOffsetInitial,c=ye(Math.min(1,e/v)),g=a.scrollOffsetInitial+r*c,b=Math.min(N,g);I.current=b,(W=d.current)==null||W.scrollTo(b),e<v?z():(a.animationStartTime=void 0,m&&m())})},[v,a,d,N,m]),F=i.useCallback(t=>{var r,c,g,b;const{offsetTop:e}=t;if(a.animationStartTime){a.scrollOffsetFinal=e;return}if(((c=(r=d.current)==null?void 0:r.state)==null?void 0:c.scrollOffset)!==null&&(a.scrollOffsetInitial=(b=(g=d.current)==null?void 0:g.state)==null?void 0:b.scrollOffset),a.scrollOffsetInitial===e){m&&m();return}a.scrollOffsetFinal=e,a.animationStartTime=performance.now(),z()},[a,z,m]),le=i.useCallback(({index:t,style:e})=>{const r=n[t];return q(r,t,e)},[n,q]),se=i.useCallback(t=>{const e=n[t];return y(e,t)},[n,y]),oe=i.useCallback((t,e)=>{(e!==l||t!==p)&&setTimeout(()=>{h(e),ee(t),k(t,e)},0)},[l,p,k]),ue=he(({visibleStartIndex:t,visibleStopIndex:e})=>{if(!S)return;const r=Ie(n,s,u,t,e,o,I.current);S(r)},{wait:U,trailing:!0},[S,n,s,u,o]);return i.useEffect(()=>{if(f&&E!==f){const t=j(n,s,u,o),e=s[f];t&&e&&F(e)}},[E,f,F,s,n,u,o]),i.useEffect(()=>{d.current&&d.current.resetAfterIndex(0)},[s]),i.useEffect(()=>{const t=A||w;if(t){const e=j(n,s,u,o);M.current!==e&&(M.current=e,t(e))}},[A,w,n,s,o,u]),L.jsx("div",{ref:ae,className:de(Se.virtualizedListWrapper,C),id:R,role:X,"aria-label":Z,"data-testid":Y||ge(Ve.VIRTUALIZED_LIST,R),style:K,children:L.jsx(me,{children:({height:t,width:e})=>(oe(e,t),L.jsx(ce,{ref:re,height:t,width:e,itemCount:n.length,itemSize:se,onScroll:ne,layout:_,overscanCount:G,onItemsRendered:ue,className:Q,children:le}))})})});try{B.displayName="VirtualizedList",B.__docgenInfo={description:"",displayName:"VirtualizedList",props:{scrollableClassName:{defaultValue:null,description:"Class name applied to the scrollable container.",name:"scrollableClassName",required:!1,type:{name:"string"}},layout:{defaultValue:{value:"vertical"},description:"The orientation of the list.",name:"layout",required:!1,type:{name:"Layout"}},items:{defaultValue:{value:"[]"},description:"The list of items to be rendered.",name:"items",required:!1,type:{name:"VirtualizedListItem[]"}},itemRenderer:{defaultValue:{value:"(item: VirtualizedListItem, _index: number, _style: CSSProperties) => item as ReactElement"},description:"Function to render each item in the list.",name:"itemRenderer",required:!1,type:{name:"(item: VirtualizedListItem, index: number, style: CSSProperties) => Element | ReactElement<any, string | JSXElementConstructor<any>>"}},getItemHeight:{defaultValue:{value:"(item: VirtualizedListItem, _index: number) => item.height"},description:"@deprecated - use `getItemSize`.",name:"getItemHeight",required:!1,type:{name:"(item: VirtualizedListItem, index: number) => number"}},getItemSize:{defaultValue:{value:"null"},description:"Function to get the size (height/width) of each item, based on layout.",name:"getItemSize",required:!1,type:{name:"(item: VirtualizedListItem, index: number) => number"}},getItemId:{defaultValue:{value:"(item: VirtualizedListItem, _index: number) => item.id"},description:"Function to get the unique ID of an item.",name:"getItemId",required:!1,type:{name:"(item: VirtualizedListItem, index: number) => string"}},onScrollToFinished:{defaultValue:null,description:"Callback fired when the scroll animation is finished.",name:"onScrollToFinished",required:!1,type:{name:"() => void"}},overscanCount:{defaultValue:{value:"0"},description:"Number of items to render above and below the visible portion.",name:"overscanCount",required:!1,type:{name:"number"}},scrollDuration:{defaultValue:{value:"200"},description:"The duration of the scroll animation in milliseconds.",name:"scrollDuration",required:!1,type:{name:"number"}},onItemsRendered:{defaultValue:null,description:"Callback fired when items are rendered.",name:"onItemsRendered",required:!1,type:{name:"({ firstItemId, secondItemId, lastItemId, centerItemId, firstItemOffsetEnd, currentOffsetTop }: { firstItemId: string; secondItemId: string; lastItemId: string; centerItemId: string; firstItemOffsetEnd: number; currentOffsetTop: number; }) => void"}},onItemsRenderedThrottleMs:{defaultValue:{value:"200"},description:"The delay (in ms) for throttling the `onItemsRendered` callback.",name:"onItemsRenderedThrottleMs",required:!1,type:{name:"number"}},onSizeUpdate:{defaultValue:null,description:"Callback fired when the list size changes.",name:"onSizeUpdate",required:!1,type:{name:"(width: number, height: number) => void"}},onVerticalScrollbarVisiblityChange:{defaultValue:{value:"null"},description:"@deprecated - use `onLayoutDirectionScrollbarVisibilityChange`.",name:"onVerticalScrollbarVisiblityChange",required:!1,type:{name:"(value: boolean) => void"}},onLayoutDirectionScrollbarVisibilityChange:{defaultValue:{value:"null"},description:"Callback fired when the vertical or horizontal scrollbar visibility changes.",name:"onLayoutDirectionScrollbarVisibilityChange",required:!1,type:{name:"(value: boolean) => void"}},role:{defaultValue:null,description:"The ARIA role attribute applied to the list.",name:"role",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"The ARIA label for the list.",name:"ariaLabel",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Custom inline styles applied to the list.",name:"style",required:!1,type:{name:"CSSProperties"}},scrollToId:{defaultValue:null,description:"The ID of the item to scroll to.",name:"scrollToId",required:!1,type:{name:"string"}},virtualListRef:{defaultValue:null,description:"Reference to the virtualized list component.",name:"virtualListRef",required:!1,type:{name:"ForwardedRef<HTMLElement>"}},onScroll:{defaultValue:null,description:"Callback fired when the list is scrolled.",name:"onScroll",required:!1,type:{name:"(horizontalScrollDirection: ScrollDirection, scrollTop: number, scrollUpdateWasRequested: boolean) => void"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{B as V};
