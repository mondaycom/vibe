import{j as p}from"./jsx-runtime-lwGtIXvq.js";import{c as R}from"./index-BpvXyOxN.js";import{r as n,R as E}from"./index-CTZeEbLr.js";import{u as S}from"./useMergeRef-Do2VYePL.js";import{u as O}from"./index-gB5zY9qh.js";import{L as N,b as F}from"./ListItem-DrweQl-7.js";import{T as B}from"./Text-Cand1D_Z.js";import{V as J}from"./VirtualizedList-DOxw7nE3.js";import{k as q,U as X}from"./function-utils-DcIbnvDu.js";import{a as K,g as W,C as G}from"./test-ids-utils-CSfXomCJ.js";import{u as Y}from"./useIsomorphicLayoutEffect-BBiFUoiz.js";import{w as Q}from"./withStaticProps-DfSG2La2.js";const Z="_listTitle_1u8a6_1",ee={listTitle:Z},b=n.forwardRef(({className:e,id:r,children:t,tabIndex:u,"data-testid":l},d)=>{const c=n.useRef(null),o=S(d,c);return p.jsx(B,{type:"text1",weight:"medium","data-testid":l||r,"aria-level":3,tabIndex:u,role:"heading",ref:o,className:R(ee.listTitle,e),id:r,children:t})});Object.assign(b,{displayName:"ListTitle"});try{b.displayName="ListTitle",b.__docgenInfo={description:"",displayName:"ListTitle",props:{tabIndex:{defaultValue:null,description:"The tab index for keyboard navigation.",name:"tabIndex",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"The title text.",name:"children",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const te="_scrollableContainer_cjz0y_1",se={scrollableContainer:te},_={TITLE:"title",ITEM:"item"},re=48,ie=32,A=({children:e})=>{const r=n.useMemo(()=>(Array.isArray(e)?e:[e]).map((l,d)=>{const c=l.type.displayName;if(c===b.displayName)return{type:_.TITLE,id:`list-title-${d}`,props:l.props,height:re};if(c===N.displayName){const{id:o}=l.props;return{type:_.ITEM,id:o||`list-item-${d}`,props:l.props,height:ie}}else return}).filter(l=>l!==void 0),[e]),t=n.useCallback((u,l,d)=>{const{type:c,props:o}=u;let L;switch(c){case _.TITLE:{L=p.jsx(b,{...o});break}case _.ITEM:{L=p.jsx(N,{...o});break}}return p.jsx("div",{style:d,children:L})},[]);return p.jsx(J,{scrollableClassName:R(se.scrollableContainer),items:r,itemRenderer:t})};try{A.displayName="VirtualizedListItems",A.__docgenInfo={description:"",displayName:"VirtualizedListItems",props:{children:{defaultValue:null,description:"The list of children.",name:"children",required:!1,type:{name:"ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<any>> | ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<...>>[]"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}var C=(e=>(e.DIV="div",e.NAV="nav",e.UL="ul",e.OL="ol",e))(C||{});let ae=0;const ne=()=>`list-${ae++}`,le=["option","listitem","menuitem","tab","treeitem"],oe=e=>{const[r,t]=n.useState();return Y(()=>{t(e||ne())},[e]),r},x=(e,r)=>{var t;return(t=e.current[r])==null?void 0:t.id},ue=(e,r)=>e.current.findIndex(t=>(t==null?void 0:t.id)===r),de=e=>{switch(e){case"ul":case"ol":return"li";case"nav":return"a";default:return"div"}},T=e=>e&&e instanceof HTMLElement&&le.includes(e.getAttribute("role")),ce=(e,r)=>{for(;e<r.current.length-1;){const t=r.current[++e];if(T(t))return e}},me=(e,r)=>{for(;e>0;){const t=r.current[--e];if(T(t))return e}},pe="_list_17d8x_2",fe={list:pe},V=n.forwardRef(({className:e,id:r,component:t=C.UL,children:u,ariaLabel:l,ariaDescribedBy:d,"aria-controls":c,renderOnlyVisibleItems:o=!1,style:L,role:P="listbox","data-testid":D},w)=>{const g=n.useRef(null),M=S(w,g),a=n.useRef([]),h=oe(r),[f,j]=n.useState(0),k=t,I=n.useCallback(i=>{var s;j(ue(a,i)),(s=g==null?void 0:g.current)==null||s.setAttribute("aria-activedescendant",i)},[]),H=n.useCallback(i=>{if(o)return;i.preventDefault();const s=i.key===q.UP_ARROW,m=i.key===q.DOWN_ARROW;let y;m&&f+1<a.current.length?y=ce(f,a):s&&f>0&&(y=me(f,a)),y!==void 0&&(I(x(a,y)),a.current[y].focus())},[f,o,I]);O({keys:X,callback:H,ref:g}),n.useEffect(()=>{const i=a.current.findIndex(s=>s instanceof HTMLElement&&T(s)&&(s==null?void 0:s.getAttribute("aria-selected"))==="true");if(i!==-1)I(x(a,i));else{const s=a.current.findIndex(m=>T(m));s!==-1&&I(x(a,s))}},[I]);const U=n.useMemo(()=>{let i=Array.isArray(u)?u:[u];return o?i=p.jsx(A,{children:i}):(a.current=a.current.slice(0,i.length),i=E.Children.map(i,(s,m)=>{if(!E.isValidElement(s))return s;const y=s.props.id||`${h}-item-${m}`,v=a.current[m],$=v==null||T(v);return E.cloneElement(s,{ref:z=>a.current[m]=z,tabIndex:f===m&&$?0:-1,id:y,component:de(t),role:s.props.role})})),i},[u,t,f,h,o]);return p.jsx(F.Provider,{value:{updateFocusedItem:I},children:p.jsx(k,{"data-testid":D||W(G.LIST,r),"data-vibe":K.LIST,ref:M,style:L,className:R(fe.list,e),id:h,"aria-label":l,"aria-describedby":d,"aria-controls":c,tabIndex:-1,role:P,children:U})})}),Ve=Q(V,{components:C});try{V.displayName="List",V.__docgenInfo={description:"",displayName:"List",props:{component:{defaultValue:{value:"ListWrapperComponentTypeEnum.UL"},description:"The wrapping component for the list.",name:"component",required:!1,type:{name:"enum",value:[{value:'"div"'},{value:'"nav"'},{value:'"ol"'},{value:'"ul"'}]}},ariaLabel:{defaultValue:null,description:"The ARIA label describing the list.",name:"ariaLabel",required:!1,type:{name:"string"}},ariaDescribedBy:{defaultValue:null,description:"The ID of an element that describes the list.",name:"ariaDescribedBy",required:!1,type:{name:"string"}},"aria-controls":{defaultValue:null,description:"The ID of an element controlled by the list.",name:"aria-controls",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The child elements inside the list.",name:"children",required:!1,type:{name:"ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<any>> | ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<...>>[]"}},renderOnlyVisibleItems:{defaultValue:{value:"false"},description:"If true, uses a virtualized list to render only visible items for performance optimization.",name:"renderOnlyVisibleItems",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"Custom inline styles applied to the list.",name:"style",required:!1,type:{name:"CSSProperties"}},role:{defaultValue:{value:"listbox"},description:"The ARIA role of the list.",name:"role",required:!1,type:{name:"AriaRole"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Ve as L,b as a};
