import{j as i}from"./jsx-runtime-DDzbWKUH.js";import{r as l,R as w}from"./index-Hemj67b4.js";import{u as I,f as S,c as _,R as D}from"./TableBody-J0y7dJVo.js";import{F as N}from"./index.esm-CsnITLvm.js";import{c as z}from"./index-BpvXyOxN.js";import{g as R,b as v}from"./test-ids-utils-9ISiqDto.js";import{A as k}from"./react-virtualized-auto-sizer.esm-CuRSY4Lt.js";const F="_tableBody_p1dlh_1",M="_withHeader_p1dlh_4",p={tableBody:F,withHeader:M},W=w.memo(({item:r,rowRenderer:m,style:s})=>{var c;const n=m(r),{width:u,...d}=s;return w.cloneElement(n,{style:{...d,...(c=n.props)==null?void 0:c.style}})}),E=l.forwardRef(({items:r,rowRenderer:m,onScroll:s,columns:n,headerRenderer:u,id:d,className:c,"data-testid":b,overscanCount:B=1},y)=>{const{size:x,virtualizedListRef:f,onVirtualizedListScroll:T,markTableAsVirtualized:V,dataState:q}=I(),{resetHoveredRow:g}=S(),t=!!n&&!!u,{isLoading:C}=q||{},h=l.useCallback(e=>{const a=e.target;g(),T({target:a,currentTarget:a})},[g,T]);l.useEffect(()=>{const e=f.current;if(e)return e.addEventListener("scroll",h),()=>{e.removeEventListener("scroll",h)}},[h,f]);const L=l.useCallback(({scrollDirection:e,scrollOffset:a,scrollUpdateWasRequested:o})=>{t||s==null||s(e,a,o)},[s,t]),A=l.useCallback(({index:e,style:a})=>{if(t&&e===0)return null;const o=t?e-1:e,H=r[o];return i.jsx(W,{item:H,rowRenderer:m,style:a})},[r,m,t]);l.useEffect(()=>{t||V()},[V,t]);const j=l.useMemo(()=>t?l.forwardRef(({children:e,...a},o)=>i.jsxs("div",{ref:o,...a,children:[u(n),e]})):void 0,[t,u,n]);return C&&t?i.jsxs("div",{ref:y,id:d,className:z(p.tableBody,p.withHeader,c),"data-testid":b||R(v.TABLE_VIRTUALIZED_BODY,d),children:[u(n),i.jsx(_,{})]}):i.jsx(_,{className:z(p.tableBody,{[p.withHeader]:t},c),id:d,"data-testid":b||R(v.TABLE_VIRTUALIZED_BODY,d),ref:y,children:(r==null?void 0:r.length)&&i.jsx(k,{children:({height:e,width:a})=>i.jsx(N,{itemSize:D[x],height:e,itemCount:t?r.length+1:r.length,width:a,overscanCount:B,onScroll:L,outerRef:o=>{f.current=o},innerElementType:j,children:A})})})});try{E.displayName="TableVirtualizedBody",E.__docgenInfo={description:"",displayName:"TableVirtualizedBody",props:{items:{defaultValue:null,description:"The list of items to render in the virtualized table.",name:"items",required:!0,type:{name:"TableVirtualizedRow[]"}},rowRenderer:{defaultValue:null,description:"Function to render a row in the table.",name:"rowRenderer",required:!0,type:{name:"(item: TableVirtualizedRow) => Element"}},onScroll:{defaultValue:null,description:"Callback function triggered on scroll.",name:"onScroll",required:!1,type:{name:"(horizontalScrollDirection: ScrollDirection, scrollTop: number, scrollUpdateWasRequested: boolean) => void"}},columns:{defaultValue:null,description:"The columns configuration for the table.",name:"columns",required:!1,type:{name:"TableColumn[]"}},headerRenderer:{defaultValue:null,description:"Function to render the table header.",name:"headerRenderer",required:!1,type:{name:"(columns: TableColumn[]) => Element"}},overscanCount:{defaultValue:{value:"1"},description:"Number of rows to render above/below the visible area.",name:"overscanCount",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{E as T};
