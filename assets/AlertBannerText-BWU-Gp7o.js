import{j as n}from"./jsx-runtime-DDzbWKUH.js";import{g as q}from"./typesciptCssModulesHelper-Ji7rRrZn.js";import{c as s}from"./index-BpvXyOxN.js";import{R as f,r as o}from"./index-Hemj67b4.js";import{I as R}from"./IconButton-BkBMs5zW.js";import{N as V}from"./function-utils-6EQ2u6TA.js";import{g as v,b as E,C as k}from"./test-ids-utils-9ISiqDto.js";import{T as w}from"./Text-C9ywLJgn.js";import{a as j}from"./CloseSmall-CIab6kaf.js";import{w as M}from"./withStaticProps-DfSG2La2.js";import{T as P}from"./Tooltip-Bnazf5Ct.js";import{u as S}from"./useIsOverflowing-DshK7x5b.js";var A=(e=>(e.PRIMARY="primary",e.POSITIVE="positive",e.NEGATIVE="negative",e.DARK="dark",e.WARNING="warning",e))(A||{});const D="_alertBanner_1ppa4_1",O="_primary_1ppa4_9",H="_positive_1ppa4_13",W="_negative_1ppa4_17",$="_dark_1ppa4_21",G="_warning_1ppa4_25",X="_closeBtn_1ppa4_29",z="_content_1ppa4_33",F="_closeButtonWrapper_1ppa4_43",K="_ellipsis_1ppa4_56",Y="_contentItem_1ppa4_60",J="_contentItemText_1ppa4_65",a={alertBanner:D,primary:O,positive:H,negative:W,dark:$,warning:G,closeBtn:X,content:z,closeButtonWrapper:F,ellipsis:K,contentItem:Y,contentItemText:J},Q=f.createContext({textColor:"onPrimary"}),_=o.forwardRef(({children:e,className:l,backgroundColor:r="primary",onClose:d=V,ariaLabel:p="",closeButtonAriaLabel:m="Close",isCloseHidden:u=!1,id:g,"data-testid":I},B)=>{const N=o.useMemo(()=>s(l,a.alertBanner,q(a,r)),[l,r]),i=r==="dark",x=r==="warning",T=o.useMemo(()=>x?"fixedDark":i?"onInverted":"onPrimary",[i,x]),C=o.useMemo(()=>f.Children.toArray(e).filter(t=>t.type.isAlertBannerItem||t.type.displayName==="MDXCreateElement"?!0:(console.error("Alert banner child is not supported. Please use AlertBannerText, AlertBannerLink or AlertBannerButton.",t),!1)).map((t,L)=>f.cloneElement(t,{...t==null?void 0:t.props,marginLeft:L>0,isDarkBackground:i})),[e,i]);return n.jsxs(w,{type:"text2",color:T,ref:B,className:N,role:"banner","aria-label":p||"banner",id:g,"data-testid":I||v(E.ALERT_BANNER,g),children:[n.jsx(Q.Provider,{value:{textColor:T},children:n.jsx("div",{className:s(a.content),children:C.map((c,b)=>{const t=c.type.isAlertBannerText;return n.jsx("div",{className:s(a.contentItem,{[a.contentItemText]:t}),children:t?n.jsx("div",{className:s(a.ellipsis),children:c}):c},b)})})}),n.jsx("div",{className:s(a.closeButtonWrapper),children:u?null:n.jsx(R,{"data-testid":"alert-banner-close-button",icon:j,className:s(a.closeBtn),hideTooltip:!0,onClick:d,size:"small",kind:"tertiary",color:i?"on-inverted-background":"on-primary-color",ariaLabel:m})})]})}),me=M(_,{backgroundColors:A});try{_.displayName="AlertBanner",_.__docgenInfo={description:"",displayName:"AlertBanner",props:{backgroundColor:{defaultValue:{value:"primary"},description:"The background color of the alert banner.",name:"backgroundColor",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"positive"'},{value:'"negative"'},{value:'"dark"'},{value:'"warning"'}]}},isCloseHidden:{defaultValue:{value:"false"},description:"If true, the close button is hidden.",name:"isCloseHidden",required:!1,type:{name:"boolean"}},ariaLabel:{defaultValue:{value:""},description:"The ARIA label of the alert banner for accessibility.",name:"ariaLabel",required:!1,type:{name:"string"}},closeButtonAriaLabel:{defaultValue:{value:"Close"},description:"The ARIA label of the close button for accessibility.",name:"closeButtonAriaLabel",required:!1,type:{name:"string"}},onClose:{defaultValue:null,description:"Callback fired when the close button is clicked.",name:"onClose",required:!1,type:{name:"(event: MouseEvent<HTMLButtonElement, MouseEvent>) => void"}},children:{defaultValue:null,description:"The content of the alert banner.",name:"children",required:!1,type:{name:"ChildrenType | ChildrenType[]"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const U="_bannerText_11xrk_1",Z="_marginLeft_11xrk_7",h={bannerText:U,marginLeft:Z},y=({text:e,marginLeft:l=!1,id:r,"data-testid":d})=>{const p=o.useRef(null),m=s(h.bannerText,{[h.marginLeft]:l}),u=S({ref:p});return n.jsx(P,{position:"bottom",content:u&&e,showTrigger:["mouseenter"],hideTrigger:["mouseleave"],children:n.jsx("div",{ref:p,className:m,id:r,"data-testid":d||v(k.ALERT_BANNER_TEXT,r),children:n.jsx("span",{children:e})})})};Object.assign(y,{isAlertBannerItem:!0,isAlertBannerText:!0});try{y.displayName="AlertBannerText",y.__docgenInfo={description:"",displayName:"AlertBannerText",props:{text:{defaultValue:null,description:"The text content displayed within the alert banner.",name:"text",required:!0,type:{name:"string"}},marginLeft:{defaultValue:{value:"false"},description:"If true, a left margin is applied to the alert banner text.",name:"marginLeft",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{y as A,me as a,Q as b};
