import{j as s}from"./jsx-runtime-lwGtIXvq.js";import{r as t,R as U}from"./index-CTZeEbLr.js";import{c as T}from"./index-BpvXyOxN.js";import{a as fe,g as R,b as x}from"./test-ids-utils-CSfXomCJ.js";import{u as X}from"./useMergeRef-C008K4k9.js";import{w as _e}from"./withStaticProps-DfSG2La2.js";import{I as K}from"./Icon-B1P6-uxB.js";import{I as ye}from"./IconButton-C4r7nQVz.js";import{T as re}from"./Text-1SYDbpP1.js";import{F as Y}from"./Flex-D6jv3OvD.js";import{T as be}from"./Tooltip-Cf28_m_C.js";import{g as H}from"./typesciptCssModulesHelper-oFWQo8l_.js";import{t as ge}from"./Info-jvFNh0HS.js";import{a as E,S as he}from"./Skeleton-BWuSK9Pd.js";import{a as Te,b as Ce,r as Se}from"./SortDescending-DfYW2xR2.js";import{c as Q}from"./camelCase-CO1PkVrH.js";function V(e){return typeof e=="number"?`${e}px`:typeof e=="string"?/%|px|fr$/.test(e)?e:`${e}px`:e!=null&&e.min&&(e!=null&&e.max)?`minmax(${V(e.min)}, ${V(e.max)})`:"minmax(112px, 1fr)"}function Re(e,o={}){return{...o,display:"grid",gridTemplateColumns:e.map(d=>V(d.width)).join(" ")}}function L(e){return e==="asc"?Te:e==="desc"?Ce:Se}function M(e){return e==="asc"?"desc":e==="desc"?"none":"asc"}function I(e){return e==="asc"?"ascending":e==="desc"?"descending":"none"}function j(e){return e==="circle"?E.CIRCLE:e==="rectangle"?E.RECTANGLE:E.TEXT}function xe(e,o){return e==="long-text"?["long-text","medium-text"][o%2]:e}try{V.displayName="generateWidth",V.__docgenInfo={description:"",displayName:"generateWidth",props:{min:{defaultValue:null,description:"",name:"min",required:!0,type:{name:"Width"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"Width"}}}}}catch{}try{L.displayName="getSortIcon",L.__docgenInfo={description:"",displayName:"getSortIcon",props:{}}}catch{}try{M.displayName="getNextSortState",M.__docgenInfo={description:"",displayName:"getNextSortState",props:{}}}catch{}try{I.displayName="getAriaSort",I.__docgenInfo={description:"",displayName:"getAriaSort",props:{}}}catch{}try{j.displayName="getSkeletonType",j.__docgenInfo={description:"",displayName:"getSkeletonType",props:{}}}catch{}const ve=5;var le=(e=>(e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e))(le||{});const Ne={small:32,medium:40,large:48},Ve="_table_ho84f_1",ke="_border_ho84f_21",qe="_virtualized_ho84f_31",we="_hasScroll_ho84f_34",k={table:Ve,border:ke,virtualized:qe,hasScroll:we},oe=t.createContext(void 0),B=({value:e,children:o})=>{const{setIsScrolled:d}=e,a=t.useRef(null),n=t.useRef(null),c=t.useRef(0),r=t.useCallback((i,p)=>{if(i===c.current)return;p==="body"&&a.current&&(a.current.scrollLeft=i),p==="head"&&n.current&&(n.current.scrollLeft=i);const m=i>0;d(f=>f!==m?m:f),c.current=i},[d]),l=t.useCallback(i=>{const p=i.target.scrollLeft;r(p,"head")},[r]),u=t.useCallback(i=>{const p=i.target.scrollLeft;r(p,"body")},[r]),_=t.useMemo(()=>({...e,headRef:a,onHeadScroll:l,virtualizedListRef:n,onVirtualizedListScroll:u}),[e,l,u]);return s.jsx(oe.Provider,{value:_,children:o})},se=()=>{const e=t.useContext(oe);if(e===void 0)throw new Error("useTable must be used within a TableProvider");return e};try{B.displayName="TableProvider",B.__docgenInfo={description:"",displayName:"TableProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TableProviderValue"}}}}}catch{}const ie=t.createContext(void 0),P=({value:e,children:o})=>{const{tableRootRef:d,hoveredRowRef:a,isMenuOpen:n,resetHoveredRow:c,setHoveredRowRef:r,setIsMenuOpen:l}=e,[u,_]=t.useState(0),i=t.useRef(!1),p=t.useCallback(b=>{if(n)return;r(b);const C=d.current.getBoundingClientRect().top,w=b.current.getBoundingClientRect().top;_(w-C)},[n,r,d]),m=t.useCallback(()=>{n||i.current||r(null)},[n,r]),f=t.useCallback(()=>{i.current=!0},[]),h=t.useCallback(()=>{i.current=!1,!n&&(a!=null&&a.current||r(null))},[n,a,r]),y=t.useCallback(()=>{l(!0)},[l]),v=t.useCallback(()=>{l(!1)},[l]),N=t.useMemo(()=>{var b;return{hoveredRowId:(b=a==null?void 0:a.current)==null?void 0:b.id,resetHoveredRow:c,menuButtonPosition:u,onMouseOverRow:p,onMouseLeaveRow:m,onMouseOverRowMenu:f,onMouseLeaveRowMenu:h,setTableMenuShown:y,setTableMenuHidden:v}},[a,c,u,m,h,p,f,y,v]);return s.jsx(ie.Provider,{value:N,children:o})},Ae=()=>{const e=t.useContext(ie);if(!e)throw new Error("useTableRowMenuContext must be used within a TableRowMenuProvider");return e};try{P.displayName="TableRowMenuProvider",P.__docgenInfo={description:"",displayName:"TableRowMenuProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TableRowMenuProviderValue"}}}}}catch{}const z=t.forwardRef(({id:e,className:o,"data-testid":d,columns:a,errorState:n,emptyState:c,dataState:r,style:l,children:u,size:_="medium",withoutBorder:i},p)=>{const m=t.useRef(null),f=X(p,m),[h,y]=t.useState(!1),[v,N]=t.useState(null),b=t.useCallback(()=>{y(!1),N(null)},[]),[C,w]=t.useState(!1),J=t.useCallback(()=>{w(!0)},[]),[A,D]=t.useState(!1),ce=t.useCallback(S=>{if(b(),!C){const F=S.target.scrollLeft>0;D(G=>G!==F?F:G)}},[b,C]),{gridTemplateColumns:de}=Re(a),ue={"--table-grid-template-columns":de,"--table-row-size":`${Ne[_]}px`,...l},pe=t.useMemo(()=>({columns:a,dataState:r,emptyState:c,errorState:n,size:_,tableRootRef:m,isVirtualized:C,markTableAsVirtualized:J,isScrolled:A,setIsScrolled:S=>D(S)}),[a,r,c,n,C,J,A,_]),me=t.useMemo(()=>({tableRootRef:m,hoveredRowRef:v,isMenuOpen:h,resetHoveredRow:b,setHoveredRowRef:S=>N(S),setIsMenuOpen:S=>y(S)}),[v,h,b,N]);return s.jsx(B,{value:pe,children:s.jsx(P,{value:me,children:s.jsx("div",{ref:f,id:e,className:T(k.table,{[k.border]:!i,[k.virtualized]:C,[k.hasScroll]:A},o),"data-testid":d||R(x.TABLE,e),"data-vibe":fe.TABLE,role:"table",style:ue,onScroll:ce,children:u})})})}),Tt=_e(z,{sizes:le});try{z.displayName="Table",z.__docgenInfo={description:"",displayName:"Table",props:{columns:{defaultValue:null,description:"Defines the columns of the table.",name:"columns",required:!0,type:{name:"TableColumn[]"}},dataState:{defaultValue:null,description:"State of the data being displayed (loading or error).",name:"dataState",required:!1,type:{name:"{ isLoading?: boolean; isError?: boolean; }"}},errorState:{defaultValue:null,description:"React element displayed when there is an error state.",name:"errorState",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},emptyState:{defaultValue:null,description:"React element displayed when there is no data.",name:"emptyState",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},style:{defaultValue:null,description:"Custom styles for the table.",name:"style",required:!1,type:{name:"CSSProperties"}},children:{defaultValue:null,description:"The child components inside the table, such as `<TableHeader />` and `<TableBody />`.",name:"children",required:!1,type:{name:"ReactElement<TableHeaderProps, string | JSXElementConstructor<any>> | ReactElement<TableBodyProps, string | JSXElementConstructor<...>> | (ReactElement<...> | ReactElement<...>)[]"}},size:{defaultValue:{value:"medium"},description:"The row size of the table.",name:"size",required:!1,type:{name:"RowSizes"}},withoutBorder:{defaultValue:null,description:"If true, removes the table's outer border.",name:"withoutBorder",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Ee="_tableHeader_kkfng_1",He="_virtualized_kkfng_14",Z={tableHeader:Ee,virtualized:He},ee=t.forwardRef(({id:e,className:o,"data-testid":d,children:a},n)=>{const{headRef:c,onHeadScroll:r,isVirtualized:l}=se(),u=X(c,n);return s.jsx("div",{ref:u,id:e,className:T(Z.tableHeader,{[Z.virtualized]:l},o),"data-testid":d||R(x.TABLE_HEADER,e),role:"rowgroup",onScroll:r,children:a})});try{ee.displayName="TableHeader",ee.__docgenInfo={description:"",displayName:"TableHeader",props:{children:{defaultValue:null,description:"The child elements inside the table header, typically `<TableHeaderCell />` components.",name:"children",required:!1,type:{name:"ReactElement<TableHeaderCellProps, string | JSXElementConstructor<any>> | ReactElement<TableHeaderCellProps, string | JSXElementConstructor<...>>[]"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Le="_tableHeaderCell_189jn_1",Me="_sticky_189jn_22",Ie="_sortActive_189jn_31",je="_tableHeaderCellContent_189jn_34",Be="_icon_189jn_37",Pe="_infoTooltip_189jn_40",ze="_tableHeaderCellSort_189jn_43",$e="_sort_189jn_31",Oe="_asc_189jn_50",We="_desc_189jn_50",Xe="_show_189jn_53",g={tableHeaderCell:Le,"focus-visible":"_focus-visible_189jn_13",sticky:Me,sortActive:Ie,tableHeaderCellContent:je,icon:Be,infoTooltip:Pe,tableHeaderCellSort:ze,sort:$e,asc:Oe,desc:We,show:Xe},te=t.forwardRef(({id:e,className:o,"data-testid":d,title:a,onSortClicked:n,infoContent:c,icon:r,sortState:l="none",sortButtonAriaLabel:u="Sort",sticky:_},i)=>{const[p,m]=t.useState(!1),f=I(l),h=n&&f!=="none",y=f!=="none"||p;return s.jsxs("div",{ref:i,id:e,className:T(g.tableHeaderCell,{[g.sortActive]:h,[g.sticky]:_},o),"data-testid":d||R(x.TABLE_HEADER_CELL,e),role:"columnheader",onMouseOver:()=>m(!0),onMouseLeave:()=>m(!1),onFocus:()=>m(!0),onBlur:()=>m(!1),"aria-sort":n?f:void 0,tabIndex:n?0:void 0,children:[s.jsxs(Y,{direction:"row",align:"center",className:g.tableHeaderCellContent,gap:"xs",children:[r&&s.jsx(K,{icon:r,className:g.icon}),typeof a=="string"?s.jsx(re,{type:"text2",weight:"medium",color:"secondary",children:a}):a,c&&s.jsx(be,{content:c,referenceWrapperClassName:g.infoTooltip,children:s.jsx(K,{icon:ge,iconLabel:c})})]}),n&&s.jsx(Y,{direction:"row",align:"center",className:g.tableHeaderCellSort,children:s.jsx(ye,{icon:L(l),kind:"tertiary",size:"xs",ariaLabel:u,"aria-hidden":!y,className:T(g.sort,H(g,l),{[g.show]:y}),onClick:()=>n(M(l))})})]})});try{te.displayName="TableHeaderCell",te.__docgenInfo={description:"",displayName:"TableHeaderCell",props:{title:{defaultValue:null,description:"The title of the column, displayed inside the header cell.",name:"title",required:!0,type:{name:"ReactNode"}},icon:{defaultValue:null,description:"Icon displayed next to the column title.",name:"icon",required:!1,type:{name:"SubIcon"}},infoContent:{defaultValue:null,description:"Tooltip content for additional information about the column.",name:"infoContent",required:!1,type:{name:"string"}},sortState:{defaultValue:{value:"none"},description:"Current sorting state of the column.",name:"sortState",required:!1,type:{name:'"none" | "desc" | "asc"'}},onSortClicked:{defaultValue:null,description:"Callback fired when the column header is clicked to change sorting.",name:"onSortClicked",required:!1,type:{name:'(direction: "none" | "desc" | "asc") => void'}},sortButtonAriaLabel:{defaultValue:{value:"Sort"},description:"ARIA label for the sort button.",name:"sortButtonAriaLabel",required:!1,type:{name:"string"}},sticky:{defaultValue:null,description:"If true, the header cell remains visible while scrolling horizontally.",name:"sticky",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Je="_tableRow_1fspi_2",De={tableRow:Je},$=t.forwardRef(({highlighted:e,children:o,style:d,id:a,className:n,"data-testid":c},r)=>{const l=t.useRef(null),u=X(l,r),{onMouseOverRow:_,onMouseLeaveRow:i}=Ae(),p=t.useCallback(()=>{_(l)},[_]);return s.jsx("div",{id:a,"data-testid":c||R(x.TABLE_ROW,a),ref:u,role:"row","aria-selected":e||!1,className:T(De.tableRow,n),style:d,onMouseEnter:p,onMouseLeave:i,tabIndex:-1,children:o})});try{$.displayName="TableRow",$.__docgenInfo={description:"",displayName:"TableRow",props:{highlighted:{defaultValue:null,description:"If true, applies a highlighted style to the row.",name:"highlighted",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"The child components inside the table row, typically `<TableCell />` elements.",name:"children",required:!1,type:{name:"ReactElement<TableCellProps, string | JSXElementConstructor<any>> | ReactElement<TableCellProps, string | JSXElementConstructor<...>>[]"}},style:{defaultValue:null,description:"Custom styles applied to the table row.",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Fe="_tableBody_1lt0s_1",Ge={tableBody:Fe},Ue="_tableCell_1uasb_1",Ke="_sticky_1uasb_7",ae={tableCell:Ue,sticky:Ke},O=t.forwardRef(({sticky:e,id:o,className:d,"data-testid":a,children:n},c)=>{const r=U.Children.count(n)===1,l=typeof U.Children.toArray(n)[0],u=l==="string"||l==="number";return s.jsx("div",{ref:c,id:o,className:T(ae.tableCell,{[ae.sticky]:e},d),"data-testid":a||R(x.TABLE_CELL,o),role:"cell",children:r&&u?s.jsx(re,{type:"text2",color:"primary",children:n}):n})});try{O.displayName="TableCell",O.__docgenInfo={description:"",displayName:"TableCell",props:{children:{defaultValue:null,description:"The content inside the table cell.",name:"children",required:!1,type:{name:"ReactNode"}},sticky:{defaultValue:null,description:"If true, makes the cell sticky (typically used for frozen columns).",name:"sticky",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Ye="_tableCellSkeletonWrapper_1p0ku_1",Qe="_longText_1p0ku_4",Ze="_mediumText_1p0ku_7",et="_tableCellSkeleton_1p0ku_1",tt="_circle_1p0ku_14",at="_rectangle_1p0ku_14",q={tableCellSkeletonWrapper:Ye,longText:Qe,mediumText:Ze,tableCellSkeleton:et,circle:tt,rectangle:at},W=({type:e="long-text"})=>{const o=["long-text","medium-text"].includes(e);return s.jsx(O,{children:s.jsx(he,{type:j(e),wrapperClassName:T(q.tableCellSkeletonWrapper,H(q,Q(e))),className:T(q.tableCellSkeleton,{[H(q,Q(e))]:!o}),fullWidth:!0})})};try{W.displayName="TableCellSkeleton",W.__docgenInfo={description:"",displayName:"TableCellSkeleton",props:{type:{defaultValue:{value:"long-text"},description:"The type of loading state for the skeleton.",name:"type",required:!1,type:{name:"TableLoadingStateType"}},short:{defaultValue:null,description:"If true, renders a shorter skeleton for text-based loading states.",name:"short",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const ne=t.forwardRef(({id:e,className:o,"data-testid":d,children:a},n)=>{const{dataState:c,emptyState:r,errorState:l,columns:u}=se(),{isLoading:_,isError:i}=c||{},p=[...new Array(ve)].map((m,f)=>s.jsx($,{children:u.map(({loadingStateType:h},y)=>s.jsx(W,{type:xe(h,f)},`${f}-${y}`))},f));return s.jsx("div",{ref:n,id:e,className:T(Ge.tableBody,o),"data-testid":d||R(x.TABLE_BODY,e),role:"rowgroup",children:_?p:i?l:!a||Array.isArray(a)&&a.length===0?r:a})});try{ne.displayName="TableBody",ne.__docgenInfo={description:"",displayName:"TableBody",props:{children:{defaultValue:null,description:"The child components inside the table body, such as `<TableRow />` elements.",name:"children",required:!1,type:{name:"ReactElement<TableRowProps, string | JSXElementConstructor<any>> | ReactElement<TableRowProps, string | JSXElementConstructor<...>>[] | ReactElement<...>"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Ne as R,Tt as T,ee as a,te as b,ne as c,$ as d,O as e,Ae as f,se as u};
