function T(f,h,{signal:e,edges:i}={}){let o,t=null;const r=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),l=()=>{t!==null&&(f.apply(o,t),o=void 0,t=null)},c=()=>{u&&l(),p()};let n=null;const s=()=>{n!=null&&clearTimeout(n),n=setTimeout(()=>{n=null,c()},h)},d=()=>{n!==null&&(clearTimeout(n),n=null)},p=()=>{d(),o=void 0,t=null},b=()=>{l()},a=function(...m){if(e!=null&&e.aborted)return;o=this,t=m;const y=n==null;s(),r&&y&&l()};return a.schedule=s,a.cancel=p,a.flush=b,e==null||e.addEventListener("abort",p,{once:!0}),a}function w(f,h=0,e={}){typeof e!="object"&&(e={});const{leading:i=!1,trailing:o=!0,maxWait:t}=e,r=Array(2);i&&(r[0]="leading"),o&&(r[1]="trailing");let u,l=null;const c=T(function(...d){u=f.apply(this,d),l=null},h,{edges:r}),n=function(...d){return t!=null&&(l===null&&(l=Date.now()),Date.now()-l>=t)?(u=f.apply(this,d),l=Date.now(),c.cancel(),c.schedule(),u):(c.apply(this,d),u)},s=()=>(c.flush(),u);return n.cancel=c.cancel,n.flush=s,n}export{w as d};
