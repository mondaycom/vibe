import{r as a}from"./index-CTZeEbLr.js";import{d as b}from"./debounce-D3NSP8gs.js";function v({ref:e,callback:t,debounceTime:n=200}){const o=a.useCallback(b(t,n),[t,n]);a.useEffect(()=>{if(!window.ResizeObserver||!(e!=null&&e.current))return;function u(i){const c=Array.isArray(i)?i[0]:i;return window.requestAnimationFrame(()=>{o({borderBoxSize:c})})}let l=null;const s=new ResizeObserver(i=>{var c;const r=i[0];if(r&&r.borderBoxSize)Array.isArray(r.borderBoxSize)?l=u(r.borderBoxSize[0]):l=u(r.borderBoxSize);else{if(!r.contentRect)return;{const f={blockSize:r.contentRect.height,inlineSize:((c=r==null?void 0:r.contentRect)===null||c===void 0?void 0:c.width)||0};l=u(f)}}});return s.observe(e==null?void 0:e.current),()=>{n!==0&&o.cancel(),l&&window.cancelAnimationFrame(l),s.disconnect()}},[e==null?void 0:e.current,t,n,o])}function d(e,t,n=0,o=0){return e?e.scrollWidth>e.clientWidth+o||!t&&e.scrollHeight>e.clientHeight+n:!1}function h({ref:e,ignoreHeightOverflow:t=!1,tolerance:n,widthTolerance:o}){const[u,l]=a.useState(()=>d(e==null?void 0:e.current,t,n,o)),s=a.useCallback(()=>{const i=e==null?void 0:e.current;if(!i)return;const c=d(i,t,n,o);l(r=>r!==c?c:r)},[t,e,n,o]);return v({ref:e,callback:s,debounceTime:0}),u}export{h as i,v as o};
