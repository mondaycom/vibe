import{j as e}from"./jsx-runtime-lwGtIXvq.js";import{c as s}from"./index-BpvXyOxN.js";import{r as u}from"./index-CTZeEbLr.js";import{u as J}from"./useMergeRef-C008K4k9.js";import{g,C as I,a as U}from"./test-ids-utils-B1IbFLmr.js";import{B as X}from"./BaseInput-VvFX1jih.js";import{u as G}from"./index-BAD2x3ug.js";import{I as Q}from"./IconButton-C5FYW7AS.js";import{I as Y}from"./Icon-MuJFX10s.js";import{L as Z}from"./Loader-BoNkL6w8.js";import{a as $}from"./CloseSmall-DUYWL2FE.js";import{r as ee}from"./Search-ClaS4_rs.js";const ae="_searchWrapper_1ygyc_1",te="_search_1ygyc_1",ne="_loader_1ygyc_7",re="_icon_1ygyc_10",ie="_empty_1ygyc_15",a={searchWrapper:ae,search:te,loader:ne,icon:re,empty:ie},C=u.forwardRef(({searchIconName:c=ee,clearIconName:v=$,clearIconLabel:V="Clear",renderAction:d,hideRenderActionOnInput:q,value:R,placeholder:_,size:n="medium",disabled:r,loading:p,autoFocus:x,autoComplete:E="off",inputAriaLabel:A,debounceRate:w=400,searchResultsContainerId:m,currentAriaResultId:S,onChange:T,onFocus:N,onBlur:L,onClear:i,onKeyDown:k,className:B,ariaExpanded:f,ariaHasPopup:F,showClearIcon:H=!0,id:o,"data-testid":j},z)=>{const h=u.useRef(null),D=J(z,h),{inputValue:t,onEventChanged:M,clearValue:y}=G({delay:w,onChange:T,initialStateValue:R}),P=u.useCallback(()=>{var l,b;r||((b=(l=h.current)==null?void 0:l.focus)==null||b.call(l),y(),i==null||i())},[r,y,i]),W=e.jsx(Y,{icon:c,className:a.icon,iconType:"font",iconSize:n==="small"?"16px":"20px"}),K=e.jsx(Q,{className:s(a.icon,{[a.empty]:!t}),icon:v,ariaLabel:V,onClick:P,size:n==="small"?"xs":"small","data-testid":g(I.CLEAN_SEARCH_BUTTON,o)}),O=e.jsxs(e.Fragment,{children:[p&&e.jsx(Z,{size:n==="small"?"xs":20,color:"secondary",wrapperClassName:s({[a.loader]:!t&&!d})}),H&&t&&!r&&K,!(q&&t)&&d]});return e.jsx(X,{ref:D,id:o,type:"search","data-testid":j||g(I.SEARCH,o),"data-vibe":U.SEARCH,className:s(a.searchWrapper,B),inputClassName:a.search,value:t,renderLeft:W,renderRight:O,autoFocus:x,placeholder:_,disabled:r,onChange:M,onBlur:L,onFocus:N,onKeyDown:k,autoComplete:E,size:n,wrapperRole:"search",inputRole:m?"combobox":void 0,"aria-label":A,"aria-busy":p,"aria-controls":f?m:void 0,"aria-activedescendant":S,"aria-haspopup":F,"aria-expanded":f})});try{C.displayName="Search",C.__docgenInfo={description:"",displayName:"Search",props:{searchIconName:{defaultValue:null,description:"The icon used for the search button.",name:"searchIconName",required:!1,type:{name:"SubIcon"}},clearIconName:{defaultValue:null,description:"The icon used for the clear button.",name:"clearIconName",required:!1,type:{name:"SubIcon"}},clearIconLabel:{defaultValue:{value:"Clear"},description:"The label for the clear button, for accessibility purposes.",name:"clearIconLabel",required:!1,type:{name:"string"}},renderAction:{defaultValue:null,description:"Renders an additional action button in the search input.",name:"renderAction",required:!1,type:{name:"ReactElement<(ForwardRefExoticComponent<IconButtonProps & RefAttributes<HTMLElement>> & Required<IconButtonStaticProps>) | (ForwardRefExoticComponent<...> & Required<...>), string | JSXElementConstructor<...>>"}},hideRenderActionOnInput:{defaultValue:null,description:"If true, hides the additional action button when input has text.",name:"hideRenderActionOnInput",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"The current value of the search input.",name:"value",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"The placeholder text displayed when the input is empty.",name:"placeholder",required:!1,type:{name:"string"}},size:{defaultValue:{value:"medium"},description:"The size of the search input, affecting padding and font size.",name:"size",required:!1,type:{name:"InputSize"}},disabled:{defaultValue:null,description:"If true, disables the search input.",name:"disabled",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"If true, displays a loading indicator inside the input.",name:"loading",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"If true, automatically focuses the search input on mount.",name:"autoFocus",required:!1,type:{name:"boolean"}},autoComplete:{defaultValue:{value:"off"},description:"Configures the browser's autocomplete behavior.",name:"autoComplete",required:!1,type:{name:"string"}},inputAriaLabel:{defaultValue:null,description:"The ARIA label for the search input.",name:"inputAriaLabel",required:!1,type:{name:"string"}},ariaExpanded:{defaultValue:null,description:"If true, indicates that a popup is open.",name:"ariaExpanded",required:!1,type:{name:"Booleanish"}},ariaHasPopup:{defaultValue:null,description:"Specifies the type of popup associated with the search input.",name:"ariaHasPopup",required:!1,type:{name:'boolean | "grid" | "listbox" | "menu" | "tree" | "dialog" | "false" | "true"'}},debounceRate:{defaultValue:{value:"400"},description:"The debounce rate for input value changes.",name:"debounceRate",required:!1,type:{name:"number"}},searchResultsContainerId:{defaultValue:null,description:"The ID of the container where search results are displayed.",name:"searchResultsContainerId",required:!1,type:{name:"string"}},currentAriaResultId:{defaultValue:null,description:"ARIA property indicating the currently active search result.",name:"currentAriaResultId",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Callback fired when the search input value changes.",name:"onChange",required:!1,type:{name:"(value: string) => void"}},onBlur:{defaultValue:null,description:"Callback fired when the search input loses focus.",name:"onBlur",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onFocus:{defaultValue:null,description:"Callback fired when the search input gains focus.",name:"onFocus",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onClear:{defaultValue:null,description:"Callback fired when the clear button is clicked.",name:"onClear",required:!1,type:{name:"() => void"}},onKeyDown:{defaultValue:null,description:"Callback fired when a key is pressed inside the input.",name:"onKeyDown",required:!1,type:{name:"(event: KeyboardEvent<HTMLInputElement>) => void"}},showClearIcon:{defaultValue:{value:"true"},description:"If true, displays a clear button inside the search input.",name:"showClearIcon",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{C as S};
