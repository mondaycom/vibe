import{j as p}from"./jsx-runtime-lwGtIXvq.js";import{g as A,C as L}from"./test-ids-utils-CSfXomCJ.js";import{c as V}from"./index-BpvXyOxN.js";import{r as d}from"./index-CTZeEbLr.js";import{T as M}from"./Tooltip-BrDhcDk7.js";import{u as S}from"./useIsOverflowing-CDKfAaU8.js";import{u as $}from"./useIsomorphicLayoutEffect-CtfxbExD.js";import{u as k}from"./useMergeRef-C008K4k9.js";const G="_textWithHighlightWrapper_xhphd_1",O="_highlightText_xhphd_7",z="_withEllipsis_xhphd_13",m={textWithHighlightWrapper:G,highlightText:O,withEllipsis:z},D=(e,n,t,r="em",i)=>{const o=r;return t?p.jsx(o,{className:V(m.highlightText,i),children:e},n):p.jsx("span",{children:e},n)},H=d.forwardRef(({className:e,id:n,text:t="",highlightTerm:r,limit:i,useEllipsis:o=!0,linesToClamp:f=3,ignoreCase:c=!0,allowTermSplit:g=!0,nonEllipsisTooltip:T,tooltipPosition:W,wrappingTextTag:x="em",wrappingElementClassName:y,tooltipProps:v={},"data-testid":I},P)=>{const s=d.useRef(null),b=k(P,s),C=d.useMemo(()=>{if(!t||!r||i===0)return t;let l=U(r);g&&(l=l.split(" ").join("|"));const R=new RegExp(`(${l})`,c?"i":""),h=t.split(R),_=[];let q=0,j=0;for(let a=0;a<h.length;a++)if(h[a]){const E=a%2===1,N=E&&(!i||i<0||q<i);_.push(D(h[a],j++,N,x,y)),E&&q++}return _},[t,r,i,c,g,x,y]),u=S({ref:o&&s});$(()=>{s.current&&s.current.style.setProperty("--heading-clamp-lines",f.toString())},[s,f,u]);const w=p.jsx("div",{ref:b,className:V(m.textWithHighlightWrapper,e,{[m.withEllipsis]:o}),id:n,"data-testid":I||A(L.TEXT_WITH_HIGHLIGHT,n),children:C});if(u||T){const l=u?t:T;return p.jsx(M,{content:l,position:W,...v,children:w})}return w});function U(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}try{H.displayName="TextWithHighlight",H.__docgenInfo={description:"",displayName:"TextWithHighlight",props:{text:{defaultValue:{value:""},description:"The text content to display.",name:"text",required:!1,type:{name:"string"}},highlightTerm:{defaultValue:null,description:"The term to highlight within the text.",name:"highlightTerm",required:!1,type:{name:"string"}},limit:{defaultValue:null,description:"The maximum number of highlighted terms allowed.",name:"limit",required:!1,type:{name:"number"}},ignoreCase:{defaultValue:{value:"true"},description:"If true, the highlight search is case-insensitive.",name:"ignoreCase",required:!1,type:{name:"boolean"}},useEllipsis:{defaultValue:{value:"true"},description:"If true, truncates overflowing text with an ellipsis.",name:"useEllipsis",required:!1,type:{name:"boolean"}},allowTermSplit:{defaultValue:{value:"true"},description:"If true, allows splitting the highlight term into separate words.",name:"allowTermSplit",required:!1,type:{name:"boolean"}},linesToClamp:{defaultValue:{value:"3"},description:"The number of lines to display before truncating with an ellipsis.",name:"linesToClamp",required:!1,type:{name:"number"}},nonEllipsisTooltip:{defaultValue:null,description:"Tooltip content displayed when there is no overflow.",name:"nonEllipsisTooltip",required:!1,type:{name:"string"}},wrappingTextTag:{defaultValue:{value:"em"},description:"The HTML tag used to wrap highlighted text.",name:"wrappingTextTag",required:!1,type:{name:"keyof IntrinsicElements"}},wrappingElementClassName:{defaultValue:null,description:"Class name applied to the wrapping element of highlighted text.",name:"wrappingElementClassName",required:!1,type:{name:"string"}},tooltipPosition:{defaultValue:null,description:"The position of the tooltip when displayed.\n@deprecated Use `tooltipProps.position` instead.",name:"tooltipPosition",required:!1,type:{name:"TooltipPositions"}},tooltipProps:{defaultValue:{value:"{}"},description:"Additional props to customize the tooltip component.",name:"tooltipProps",required:!1,type:{name:"Partial<TooltipProps>"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{H as T};
