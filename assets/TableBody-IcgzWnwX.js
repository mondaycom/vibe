import{r as t,R as o}from"./index-Hemj67b4.js";import{c as T}from"./index-BpvXyOxN.js";import{g as v,b as S}from"./test-ids-utils-9ISiqDto.js";import{u as z}from"./useMergeRef-DQ4XPFxl.js";import{w as ce}from"./withStaticProps-DfSG2La2.js";import{I as W}from"./Icon-zHybxhV-.js";import{I as ue}from"./IconButton-BIAWrK7n.js";import{T as Z}from"./Text-C0CU0_Vh.js";import{F as D}from"./Flex-DIvs4XZj.js";import{T as de}from"./Tooltip-DUrP1YXb.js";import{g as A}from"./typesciptCssModulesHelper-Ji7rRrZn.js";import{t as me}from"./Info-BB4o2YOm.js";import{a as x,S as pe}from"./Skeleton-BikSzT0_.js";import{a as fe,b as ye,r as be}from"./SortDescending-B1UwxT6Q.js";import{c as F}from"./camelCase-B8c2Dc7Y.js";function H(e){return typeof e=="number"?`${e}px`:typeof e=="string"?/%|px|fr$/.test(e)?e:`${e}px`:e!=null&&e.min&&(e!=null&&e.max)?`minmax(${H(e.min)}, ${H(e.max)})`:"minmax(112px, 1fr)"}function _e(e,s={}){return{...s,display:"grid",gridTemplateColumns:e.map(u=>H(u.width)).join(" ")}}function ge(e){return e==="asc"?fe:e==="desc"?ye:be}function he(e){return e==="asc"?"desc":e==="desc"?"none":"asc"}function Te(e){return e==="asc"?"ascending":e==="desc"?"descending":"none"}function Ce(e){return e==="circle"?x.CIRCLE:e==="rectangle"?x.RECTANGLE:x.TEXT}function Re(e,s){return e==="long-text"?["long-text","medium-text"][s%2]:e}const ve=5;var ee=(e=>(e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e))(ee||{});const Se={small:32,medium:40,large:48},Ee="_table_j0du8_1",ke="_border_j0du8_13",Ve="_virtualized_j0du8_23",qe="_hasScroll_j0du8_26",V={table:Ee,border:ke,virtualized:Ve,hasScroll:qe},te=t.createContext(void 0),M=({value:e,children:s})=>{const{setIsScrolled:u}=e,a=t.useRef(null),l=t.useRef(null),c=t.useRef(0),n=t.useCallback((i,m)=>{if(i===c.current)return;m==="body"&&a.current&&(a.current.scrollLeft=i),m==="head"&&l.current&&(l.current.scrollLeft=i);const p=i>0;u(f=>f!==p?p:f),c.current=i},[u]),r=t.useCallback(i=>{const m=i.target.scrollLeft;n(m,"head")},[n]),d=t.useCallback(i=>{const m=i.target.scrollLeft;n(m,"body")},[n]),y=t.useMemo(()=>({...e,headRef:a,onHeadScroll:r,virtualizedListRef:l,onVirtualizedListScroll:d}),[e,r,d]);return o.createElement(te.Provider,{value:y},s)},ae=()=>{const e=t.useContext(te);if(e===void 0)throw new Error("useTable must be used within a TableProvider");return e};try{M.displayName="TableProvider",M.__docgenInfo={description:"",displayName:"TableProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TableProviderValue"}}}}}catch{}const le=t.createContext(void 0),L=({value:e,children:s})=>{const{tableRootRef:u,hoveredRowRef:a,isMenuOpen:l,resetHoveredRow:c,setHoveredRowRef:n,setIsMenuOpen:r}=e,[d,y]=t.useState(0),i=t.useRef(!1),m=t.useCallback(_=>{if(l)return;n(_);const C=u.current.getBoundingClientRect().top,N=_.current.getBoundingClientRect().top;y(N-C)},[l,n,u]),p=t.useCallback(()=>{l||i.current||n(null)},[l,n]),f=t.useCallback(()=>{i.current=!0},[]),h=t.useCallback(()=>{i.current=!1,!l&&(a!=null&&a.current||n(null))},[l,a,n]),b=t.useCallback(()=>{r(!0)},[r]),E=t.useCallback(()=>{r(!1)},[r]),k=t.useMemo(()=>{var _;return{hoveredRowId:(_=a==null?void 0:a.current)==null?void 0:_.id,resetHoveredRow:c,menuButtonPosition:d,onMouseOverRow:m,onMouseLeaveRow:p,onMouseOverRowMenu:f,onMouseLeaveRowMenu:h,setTableMenuShown:b,setTableMenuHidden:E}},[a,c,d,p,h,m,f,b,E]);return o.createElement(le.Provider,{value:k},s)},Ne=()=>{const e=t.useContext(le);if(!e)throw new Error("useTableRowMenuContext must be used within a TableRowMenuProvider");return e};try{L.displayName="TableRowMenuProvider",L.__docgenInfo={description:"",displayName:"TableRowMenuProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TableRowMenuProviderValue"}}}}}catch{}const I=t.forwardRef(({id:e,className:s,"data-testid":u,columns:a,errorState:l,emptyState:c,dataState:n,style:r,children:d,size:y="medium",withoutBorder:i},m)=>{const p=t.useRef(null),f=z(m,p),[h,b]=t.useState(!1),[E,k]=t.useState(null),_=t.useCallback(()=>{b(!1),k(null)},[]),[C,N]=t.useState(!1),j=t.useCallback(()=>{N(!0)},[]),[w,O]=t.useState(!1),ne=t.useCallback(R=>{if(_(),!C){const X=R.target.scrollLeft>0;O(J=>J!==X?X:J)}},[_,C]),{gridTemplateColumns:re}=_e(a),oe={"--table-grid-template-columns":re,"--table-row-size":`${Se[y]}px`,...r},se=t.useMemo(()=>({columns:a,dataState:n,emptyState:c,errorState:l,size:y,tableRootRef:p,isVirtualized:C,markTableAsVirtualized:j,isScrolled:w,setIsScrolled:R=>O(R)}),[a,n,c,l,C,j,w,y]),ie=t.useMemo(()=>({tableRootRef:p,hoveredRowRef:E,isMenuOpen:h,resetHoveredRow:_,setHoveredRowRef:R=>k(R),setIsMenuOpen:R=>b(R)}),[E,h,_,k]);return o.createElement(M,{value:se},o.createElement(L,{value:ie},o.createElement("div",{ref:f,id:e,className:T(V.table,{[V.border]:!i,[V.virtualized]:C,[V.hasScroll]:w},s),"data-testid":u||v(S.TABLE,e),role:"table",style:oe,onScroll:ne},d)))}),_t=ce(I,{sizes:ee});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{columns:{defaultValue:null,description:"Defines the columns of the table.",name:"columns",required:!0,type:{name:"TableColumn[]"}},dataState:{defaultValue:null,description:"State of the data being displayed (loading or error).",name:"dataState",required:!1,type:{name:"{ isLoading?: boolean; isError?: boolean; }"}},errorState:{defaultValue:null,description:"React element displayed when there is an error state.",name:"errorState",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},emptyState:{defaultValue:null,description:"React element displayed when there is no data.",name:"emptyState",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},style:{defaultValue:null,description:"Custom styles for the table.",name:"style",required:!1,type:{name:"CSSProperties"}},children:{defaultValue:null,description:"The child components inside the table, such as `<TableHeader />` and `<TableBody />`.",name:"children",required:!1,type:{name:"ReactElement<TableHeaderProps, string | JSXElementConstructor<any>> | ReactElement<TableBodyProps, string | JSXElementConstructor<...>> | (ReactElement<...> | ReactElement<...>)[]"}},size:{defaultValue:{value:"medium"},description:"The row size of the table.",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},withoutBorder:{defaultValue:null,description:"If true, removes the table's outer border.",name:"withoutBorder",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const we="_tableHeader_kkfng_1",xe="_virtualized_kkfng_14",G={tableHeader:we,virtualized:xe},U=t.forwardRef(({id:e,className:s,"data-testid":u,children:a},l)=>{const{headRef:c,onHeadScroll:n,isVirtualized:r}=ae(),d=z(c,l);return o.createElement("div",{ref:d,id:e,className:T(G.tableHeader,{[G.virtualized]:r},s),"data-testid":u||v(S.TABLE_HEADER,e),role:"rowgroup",onScroll:n},a)});try{U.displayName="TableHeader",U.__docgenInfo={description:"",displayName:"TableHeader",props:{children:{defaultValue:null,description:"The child elements inside the table header, typically `<TableHeaderCell />` components.",name:"children",required:!1,type:{name:"ReactElement<TableHeaderCellProps, string | JSXElementConstructor<any>> | ReactElement<TableHeaderCellProps, string | JSXElementConstructor<...>>[]"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Ae="_tableHeaderCell_189jn_1",He="_sticky_189jn_22",Me="_sortActive_189jn_31",Le="_tableHeaderCellContent_189jn_34",Ie="_icon_189jn_37",Pe="_infoTooltip_189jn_40",Be="_tableHeaderCellSort_189jn_43",$e="_sort_189jn_31",ze="_asc_189jn_50",je="_desc_189jn_50",Oe="_show_189jn_53",g={tableHeaderCell:Ae,"focus-visible":"_focus-visible_189jn_13",sticky:He,sortActive:Me,tableHeaderCellContent:Le,icon:Ie,infoTooltip:Pe,tableHeaderCellSort:Be,sort:$e,asc:ze,desc:je,show:Oe},K=t.forwardRef(({id:e,className:s,"data-testid":u,title:a,onSortClicked:l,infoContent:c,icon:n,sortState:r="none",sortButtonAriaLabel:d="Sort",sticky:y},i)=>{const[m,p]=t.useState(!1),f=Te(r),h=l&&f!=="none",b=f!=="none"||m;return o.createElement("div",{ref:i,id:e,className:T(g.tableHeaderCell,{[g.sortActive]:h,[g.sticky]:y},s),"data-testid":u||v(S.TABLE_HEADER_CELL,e),role:"columnheader",onMouseOver:()=>p(!0),onMouseLeave:()=>p(!1),onFocus:()=>p(!0),onBlur:()=>p(!1),"aria-sort":l?f:void 0,tabIndex:l?0:void 0},o.createElement(D,{direction:"row",align:"center",className:g.tableHeaderCellContent,gap:"xs"},n&&o.createElement(W,{icon:n,className:g.icon}),typeof a=="string"?o.createElement(Z,{type:"text2",weight:"medium",color:"secondary"},a):a,c&&o.createElement(de,{content:c,referenceWrapperClassName:g.infoTooltip},o.createElement(W,{icon:me,iconLabel:c}))),l&&o.createElement(D,{direction:"row",align:"center",className:g.tableHeaderCellSort},o.createElement(ue,{icon:ge(r),kind:"tertiary",size:"xs",ariaLabel:d,"aria-hidden":!b,className:T(g.sort,A(g,r),{[g.show]:b}),onClick:()=>l(he(r))})))});try{K.displayName="TableHeaderCell",K.__docgenInfo={description:"",displayName:"TableHeaderCell",props:{title:{defaultValue:null,description:"The title of the column, displayed inside the header cell.",name:"title",required:!0,type:{name:"ReactNode"}},icon:{defaultValue:null,description:"Icon displayed next to the column title.",name:"icon",required:!1,type:{name:"SubIcon"}},infoContent:{defaultValue:null,description:"Tooltip content for additional information about the column.",name:"infoContent",required:!1,type:{name:"string"}},sortState:{defaultValue:{value:"none"},description:"Current sorting state of the column.",name:"sortState",required:!1,type:{name:"enum",value:[{value:'"desc"'},{value:'"none"'},{value:'"asc"'}]}},onSortClicked:{defaultValue:null,description:"Callback fired when the column header is clicked to change sorting.",name:"onSortClicked",required:!1,type:{name:'(direction: "desc" | "none" | "asc") => void'}},sortButtonAriaLabel:{defaultValue:{value:"Sort"},description:"ARIA label for the sort button.",name:"sortButtonAriaLabel",required:!1,type:{name:"string"}},sticky:{defaultValue:null,description:"If true, the header cell remains visible while scrolling horizontally.",name:"sticky",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Xe="_tableRow_1fspi_2",Je={tableRow:Xe},P=t.forwardRef(({highlighted:e,children:s,style:u,id:a,className:l,"data-testid":c},n)=>{const r=t.useRef(null),d=z(r,n),{onMouseOverRow:y,onMouseLeaveRow:i}=Ne(),m=t.useCallback(()=>{y(r)},[y]);return o.createElement("div",{id:a,"data-testid":c||v(S.TABLE_ROW,a),ref:d,role:"row","aria-selected":e||!1,className:T(Je.tableRow,l),style:u,onMouseEnter:m,onMouseLeave:i,tabIndex:-1},s)});try{P.displayName="TableRow",P.__docgenInfo={description:"",displayName:"TableRow",props:{highlighted:{defaultValue:null,description:"If true, applies a highlighted style to the row.",name:"highlighted",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"The child components inside the table row, typically `<TableCell />` elements.",name:"children",required:!1,type:{name:"ReactElement<TableCellProps, string | JSXElementConstructor<any>> | ReactElement<TableCellProps, string | JSXElementConstructor<...>>[]"}},style:{defaultValue:null,description:"Custom styles applied to the table row.",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const We="_tableBody_1lt0s_1",De={tableBody:We},Fe="_tableCell_1uasb_1",Ge="_sticky_1uasb_7",Y={tableCell:Fe,sticky:Ge},B=t.forwardRef(({sticky:e,id:s,className:u,"data-testid":a,children:l},c)=>{const n=o.Children.count(l)===1,r=typeof o.Children.toArray(l)[0],d=r==="string"||r==="number";return o.createElement("div",{ref:c,id:s,className:T(Y.tableCell,{[Y.sticky]:e},u),"data-testid":a||v(S.TABLE_CELL,s),role:"cell"},n&&d?o.createElement(Z,{type:"text2",color:"primary"},l):l)});try{B.displayName="TableCell",B.__docgenInfo={description:"",displayName:"TableCell",props:{children:{defaultValue:null,description:"The content inside the table cell.",name:"children",required:!1,type:{name:"ReactNode"}},sticky:{defaultValue:null,description:"If true, makes the cell sticky (typically used for frozen columns).",name:"sticky",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Ue="_tableCellSkeletonWrapper_1p0ku_1",Ke="_longText_1p0ku_4",Ye="_mediumText_1p0ku_7",Qe="_tableCellSkeleton_1p0ku_1",Ze="_circle_1p0ku_14",et="_rectangle_1p0ku_14",q={tableCellSkeletonWrapper:Ue,longText:Ke,mediumText:Ye,tableCellSkeleton:Qe,circle:Ze,rectangle:et},$=({type:e="long-text"})=>{const s=["long-text","medium-text"].includes(e);return o.createElement(B,null,o.createElement(pe,{type:Ce(e),wrapperClassName:T(q.tableCellSkeletonWrapper,A(q,F(e))),className:T(q.tableCellSkeleton,{[A(q,F(e))]:!s}),fullWidth:!0}))};try{$.displayName="TableCellSkeleton",$.__docgenInfo={description:"",displayName:"TableCellSkeleton",props:{type:{defaultValue:{value:"long-text"},description:"The type of loading state for the skeleton.",name:"type",required:!1,type:{name:"enum",value:[{value:'"circle"'},{value:'"rectangle"'},{value:'"medium-text"'},{value:'"long-text"'}]}},short:{defaultValue:null,description:"If true, renders a shorter skeleton for text-based loading states.",name:"short",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Q=t.forwardRef(({id:e,className:s,"data-testid":u,children:a},l)=>{const{dataState:c,emptyState:n,errorState:r,columns:d}=ae(),{isLoading:y,isError:i}=c||{},m=[...new Array(ve)].map((p,f)=>o.createElement(P,{key:f},d.map(({loadingStateType:h},b)=>o.createElement($,{key:`${f}-${b}`,type:Re(h,f)}))));return o.createElement("div",{ref:l,id:e,className:T(De.tableBody,s),"data-testid":u||v(S.TABLE_BODY,e),role:"rowgroup"},y?m:i?r:!a||Array.isArray(a)&&a.length===0?n:a)});try{Q.displayName="TableBody",Q.__docgenInfo={description:"",displayName:"TableBody",props:{children:{defaultValue:null,description:"The child components inside the table body, such as `<TableRow />` elements.",name:"children",required:!1,type:{name:"ReactElement<TableRowProps, string | JSXElementConstructor<any>> | ReactElement<TableRowProps, string | JSXElementConstructor<...>>[] | ReactElement<...>"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Se as R,_t as T,U as a,K as b,Q as c,P as d,B as e,Ne as f,ae as u};
