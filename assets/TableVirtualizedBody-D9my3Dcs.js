import{r as n,R as l}from"./index-Hemj67b4.js";import{u as S,f as D,c as g,R as N}from"./TableBody-IcgzWnwX.js";import{A as k,F}from"./react-virtualized-auto-sizer.esm-BXbsNbB2.js";import{c as w}from"./index-BpvXyOxN.js";import{g as _,b as z}from"./test-ids-utils-9ISiqDto.js";const M="_tableBody_p1dlh_1",W="_withHeader_p1dlh_4",f={tableBody:M,withHeader:W},x=l.memo(({item:r,rowRenderer:m,style:s})=>{var c;const o=m(r),{width:u,...d}=s;return l.cloneElement(o,{style:{...d,...(c=o.props)==null?void 0:c.style}})}),R=n.forwardRef(({items:r,rowRenderer:m,onScroll:s,columns:o,headerRenderer:u,id:d,className:c,"data-testid":h,overscanCount:v=1},y)=>{const{size:B,virtualizedListRef:p,onVirtualizedListScroll:T,markTableAsVirtualized:E,dataState:q}=S(),{resetHoveredRow:V}=D(),t=!!o&&!!u,{isLoading:C}=q||{},b=n.useCallback(e=>{const a=e.target;V(),T({target:a,currentTarget:a})},[V,T]);n.useEffect(()=>{const e=p.current;if(e)return e.addEventListener("scroll",b),()=>{e.removeEventListener("scroll",b)}},[b,p]);const L=n.useCallback(({scrollDirection:e,scrollOffset:a,scrollUpdateWasRequested:i})=>{t||s==null||s(e,a,i)},[s,t]),A=n.useCallback(({index:e,style:a})=>{if(t&&e===0)return null;const i=t?e-1:e,I=r[i];return l.createElement(x,{item:I,rowRenderer:m,style:a})},[r,m,t]);n.useEffect(()=>{t||E()},[E,t]);const H=n.useMemo(()=>t?n.forwardRef(({children:e,...a},i)=>l.createElement("div",{ref:i,...a},u(o),e)):void 0,[t,u,o]);return C&&t?l.createElement("div",{ref:y,id:d,className:w(f.tableBody,f.withHeader,c),"data-testid":h||_(z.TABLE_VIRTUALIZED_BODY,d)},u(o),l.createElement(g,null)):l.createElement(g,{className:w(f.tableBody,{[f.withHeader]:t},c),id:d,"data-testid":h||_(z.TABLE_VIRTUALIZED_BODY,d),ref:y},(r==null?void 0:r.length)&&l.createElement(k,null,({height:e,width:a})=>l.createElement(F,{itemSize:N[B],height:e,itemCount:t?r.length+1:r.length,width:a,overscanCount:v,onScroll:L,outerRef:i=>{p.current=i},innerElementType:H},A)))});try{R.displayName="TableVirtualizedBody",R.__docgenInfo={description:"",displayName:"TableVirtualizedBody",props:{items:{defaultValue:null,description:"The list of items to render in the virtualized table.",name:"items",required:!0,type:{name:"TableVirtualizedRow[]"}},rowRenderer:{defaultValue:null,description:"Function to render a row in the table.",name:"rowRenderer",required:!0,type:{name:"(item: TableVirtualizedRow) => Element"}},onScroll:{defaultValue:null,description:"Callback function triggered on scroll.",name:"onScroll",required:!1,type:{name:"(horizontalScrollDirection: ScrollDirection, scrollTop: number, scrollUpdateWasRequested: boolean) => void"}},columns:{defaultValue:null,description:"The columns configuration for the table.",name:"columns",required:!1,type:{name:"TableColumn[]"}},headerRenderer:{defaultValue:null,description:"Function to render the table header.",name:"headerRenderer",required:!1,type:{name:"(columns: TableColumn[]) => Element"}},overscanCount:{defaultValue:{value:"1"},description:"Number of rows to render above/below the visible area.",name:"overscanCount",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{R as T};
