import{j as s}from"./jsx-runtime-DDzbWKUH.js";import{g as L,C as R}from"./test-ids-utils-CSfXomCJ.js";import{c as E}from"./index-BpvXyOxN.js";import{r as d}from"./index-Hemj67b4.js";import{T as N}from"./Tooltip-Dy1pRS1m.js";import{u as S}from"./useIsOverflowing-CkZDmDV4.js";import{u as G}from"./useIsomorphicLayoutEffect-FdvxY73P.js";import{u as A}from"./useMergeRef-DQ4XPFxl.js";const D="_textWithHighlightWrapper_xhphd_1",F="_highlightText_xhphd_7",O="_withEllipsis_xhphd_13",h={textWithHighlightWrapper:D,highlightText:F,withEllipsis:O},B=(e,t,a,u="em",l)=>{const o=u;return a?s.jsx(o,{className:E(h.highlightText,l),children:e},t):s.jsx("span",{children:e},t)},q=d.forwardRef(({className:e,id:t,text:a="",highlightTerm:u,limit:l,useEllipsis:o=!0,linesToClamp:m=3,ignoreCase:f=!0,allowTermSplit:c=!0,nonEllipsisTooltip:g,tooltipPosition:H,wrappingTextTag:T="em",wrappingElementClassName:x,tooltipProps:V={},"data-testid":W},C)=>{const i=d.useRef(null),P=A(C,i),I=d.useMemo(()=>{if(!a||!u||l===0)return a;let r=$(u);c&&(r=r.split(" ").join("|"));const M=new RegExp(`(${r})`,f?"i":""),p=a.split(M),b=[];let w=0,j=0;for(let n=0;n<p.length;n++)if(p[n]){const _=n%2===1,k=_&&(!l||l<0||w<l);b.push(B(p[n],j++,k,T,x)),_&&w++}return b},[a,u,l,f,c,T,x]),v=S({ref:o&&i});G(()=>{i.current&&i.current.style.setProperty("--heading-clamp-lines",m.toString())},[i,m,v]);const y=s.jsx("div",{ref:P,className:E(h.textWithHighlightWrapper,e,{[h.withEllipsis]:o}),id:t,"data-testid":W||L(R.TEXT_WITH_HIGHLIGHT,t),children:I});if(v||g){const r=v?a:g;return s.jsx(N,{content:r,position:H,...V,children:y})}return y});function $(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}try{q.displayName="TextWithHighlight",q.__docgenInfo={description:"",displayName:"TextWithHighlight",props:{text:{defaultValue:{value:""},description:"The text content to display.",name:"text",required:!1,type:{name:"string"}},highlightTerm:{defaultValue:null,description:"The term to highlight within the text.",name:"highlightTerm",required:!1,type:{name:"string"}},limit:{defaultValue:null,description:"The maximum number of highlighted terms allowed.",name:"limit",required:!1,type:{name:"number"}},ignoreCase:{defaultValue:{value:"true"},description:"If true, the highlight search is case-insensitive.",name:"ignoreCase",required:!1,type:{name:"boolean"}},useEllipsis:{defaultValue:{value:"true"},description:"If true, truncates overflowing text with an ellipsis.",name:"useEllipsis",required:!1,type:{name:"boolean"}},allowTermSplit:{defaultValue:{value:"true"},description:"If true, allows splitting the highlight term into separate words.",name:"allowTermSplit",required:!1,type:{name:"boolean"}},linesToClamp:{defaultValue:{value:"3"},description:"The number of lines to display before truncating with an ellipsis.",name:"linesToClamp",required:!1,type:{name:"number"}},nonEllipsisTooltip:{defaultValue:null,description:"Tooltip content displayed when there is no overflow.",name:"nonEllipsisTooltip",required:!1,type:{name:"string"}},wrappingTextTag:{defaultValue:{value:"em"},description:"The HTML tag used to wrap highlighted text.",name:"wrappingTextTag",required:!1,type:{name:"enum",value:[{value:'"symbol"'},{value:'"object"'},{value:'"small"'},{value:'"line"'},{value:'"a"'},{value:'"abbr"'},{value:'"address"'},{value:'"area"'},{value:'"article"'},{value:'"aside"'},{value:'"audio"'},{value:'"b"'},{value:'"base"'},{value:'"bdi"'},{value:'"bdo"'},{value:'"big"'},{value:'"blockquote"'},{value:'"body"'},{value:'"br"'},{value:'"button"'},{value:'"canvas"'},{value:'"caption"'},{value:'"center"'},{value:'"cite"'},{value:'"code"'},{value:'"col"'},{value:'"colgroup"'},{value:'"data"'},{value:'"datalist"'},{value:'"dd"'},{value:'"del"'},{value:'"details"'},{value:'"dfn"'},{value:'"dialog"'},{value:'"div"'},{value:'"dl"'},{value:'"dt"'},{value:'"em"'},{value:'"embed"'},{value:'"fieldset"'},{value:'"figcaption"'},{value:'"figure"'},{value:'"footer"'},{value:'"form"'},{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"h6"'},{value:'"head"'},{value:'"header"'},{value:'"hgroup"'},{value:'"hr"'},{value:'"html"'},{value:'"i"'},{value:'"iframe"'},{value:'"img"'},{value:'"input"'},{value:'"ins"'},{value:'"kbd"'},{value:'"keygen"'},{value:'"label"'},{value:'"legend"'},{value:'"li"'},{value:'"link"'},{value:'"main"'},{value:'"map"'},{value:'"mark"'},{value:'"menu"'},{value:'"menuitem"'},{value:'"meta"'},{value:'"meter"'},{value:'"nav"'},{value:'"noindex"'},{value:'"noscript"'},{value:'"ol"'},{value:'"optgroup"'},{value:'"option"'},{value:'"output"'},{value:'"p"'},{value:'"param"'},{value:'"picture"'},{value:'"pre"'},{value:'"progress"'},{value:'"q"'},{value:'"rp"'},{value:'"rt"'},{value:'"ruby"'},{value:'"s"'},{value:'"samp"'},{value:'"search"'},{value:'"slot"'},{value:'"script"'},{value:'"section"'},{value:'"select"'},{value:'"source"'},{value:'"span"'},{value:'"strong"'},{value:'"style"'},{value:'"sub"'},{value:'"summary"'},{value:'"sup"'},{value:'"table"'},{value:'"template"'},{value:'"tbody"'},{value:'"td"'},{value:'"textarea"'},{value:'"tfoot"'},{value:'"th"'},{value:'"thead"'},{value:'"time"'},{value:'"title"'},{value:'"tr"'},{value:'"track"'},{value:'"u"'},{value:'"ul"'},{value:'"var"'},{value:'"video"'},{value:'"wbr"'},{value:'"webview"'},{value:'"svg"'},{value:'"animate"'},{value:'"animateMotion"'},{value:'"animateTransform"'},{value:'"circle"'},{value:'"clipPath"'},{value:'"defs"'},{value:'"desc"'},{value:'"ellipse"'},{value:'"feBlend"'},{value:'"feColorMatrix"'},{value:'"feComponentTransfer"'},{value:'"feComposite"'},{value:'"feConvolveMatrix"'},{value:'"feDiffuseLighting"'},{value:'"feDisplacementMap"'},{value:'"feDistantLight"'},{value:'"feDropShadow"'},{value:'"feFlood"'},{value:'"feFuncA"'},{value:'"feFuncB"'},{value:'"feFuncG"'},{value:'"feFuncR"'},{value:'"feGaussianBlur"'},{value:'"feImage"'},{value:'"feMerge"'},{value:'"feMergeNode"'},{value:'"feMorphology"'},{value:'"feOffset"'},{value:'"fePointLight"'},{value:'"feSpecularLighting"'},{value:'"feSpotLight"'},{value:'"feTile"'},{value:'"feTurbulence"'},{value:'"filter"'},{value:'"foreignObject"'},{value:'"g"'},{value:'"image"'},{value:'"linearGradient"'},{value:'"marker"'},{value:'"mask"'},{value:'"metadata"'},{value:'"mpath"'},{value:'"path"'},{value:'"pattern"'},{value:'"polygon"'},{value:'"polyline"'},{value:'"radialGradient"'},{value:'"rect"'},{value:'"set"'},{value:'"stop"'},{value:'"switch"'},{value:'"text"'},{value:'"textPath"'},{value:'"tspan"'},{value:'"use"'},{value:'"view"'}]}},wrappingElementClassName:{defaultValue:null,description:"Class name applied to the wrapping element of highlighted text.",name:"wrappingElementClassName",required:!1,type:{name:"string"}},tooltipPosition:{defaultValue:null,description:"The position of the tooltip when displayed.\n@deprecated Use `tooltipProps.position` instead.",name:"tooltipPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},tooltipProps:{defaultValue:{value:"{}"},description:"Additional props to customize the tooltip component.",name:"tooltipProps",required:!1,type:{name:"Partial<TooltipProps>"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{q as T};
