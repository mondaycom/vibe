import{_ as R,E as m,a as l,b as T,T as x,P as v}from"./CSSTransition-usT7-fC7.js";import{R as i}from"./index-Hemj67b4.js";var p,f;function D(e,t){return!(e===t||i.isValidElement(e)&&i.isValidElement(t)&&e.key!=null&&e.key===t.key)}var u={out:"out-in",in:"in-out"},E=function(t,r,n){return function(){var a;t.props[r]&&(a=t.props)[r].apply(a,arguments),n()}},P=(p={},p[u.out]=function(e){var t=e.current,r=e.changeState;return i.cloneElement(t,{in:!1,onExited:E(t,"onExited",function(){r(l,null)})})},p[u.in]=function(e){var t=e.current,r=e.changeState,n=e.children;return[t,i.cloneElement(n,{in:!0,onEntered:E(n,"onEntered",function(){r(l)})})]},p),k=(f={},f[u.out]=function(e){var t=e.children,r=e.changeState;return i.cloneElement(t,{in:!0,onEntered:E(t,"onEntered",function(){r(m,i.cloneElement(t,{in:!0}))})})},f[u.in]=function(e){var t=e.current,r=e.children,n=e.changeState;return[i.cloneElement(t,{in:!1,onExited:E(t,"onExited",function(){n(m,i.cloneElement(r,{in:!0}))})}),i.cloneElement(r,{in:!0})]},f),y=function(e){R(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,n.state={status:m,current:null},n.appeared=!1,n.changeState=function(d,s){s===void 0&&(s=n.state.current),n.setState({status:d,current:s})},n}var r=t.prototype;return r.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(a,o){return a.children==null?{current:null}:o.status===l&&a.mode===u.in?{status:l}:o.current&&D(o.current,a.children)?{status:T}:{current:i.cloneElement(a.children,{in:!0})}},r.render=function(){var a=this.props,o=a.children,c=a.mode,d=this.state,s=d.status,g=d.current,S={children:o,current:g,changeState:this.changeState,status:s},h;switch(s){case l:h=k[c](S);break;case T:h=P[c](S);break;case m:h=g}return i.createElement(x.Provider,{value:{isMounting:!this.appeared}},h)},t}(i.Component);y.propTypes={mode:v.oneOf([u.in,u.out]),children:v.oneOfType([v.element.isRequired])};y.defaultProps={mode:u.out};export{y as S};
