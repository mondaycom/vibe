import{_ as x,E as m,a as l,b as S,T as D}from"./CSSTransition-CWtXmFMf.js";import{R as i}from"./index-CTZeEbLr.js";var p,f;function R(e,t){return!(e===t||i.isValidElement(e)&&i.isValidElement(t)&&e.key!=null&&e.key===t.key)}var s={out:"out-in",in:"in-out"},E=function(t,r,n){return function(){var a;t.props[r]&&(a=t.props)[r].apply(a,arguments),n()}},y=(p={},p[s.out]=function(e){var t=e.current,r=e.changeState;return i.cloneElement(t,{in:!1,onExited:E(t,"onExited",function(){r(l,null)})})},p[s.in]=function(e){var t=e.current,r=e.changeState,n=e.children;return[t,i.cloneElement(n,{in:!0,onEntered:E(n,"onEntered",function(){r(l)})})]},p),k=(f={},f[s.out]=function(e){var t=e.children,r=e.changeState;return i.cloneElement(t,{in:!0,onEntered:E(t,"onEntered",function(){r(m,i.cloneElement(t,{in:!0}))})})},f[s.in]=function(e){var t=e.current,r=e.children,n=e.changeState;return[i.cloneElement(t,{in:!1,onExited:E(t,"onExited",function(){n(m,i.cloneElement(r,{in:!0}))})}),i.cloneElement(r,{in:!0})]},f),T=function(e){x(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=e.call.apply(e,[this].concat(o))||this,n.state={status:m,current:null},n.appeared=!1,n.changeState=function(d,c){c===void 0&&(c=n.state.current),n.setState({status:d,current:c})},n}var r=t.prototype;return r.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(a,o){return a.children==null?{current:null}:o.status===l&&a.mode===s.in?{status:l}:o.current&&R(o.current,a.children)?{status:S}:{current:i.cloneElement(a.children,{in:!0})}},r.render=function(){var a=this.props,o=a.children,u=a.mode,d=this.state,c=d.status,v=d.current,g={children:o,current:v,changeState:this.changeState,status:c},h;switch(c){case l:h=k[u](g);break;case S:h=y[u](g);break;case m:h=v}return i.createElement(D.Provider,{value:{isMounting:!this.appeared}},h)},t}(i.Component);T.propTypes={};T.defaultProps={mode:s.out};export{T as S};
