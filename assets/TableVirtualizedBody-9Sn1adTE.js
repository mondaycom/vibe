import{j as i}from"./jsx-runtime-lwGtIXvq.js";import{r as n,R as V}from"./index-CTZeEbLr.js";import{u as H,f as S,c as g,R as D}from"./TableBody-DDoG4yM4.js";import{F as N}from"./index.esm-B4DTZ0aw.js";import{c as z}from"./index-BpvXyOxN.js";import{g as R,b as B}from"./test-ids-utils-BiWUJdxm.js";import{A as k}from"./react-virtualized-auto-sizer.esm-CJUwJr1b.js";const F="_tableBody_wcnpb_1",M="_tableBodyItems_wcnpb_4",W="_withHeader_wcnpb_12",m={tableBody:F,tableBodyItems:M,withHeader:W},O=V.memo(({item:r,rowRenderer:p,style:s})=>{var c;const l=p(r),{width:u,...d}=s;return V.cloneElement(l,{style:{...d,...(c=l.props)==null?void 0:c.style}})}),v=n.forwardRef(({items:r,rowRenderer:p,onScroll:s,columns:l,headerRenderer:u,id:d,className:c,"data-testid":y,overscanCount:E=1},h)=>{const{size:I,virtualizedListRef:f,onVirtualizedListScroll:T,markTableAsVirtualized:w,dataState:x}=H(),{resetHoveredRow:_}=S(),t=!!l&&!!u,{isLoading:q}=x||{},b=n.useCallback(e=>{const a=e.target;_(),T({target:a,currentTarget:a})},[_,T]);n.useEffect(()=>{const e=f.current;if(e)return e.addEventListener("scroll",b),()=>{e.removeEventListener("scroll",b)}},[b,f]);const C=n.useCallback(({scrollDirection:e,scrollOffset:a,scrollUpdateWasRequested:o})=>{t||s==null||s(e,a,o)},[s,t]),L=n.useCallback(({index:e,style:a})=>{if(t&&e===0)return null;const o=t?e-1:e,j=r[o];return i.jsx(O,{item:j,rowRenderer:p,style:a})},[r,p,t]);n.useEffect(()=>{t||w()},[w,t]);const A=n.useMemo(()=>t?n.forwardRef(({children:e,...a},o)=>i.jsxs("div",{ref:o,...a,children:[u(l),e]})):void 0,[t,u,l]);return q&&t?i.jsxs("div",{ref:h,id:d,className:z(m.tableBody,m.withHeader,c),"data-testid":y||R(B.TABLE_VIRTUALIZED_BODY,d),children:[u(l),i.jsx(g,{})]}):i.jsx(g,{className:z(m.tableBody,{[m.withHeader]:t},c),id:d,"data-testid":y||R(B.TABLE_VIRTUALIZED_BODY,d),ref:h,children:(r==null?void 0:r.length)&&i.jsx(k,{children:({height:e,width:a})=>i.jsx(N,{className:m.tableBodyItems,itemSize:D[I],height:e,itemCount:t?r.length+1:r.length,width:a,overscanCount:E,onScroll:C,outerRef:o=>{f.current=o},innerElementType:A,children:L})})})});try{v.displayName="TableVirtualizedBody",v.__docgenInfo={description:"",displayName:"TableVirtualizedBody",props:{items:{defaultValue:null,description:"The list of items to render in the virtualized table.",name:"items",required:!0,type:{name:"TableVirtualizedRow[]"}},rowRenderer:{defaultValue:null,description:"Function to render a row in the table.",name:"rowRenderer",required:!0,type:{name:"(item: TableVirtualizedRow) => Element"}},onScroll:{defaultValue:null,description:"Callback function triggered on scroll.",name:"onScroll",required:!1,type:{name:"(horizontalScrollDirection: ScrollDirection, scrollTop: number, scrollUpdateWasRequested: boolean) => void"}},columns:{defaultValue:null,description:"The columns configuration for the table.",name:"columns",required:!1,type:{name:"TableColumn[]"}},headerRenderer:{defaultValue:null,description:"Function to render the table header.",name:"headerRenderer",required:!1,type:{name:"(columns: TableColumn[]) => Element"}},overscanCount:{defaultValue:{value:"1"},description:"Number of rows to render above/below the visible area.",name:"overscanCount",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{v as T};
