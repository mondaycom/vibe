import{c as n}from"./index-BpvXyOxN.js";import{r as i,R as t}from"./index-Hemj67b4.js";import{u as De}from"./index-CxHVRCQs.js";import{I as Y}from"./Icon-zHybxhV-.js";import{L as He}from"./Loader-DF-6VJjt.js";import{T as Fe}from"./Text-B2fubIt7.js";import{F as ze}from"./FieldLabel-DfmdapVI.js";import{B as f}from"./sizes-BOsbvv4u.js";import{u as Oe}from"./useMergeRef-DQ4XPFxl.js";import{C as Z}from"./Clickable-L_6z1d8K.js";import{a as We,g as J,b as j}from"./test-ids-utils-9ISiqDto.js";import{N as c}from"./function-utils-6EQ2u6TA.js";import{T as Q}from"./Tooltip-C_-kbcOd.js";import{H as Be}from"./HiddenText-CpgCxLLU.js";import{w as Ue}from"./withStaticProps-DfSG2La2.js";const Pe="_textField_1eb1s_1",Ke="_labelWrapper_1eb1s_12",Xe="_subTextContainer_1eb1s_16",$e="_counter_1eb1s_23",Ge="_disabled_1eb1s_27",Ye="_icon_1eb1s_27",Ze="_inputWrapper_1eb1s_31",Je="_input_1eb1s_31",je="_iconContainer_1eb1s_47",Qe="_iconContainerHasIcon_1eb1s_47",ea="_readOnly_1eb1s_71",aa="_inputHasIcon_1eb1s_91",ta="_onlyUnderline_1eb1s_103",na="_tooltipContainer_1eb1s_111",ra="_wrapperSizeMedium_1eb1s_120",la="_wrapperSizeLarge_1eb1s_124",ia="_iconContainerActive_1eb1s_144",sa="_iconContainerClickable_1eb1s_144",oa="_inputErrorValidation_1eb1s_182",ua="_subTextContainerStatus_1eb1s_203",ca="_inputSuccessValidation_1eb1s_208",da="_wrapperSizeSmall_1eb1s_233",pa="_loaderContainer_1eb1s_303",ma="_loaderContainerHasIcon_1eb1s_315",fa="_loader_1eb1s_303",ba="_loaderSvg_1eb1s_324",e={textField:Pe,labelWrapper:Ke,subTextContainer:Xe,counter:$e,disabled:Ge,icon:Ye,inputWrapper:Ze,input:Je,iconContainer:je,iconContainerHasIcon:Qe,readOnly:ea,inputHasIcon:aa,onlyUnderline:ta,tooltipContainer:na,wrapperSizeMedium:ra,wrapperSizeLarge:la,iconContainerActive:ia,iconContainerClickable:sa,inputErrorValidation:oa,subTextContainerStatus:ua,inputSuccessValidation:ca,wrapperSizeSmall:da,loaderContainer:pa,loaderContainerHasIcon:ma,loader:fa,loaderSvg:ba};var ae=(a=>(a.CHAR="Input char count",a.VALIDATION_TEXT="Additional helper text",a))(ae||{});f.SMALL,f.MEDIUM,f.LARGE;var te=(a=>(a.TEXT="text",a.PASSWORD="password",a.SEARCH="search",a.DATE="date",a.DATE_TIME="datetime-local",a.NUMBER="number",a.TEL="tel",a.URL="url",a.EMAIL="email",a))(te||{}),ne=(a=>(a.ERROR="error",a.SUCCESS="success",a))(ne||{});const ee={error:e.inputErrorValidation,success:e.inputSuccessValidation},ha={[f.SMALL]:e.wrapperSizeSmall,[f.MEDIUM]:e.wrapperSizeMedium,[f.LARGE]:e.wrapperSizeLarge},ya={primary:"",secondary:""},k=i.forwardRef(({className:a="",placeholder:R="",autoComplete:re="off",value:I,onChange:M=c,onBlur:N=c,onFocus:le=c,onKeyDown:ie=c,onWheel:se=c,debounceRate:oe=0,autoFocus:D=!1,disabled:_=!1,readonly:H=!1,setRef:ue=c,iconName:p,secondaryIconName:m,id:h="input",title:ce="",size:V="small",validation:l=null,wrapperClassName:de="",onIconClick:v=c,clearOnIconClick:x=!1,labelIconName:pe,showCharCount:F=!1,inputAriaLabel:me,searchResultsContainerId:z="",activeDescendant:fe="",iconsNames:S=ya,type:be="text",maxLength:d=null,allowExceedingMaxLength:O=!1,trim:he=!1,role:ye="",required:y=!1,requiredErrorText:q="",loading:W=!1,"data-testid":Ce,secondaryDataTestId:_e,tabIndex:ve,underline:Ee=!1,name:ge,controlled:b=!1,iconTooltipContent:T,secondaryTooltipContent:w,dir:Ie},Ve)=>{const[u,B]=i.useState(!1),s=i.useRef(null),xe=Oe(Ve,s,ue),Se=i.useCallback(r=>{y&&!r.target.value&&B(!0),N(r)},[N,y]),C=i.useCallback((r,Me)=>{u&&r&&B(!1);const Ne=Me||{target:s.current};M(r,Ne)},[M,u]),{inputValue:U,onEventChanged:P,clearValue:K}=De({delay:oe,onChange:C,initialStateValue:I,trim:he}),o=i.useMemo(()=>b?I:U,[b,I,U]),qe=i.useCallback(r=>{b?C(r.target.value,r):P(r)},[b,C,P]),E=i.useMemo(()=>m&&o?m:p,[p,m,o]),X=i.useCallback(()=>{_||(x&&(s.current&&s.current.focus(),s.current.value="",b?C(""):K()),v(E))},[_,x,v,E,b,C,K]),Te=i.useMemo(()=>{if(typeof d=="number"&&o&&o.length>d)return ee.error;if((!l||!l.status)&&!u)return"";const r=u?"error":l.status;return ee[r]},[d,l,u,o]),g=p||m,we=F||l&&l.text||u&&q,A=m===E,L=p===E,Ae=(v!==c||S.primary||T)&&o&&p.length&&L,Le=(m||w)&&A&&!!o,$=O?`${h}-allow-exceeding-max-length-text`:void 0;i.useEffect(()=>{if(!(s!=null&&s.current)||!D)return;const r=requestAnimationFrame(()=>s.current.focus());return()=>cancelAnimationFrame(r)},[s,D]);const G=v!==c||x,ke=S.primary||T,Re=S.secondary||w;return t.createElement("div",{className:n(e.textField,de,{[e.disabled]:_,[e.onlyUnderline]:Ee}),role:ye,"aria-busy":W},t.createElement("div",{className:n(e.labelWrapper)},t.createElement(ze,{labelText:ce,icon:pe,labelFor:h,required:y}),t.createElement("div",{className:n(e.inputWrapper,ha[V],Te)},t.createElement("input",{className:n(a,e.input,{[e.inputHasIcon]:!!g,[e.readOnly]:H}),placeholder:R,autoComplete:re,value:o,onChange:qe,disabled:_,readOnly:H,ref:xe,type:be,id:h,"data-testid":Ce||J(j.TEXT_FIELD,h),"data-vibe":We.TEXT_FIELD,name:ge,onBlur:Se,onFocus:le,onKeyDown:ie,onWheel:se,maxLength:typeof d=="number"&&!O?d:void 0,role:z&&"combobox","aria-label":me||R,"aria-invalid":l&&l.status==="error"||u,"aria-owns":z,"aria-activedescendant":fe,"aria-required":y,"aria-describedby":$,required:y,tabIndex:ve,dir:Ie}),W&&t.createElement("div",{className:n(e.loaderContainer,{[e.loaderContainerHasIcon]:g})},t.createElement("div",{className:n(e.loader)},t.createElement(He,{className:n(e.loaderSvg)}))),t.createElement(Q,{content:L?T:void 0,referenceWrapperClassName:e.tooltipContainer},t.createElement(Z,{className:n(e.iconContainer,{[e.iconContainerHasIcon]:g,[e.iconContainerActive]:L,[e.iconContainerClickable]:G}),onClick:X,tabIndex:Ae?"0":"-1",ariaLabel:ke},t.createElement(Y,{icon:p,className:n(e.icon),iconType:"font",iconSize:V==="small"?"16px":"18px"}))),t.createElement(Q,{content:A?w:void 0,addKeyboardHideShowTriggersByDefault:!0,referenceWrapperClassName:e.tooltipContainer},t.createElement(Z,{className:n(e.iconContainer,{[e.iconContainerHasIcon]:g,[e.iconContainerActive]:A,[e.iconContainerClickable]:G}),onClick:X,tabIndex:Le?"0":"-1","data-testid":_e||J(j.TEXT_FIELD_SECONDARY_BUTTON,h),ariaLabel:Re},t.createElement(Y,{icon:m,className:n(e.icon),iconType:"font",iconSize:V==="small"?"16px":"18px"})))),we&&t.createElement(Fe,{type:"text2",color:"secondary",className:n(e.subTextContainer)},(l&&l.text||u&&q)&&t.createElement("span",{className:n(e.subTextContainerStatus)},u?q:l.text),F&&t.createElement("span",{className:n(e.counter),"aria-label":ae.CHAR},o&&o.length||0,typeof d=="number"&&`/${d}`,t.createElement(Be,{id:$,text:`Maximum of ${d} characters`})))))}),Ra=Ue(k,{sizes:f,feedbacks:ne,types:te});try{k.displayName="TextField",k.__docgenInfo={description:"",displayName:"TextField",props:{placeholder:{defaultValue:{value:""},description:"The placeholder text displayed when the input is empty.",name:"placeholder",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"Configures the browser's autocomplete behavior.",name:"autoComplete",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"The current value of the text field.",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Callback fired when the text field value changes.",name:"onChange",required:!1,type:{name:'(value: string, event: ChangeEvent<HTMLInputElement> | Pick<ChangeEvent<HTMLInputElement>, "target">) => void'}},onBlur:{defaultValue:null,description:"Callback fired when the text field loses focus.",name:"onBlur",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onFocus:{defaultValue:null,description:"Callback fired when the text field gains focus.",name:"onFocus",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onKeyDown:{defaultValue:null,description:"Callback fired when a key is pressed inside the text field.",name:"onKeyDown",required:!1,type:{name:"(event: KeyboardEvent<Element>) => void"}},onWheel:{defaultValue:null,description:"Callback fired when the mouse wheel is used inside the text field.",name:"onWheel",required:!1,type:{name:"(event: WheelEvent<Element>) => void"}},debounceRate:{defaultValue:{value:"0"},description:"The debounce rate for input value changes.",name:"debounceRate",required:!1,type:{name:"number"}},autoFocus:{defaultValue:{value:"false"},description:"If true, the input is automatically focused on mount.",name:"autoFocus",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"If true, disables the text field.",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:{value:"false"},description:"If true, makes the text field read-only.",name:"readonly",required:!1,type:{name:"boolean"}},setRef:{defaultValue:null,description:"A function to set a reference to the input element.",name:"setRef",required:!1,type:{name:"(node: HTMLElement) => void"}},iconName:{defaultValue:null,description:"The primary icon displayed inside the text field.",name:"iconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},secondaryIconName:{defaultValue:null,description:"The secondary icon displayed inside the text field.",name:"secondaryIconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},title:{defaultValue:{value:""},description:"The label displayed above the text field.",name:"title",required:!1,type:{name:"string"}},size:{defaultValue:{value:"small"},description:"The size of the text field.",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},validation:{defaultValue:{value:"null"},description:"Validation state for the text field.",name:"validation",required:!1,type:{name:'{ status?: "success" | "error"; text?: ReactNode; }'}},wrapperClassName:{defaultValue:{value:""},description:"Class name applied to the text field wrapper.",name:"wrapperClassName",required:!1,type:{name:"string"}},onIconClick:{defaultValue:null,description:"Callback fired when the icon inside the text field is clicked.",name:"onIconClick",required:!1,type:{name:"(icon: string | FunctionComponent<{}>) => void"}},clearOnIconClick:{defaultValue:{value:"false"},description:"If true, clears the input when the icon is clicked.",name:"clearOnIconClick",required:!1,type:{name:"boolean"}},labelIconName:{defaultValue:null,description:"The icon displayed inside the label.",name:"labelIconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},showCharCount:{defaultValue:{value:"false"},description:"If true, displays the character count.",name:"showCharCount",required:!1,type:{name:"boolean"}},inputAriaLabel:{defaultValue:null,description:"The ARIA label for the input field.",name:"inputAriaLabel",required:!1,type:{name:"string"}},searchResultsContainerId:{defaultValue:{value:""},description:"The ID of the container where search results are displayed.",name:"searchResultsContainerId",required:!1,type:{name:"string"}},activeDescendant:{defaultValue:{value:""},description:"The ID of the currently active search result.",name:"activeDescendant",required:!1,type:{name:"string"}},iconsNames:{defaultValue:{value:'{ primary: "", secondary: "" }'},description:"Icon labels for accessibility.",name:"iconsNames",required:!1,type:{name:"{ primary: string; secondary: string; }"}},type:{defaultValue:{value:"text"},description:"The type of the text field.",name:"type",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"search"'},{value:'"text"'},{value:'"tel"'},{value:'"url"'},{value:'"email"'},{value:'"date"'},{value:'"password"'},{value:'"datetime-local"'}]}},maxLength:{defaultValue:{value:"null"},description:"The maximum number of characters allowed.",name:"maxLength",required:!1,type:{name:"number"}},allowExceedingMaxLength:{defaultValue:{value:"false"},description:"If true, allows the user to exceed the character limit set by `maxLength`.",name:"allowExceedingMaxLength",required:!1,type:{name:"boolean"}},trim:{defaultValue:{value:"false"},description:"If true, trims whitespace from the input value.",name:"trim",required:!1,type:{name:"boolean"}},role:{defaultValue:{value:""},description:"The ARIA role of the text field.",name:"role",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"If true, marks the input as required.",name:"required",required:!1,type:{name:"boolean"}},requiredErrorText:{defaultValue:{value:""},description:"The error message displayed when a required field is left empty.",name:"requiredErrorText",required:!1,type:{name:"string"}},loading:{defaultValue:{value:"false"},description:"If true, displays a loading indicator inside the text field.",name:"loading",required:!1,type:{name:"boolean"}},secondaryDataTestId:{defaultValue:null,description:"Test ID for the secondary icon.",name:"secondaryDataTestId",required:!1,type:{name:"string"}},tabIndex:{defaultValue:null,description:"The tab order of the input field.",name:"tabIndex",required:!1,type:{name:"number"}},name:{defaultValue:null,description:"The name attribute for the input field.",name:"name",required:!1,type:{name:"string"}},underline:{defaultValue:{value:"false"},description:"If true, renders only an underline style for the text field.",name:"underline",required:!1,type:{name:"boolean"}},controlled:{defaultValue:{value:"false"},description:"If true, the component is controlled by an external state.",name:"controlled",required:!1,type:{name:"boolean"}},iconTooltipContent:{defaultValue:null,description:"Tooltip content for the primary icon.",name:"iconTooltipContent",required:!1,type:{name:"string"}},secondaryTooltipContent:{defaultValue:null,description:"Tooltip content for the secondary icon.",name:"secondaryTooltipContent",required:!1,type:{name:"string"}},dir:{defaultValue:null,description:"The text direction of the input.",name:"dir",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"ltr"'},{value:'"rtl"'}]}},className:{defaultValue:{value:""},description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:{value:"input"},description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Ra as T};
