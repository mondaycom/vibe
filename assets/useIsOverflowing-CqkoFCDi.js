import{r as l}from"./index-CTZeEbLr.js";import{d as w}from"./debounce-D3NSP8gs.js";function z({ref:n,callback:i,debounceTime:s=200}){const o=l.useCallback(w(i,s),[i,s]);l.useEffect(()=>{if(!window.ResizeObserver||!(n!=null&&n.current))return;function c(e){const t=Array.isArray(e)?e[0]:e;return window.requestAnimationFrame(()=>{o({borderBoxSize:t})})}let r=null;const a=new ResizeObserver(e=>{var u;const t=e[0];if(t&&t.borderBoxSize)if(!Array.isArray(t.borderBoxSize))r=c(t.borderBoxSize);else{const b=t.borderBoxSize[0];r=c(b)}else if(t.contentRect){const b={blockSize:t.contentRect.height,inlineSize:((u=t==null?void 0:t.contentRect)==null?void 0:u.width)||0};r=c(b)}else return});return a.observe(n==null?void 0:n.current),()=>{s!==0&&o.cancel(),r&&window.cancelAnimationFrame(r),a.disconnect()}},[n==null?void 0:n.current,i,s,o])}function d(n,i,s=0,o=0){if(!n)return!1;const c=n.clientWidth+o<n.scrollWidth,r=!i&&n.clientHeight+s<n.scrollHeight;return c||r}function x({ref:n,ignoreHeightOverflow:i=!1,tolerance:s,widthTolerance:o}){const[c,r]=l.useState(()=>d(n==null?void 0:n.current,i,s,o)),a=l.useCallback(()=>{const e=n==null?void 0:n.current;if(!e)return;const t=d(e,i,s,o);r(u=>u!==t?t:u)},[i,n,s,o]);return z({ref:n,callback:a,debounceTime:0}),c}export{z as a,x as u};
