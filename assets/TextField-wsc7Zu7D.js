import{j as t}from"./jsx-runtime-DDzbWKUH.js";import{c as n}from"./index-BpvXyOxN.js";import{r as i}from"./index-Hemj67b4.js";import{u as De}from"./index-CxHVRCQs.js";import{I as G}from"./Icon-CDdqL_gb.js";import{L as He}from"./Loader-BxPdvMIh.js";import{T as je}from"./Text-BpN5-7Ic.js";import{F as Fe}from"./FieldLabel-BFfWW7Ah.js";import{B as f}from"./sizes-BOsbvv4u.js";import{u as ze}from"./useMergeRef-DQ4XPFxl.js";import{C as Y}from"./Clickable-L_6z1d8K.js";import{a as Oe,g as Z,b as J}from"./test-ids-utils-9ISiqDto.js";import{N as d}from"./function-utils-6EQ2u6TA.js";import{T as Q}from"./Tooltip-DDlYEVqH.js";import{H as We}from"./HiddenText-CdPxyfMy.js";import{w as Be}from"./withStaticProps-DfSG2La2.js";const Ue="_textField_1eb1s_1",Pe="_labelWrapper_1eb1s_12",Ke="_subTextContainer_1eb1s_16",Xe="_counter_1eb1s_23",$e="_disabled_1eb1s_27",Ge="_icon_1eb1s_27",Ye="_inputWrapper_1eb1s_31",Ze="_input_1eb1s_31",Je="_iconContainer_1eb1s_47",Qe="_iconContainerHasIcon_1eb1s_47",ea="_readOnly_1eb1s_71",aa="_inputHasIcon_1eb1s_91",ta="_onlyUnderline_1eb1s_103",na="_tooltipContainer_1eb1s_111",ra="_wrapperSizeMedium_1eb1s_120",la="_wrapperSizeLarge_1eb1s_124",ia="_iconContainerActive_1eb1s_144",sa="_iconContainerClickable_1eb1s_144",oa="_inputErrorValidation_1eb1s_182",ua="_subTextContainerStatus_1eb1s_203",da="_inputSuccessValidation_1eb1s_208",ca="_wrapperSizeSmall_1eb1s_233",pa="_loaderContainer_1eb1s_303",ma="_loaderContainerHasIcon_1eb1s_315",fa="_loader_1eb1s_303",ha="_loaderSvg_1eb1s_324",e={textField:Ue,labelWrapper:Pe,subTextContainer:Ke,counter:Xe,disabled:$e,icon:Ge,inputWrapper:Ye,input:Ze,iconContainer:Je,iconContainerHasIcon:Qe,readOnly:ea,inputHasIcon:aa,onlyUnderline:ta,tooltipContainer:na,wrapperSizeMedium:ra,wrapperSizeLarge:la,iconContainerActive:ia,iconContainerClickable:sa,inputErrorValidation:oa,subTextContainerStatus:ua,inputSuccessValidation:da,wrapperSizeSmall:ca,loaderContainer:pa,loaderContainerHasIcon:ma,loader:fa,loaderSvg:ha};var ae=(a=>(a.CHAR="Input char count",a.VALIDATION_TEXT="Additional helper text",a))(ae||{});f.SMALL,f.MEDIUM,f.LARGE;var te=(a=>(a.TEXT="text",a.PASSWORD="password",a.SEARCH="search",a.DATE="date",a.DATE_TIME="datetime-local",a.NUMBER="number",a.TEL="tel",a.URL="url",a.EMAIL="email",a))(te||{}),ne=(a=>(a.ERROR="error",a.SUCCESS="success",a))(ne||{});const ee={error:e.inputErrorValidation,success:e.inputSuccessValidation},ba={[f.SMALL]:e.wrapperSizeSmall,[f.MEDIUM]:e.wrapperSizeMedium,[f.LARGE]:e.wrapperSizeLarge},ya={primary:"",secondary:""},k=i.forwardRef(({className:a="",placeholder:R="",autoComplete:re="off",value:I,onChange:M=d,onBlur:N=d,onFocus:le=d,onKeyDown:ie=d,onWheel:se=d,debounceRate:oe=0,autoFocus:D=!1,disabled:_=!1,readonly:H=!1,setRef:ue=d,iconName:p,secondaryIconName:m,id:b="input",title:de="",size:V="small",validation:l=null,wrapperClassName:ce="",onIconClick:v=d,clearOnIconClick:E=!1,labelIconName:pe,showCharCount:j=!1,inputAriaLabel:me,searchResultsContainerId:F="",activeDescendant:fe="",iconsNames:S=ya,type:he="text",maxLength:c=null,allowExceedingMaxLength:z=!1,trim:be=!1,role:ye="",required:y=!1,requiredErrorText:q="",loading:O=!1,"data-testid":Ce,secondaryDataTestId:_e,tabIndex:ve,underline:xe=!1,name:ge,controlled:h=!1,iconTooltipContent:T,secondaryTooltipContent:w,dir:Ie},Ve)=>{const[u,W]=i.useState(!1),s=i.useRef(null),Ee=ze(Ve,s,ue),Se=i.useCallback(r=>{y&&!r.target.value&&W(!0),N(r)},[N,y]),C=i.useCallback((r,Me)=>{u&&r&&W(!1);const Ne=Me||{target:s.current};M(r,Ne)},[M,u]),{inputValue:B,onEventChanged:U,clearValue:P}=De({delay:oe,onChange:C,initialStateValue:I,trim:be}),o=i.useMemo(()=>h?I:B,[h,I,B]),qe=i.useCallback(r=>{h?C(r.target.value,r):U(r)},[h,C,U]),x=i.useMemo(()=>m&&o?m:p,[p,m,o]),K=i.useCallback(()=>{_||(E&&(s.current&&s.current.focus(),s.current.value="",h?C(""):P()),v(x))},[_,E,v,x,h,C,P]),Te=i.useMemo(()=>{if(typeof c=="number"&&o&&o.length>c)return ee.error;if((!l||!l.status)&&!u)return"";const r=u?"error":l.status;return ee[r]},[c,l,u,o]),g=p||m,we=j||l&&l.text||u&&q,A=m===x,L=p===x,Ae=(v!==d||S.primary||T)&&o&&p.length&&L,Le=(m||w)&&A&&!!o,X=z?`${b}-allow-exceeding-max-length-text`:void 0;i.useEffect(()=>{if(!(s!=null&&s.current)||!D)return;const r=requestAnimationFrame(()=>s.current.focus());return()=>cancelAnimationFrame(r)},[s,D]);const $=v!==d||E,ke=S.primary||T,Re=S.secondary||w;return t.jsx("div",{className:n(e.textField,ce,{[e.disabled]:_,[e.onlyUnderline]:xe}),role:ye,"aria-busy":O,children:t.jsxs("div",{className:n(e.labelWrapper),children:[t.jsx(Fe,{labelText:de,icon:pe,labelFor:b,required:y}),t.jsxs("div",{className:n(e.inputWrapper,ba[V],Te),children:[t.jsx("input",{className:n(a,e.input,{[e.inputHasIcon]:!!g,[e.readOnly]:H}),placeholder:R,autoComplete:re,value:o,onChange:qe,disabled:_,readOnly:H,ref:Ee,type:he,id:b,"data-testid":Ce||Z(J.TEXT_FIELD,b),"data-vibe":Oe.TEXT_FIELD,name:ge,onBlur:Se,onFocus:le,onKeyDown:ie,onWheel:se,maxLength:typeof c=="number"&&!z?c:void 0,role:F&&"combobox","aria-label":me||R,"aria-invalid":l&&l.status==="error"||u,"aria-owns":F,"aria-activedescendant":fe,"aria-required":y,"aria-describedby":X,required:y,tabIndex:ve,dir:Ie}),O&&t.jsx("div",{className:n(e.loaderContainer,{[e.loaderContainerHasIcon]:g}),children:t.jsx("div",{className:n(e.loader),children:t.jsx(He,{className:n(e.loaderSvg)})})}),t.jsx(Q,{content:L?T:void 0,referenceWrapperClassName:e.tooltipContainer,children:t.jsx(Y,{className:n(e.iconContainer,{[e.iconContainerHasIcon]:g,[e.iconContainerActive]:L,[e.iconContainerClickable]:$}),onClick:K,tabIndex:Ae?"0":"-1",ariaLabel:ke,children:t.jsx(G,{icon:p,className:n(e.icon),iconType:"font",iconSize:V==="small"?"16px":"18px"})})}),t.jsx(Q,{content:A?w:void 0,addKeyboardHideShowTriggersByDefault:!0,referenceWrapperClassName:e.tooltipContainer,children:t.jsx(Y,{className:n(e.iconContainer,{[e.iconContainerHasIcon]:g,[e.iconContainerActive]:A,[e.iconContainerClickable]:$}),onClick:K,tabIndex:Le?"0":"-1","data-testid":_e||Z(J.TEXT_FIELD_SECONDARY_BUTTON,b),ariaLabel:Re,children:t.jsx(G,{icon:m,className:n(e.icon),iconType:"font",iconSize:V==="small"?"16px":"18px"})})})]}),we&&t.jsxs(je,{type:"text2",color:"secondary",className:n(e.subTextContainer),children:[(l&&l.text||u&&q)&&t.jsx("span",{className:n(e.subTextContainerStatus),children:u?q:l.text}),j&&t.jsxs("span",{className:n(e.counter),"aria-label":ae.CHAR,children:[o&&o.length||0,typeof c=="number"&&`/${c}`,t.jsx(We,{id:X,text:`Maximum of ${c} characters`})]})]})]})})}),Ma=Be(k,{sizes:f,feedbacks:ne,types:te});try{k.displayName="TextField",k.__docgenInfo={description:"",displayName:"TextField",props:{placeholder:{defaultValue:{value:""},description:"The placeholder text displayed when the input is empty.",name:"placeholder",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"Configures the browser's autocomplete behavior.",name:"autoComplete",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"The current value of the text field.",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Callback fired when the text field value changes.",name:"onChange",required:!1,type:{name:'(value: string, event: ChangeEvent<HTMLInputElement> | Pick<ChangeEvent<HTMLInputElement>, "target">) => void'}},onBlur:{defaultValue:null,description:"Callback fired when the text field loses focus.",name:"onBlur",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onFocus:{defaultValue:null,description:"Callback fired when the text field gains focus.",name:"onFocus",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onKeyDown:{defaultValue:null,description:"Callback fired when a key is pressed inside the text field.",name:"onKeyDown",required:!1,type:{name:"(event: KeyboardEvent<Element>) => void"}},onWheel:{defaultValue:null,description:"Callback fired when the mouse wheel is used inside the text field.",name:"onWheel",required:!1,type:{name:"(event: WheelEvent<Element>) => void"}},debounceRate:{defaultValue:{value:"0"},description:"The debounce rate for input value changes.",name:"debounceRate",required:!1,type:{name:"number"}},autoFocus:{defaultValue:{value:"false"},description:"If true, the input is automatically focused on mount.",name:"autoFocus",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"If true, disables the text field.",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:{value:"false"},description:"If true, makes the text field read-only.",name:"readonly",required:!1,type:{name:"boolean"}},setRef:{defaultValue:null,description:"A function to set a reference to the input element.",name:"setRef",required:!1,type:{name:"(node: HTMLElement) => void"}},iconName:{defaultValue:null,description:"The primary icon displayed inside the text field.",name:"iconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},secondaryIconName:{defaultValue:null,description:"The secondary icon displayed inside the text field.",name:"secondaryIconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},title:{defaultValue:{value:""},description:"The label displayed above the text field.",name:"title",required:!1,type:{name:"string"}},size:{defaultValue:{value:"small"},description:"The size of the text field.",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},validation:{defaultValue:{value:"null"},description:"Validation state for the text field.",name:"validation",required:!1,type:{name:'{ status?: "success" | "error"; text?: ReactNode; }'}},wrapperClassName:{defaultValue:{value:""},description:"Class name applied to the text field wrapper.",name:"wrapperClassName",required:!1,type:{name:"string"}},onIconClick:{defaultValue:null,description:"Callback fired when the icon inside the text field is clicked.",name:"onIconClick",required:!1,type:{name:"(icon: string | FunctionComponent<{}>) => void"}},clearOnIconClick:{defaultValue:{value:"false"},description:"If true, clears the input when the icon is clicked.",name:"clearOnIconClick",required:!1,type:{name:"boolean"}},labelIconName:{defaultValue:null,description:"The icon displayed inside the label.",name:"labelIconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},showCharCount:{defaultValue:{value:"false"},description:"If true, displays the character count.",name:"showCharCount",required:!1,type:{name:"boolean"}},inputAriaLabel:{defaultValue:null,description:"The ARIA label for the input field.",name:"inputAriaLabel",required:!1,type:{name:"string"}},searchResultsContainerId:{defaultValue:{value:""},description:"The ID of the container where search results are displayed.",name:"searchResultsContainerId",required:!1,type:{name:"string"}},activeDescendant:{defaultValue:{value:""},description:"The ID of the currently active search result.",name:"activeDescendant",required:!1,type:{name:"string"}},iconsNames:{defaultValue:{value:'{ primary: "", secondary: "" }'},description:"Icon labels for accessibility.",name:"iconsNames",required:!1,type:{name:"{ primary: string; secondary: string; }"}},type:{defaultValue:{value:"text"},description:"The type of the text field.",name:"type",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"search"'},{value:'"text"'},{value:'"tel"'},{value:'"url"'},{value:'"email"'},{value:'"date"'},{value:'"password"'},{value:'"datetime-local"'}]}},maxLength:{defaultValue:{value:"null"},description:"The maximum number of characters allowed.",name:"maxLength",required:!1,type:{name:"number"}},allowExceedingMaxLength:{defaultValue:{value:"false"},description:"If true, allows the user to exceed the character limit set by `maxLength`.",name:"allowExceedingMaxLength",required:!1,type:{name:"boolean"}},trim:{defaultValue:{value:"false"},description:"If true, trims whitespace from the input value.",name:"trim",required:!1,type:{name:"boolean"}},role:{defaultValue:{value:""},description:"The ARIA role of the text field.",name:"role",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"If true, marks the input as required.",name:"required",required:!1,type:{name:"boolean"}},requiredErrorText:{defaultValue:{value:""},description:"The error message displayed when a required field is left empty.",name:"requiredErrorText",required:!1,type:{name:"string"}},loading:{defaultValue:{value:"false"},description:"If true, displays a loading indicator inside the text field.",name:"loading",required:!1,type:{name:"boolean"}},secondaryDataTestId:{defaultValue:null,description:"Test ID for the secondary icon.",name:"secondaryDataTestId",required:!1,type:{name:"string"}},tabIndex:{defaultValue:null,description:"The tab order of the input field.",name:"tabIndex",required:!1,type:{name:"number"}},name:{defaultValue:null,description:"The name attribute for the input field.",name:"name",required:!1,type:{name:"string"}},underline:{defaultValue:{value:"false"},description:"If true, renders only an underline style for the text field.",name:"underline",required:!1,type:{name:"boolean"}},controlled:{defaultValue:{value:"false"},description:"If true, the component is controlled by an external state.",name:"controlled",required:!1,type:{name:"boolean"}},iconTooltipContent:{defaultValue:null,description:"Tooltip content for the primary icon.",name:"iconTooltipContent",required:!1,type:{name:"string"}},secondaryTooltipContent:{defaultValue:null,description:"Tooltip content for the secondary icon.",name:"secondaryTooltipContent",required:!1,type:{name:"string"}},dir:{defaultValue:null,description:"The text direction of the input.",name:"dir",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"ltr"'},{value:'"rtl"'}]}},className:{defaultValue:{value:""},description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:{value:"input"},description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Ma as T};
