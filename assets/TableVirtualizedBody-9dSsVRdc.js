import{j as i}from"./jsx-runtime-lwGtIXvq.js";import{r as n,R as g}from"./index-CTZeEbLr.js";import{u as H,f as S,c as w,R as k}from"./TableBody-BuQYgMKJ.js";import{F as D}from"./index.esm-B4DTZ0aw.js";import{c as z}from"./index-BpvXyOxN.js";import{g as R}from"./test-ids-utils-B4e5wuRR.js";import{C as B}from"./constants-BzKxXCTJ.js";import{A as N}from"./react-virtualized-auto-sizer.esm-CJUwJr1b.js";const F="_tableBody_7nh7k_3",M="_tableBodyItems_7nh7k_6",W="_withHeader_7nh7k_14",m={tableBody:F,tableBodyItems:M,withHeader:W},O=g.memo(({item:r,rowRenderer:f,style:s})=>{var c;const l=f(r),{width:u,...d}=s;return g.cloneElement(l,{style:{...d,...(c=l.props)==null?void 0:c.style}})}),v=n.forwardRef(({items:r,rowRenderer:f,onScroll:s,columns:l,headerRenderer:u,id:d,className:c,"data-testid":h,overscanCount:E=1},y)=>{const{size:I,virtualizedListRef:p,onVirtualizedListScroll:T,markTableAsVirtualized:_,dataState:x}=H(),{resetHoveredRow:V}=S(),t=!!l&&!!u,{isLoading:C}=x||{},b=n.useCallback(e=>{const a=e.target;V(),T({target:a,currentTarget:a})},[V,T]);n.useEffect(()=>{const e=p.current;if(e)return e.addEventListener("scroll",b),()=>{e.removeEventListener("scroll",b)}},[b,p]);const q=n.useCallback(({scrollDirection:e,scrollOffset:a,scrollUpdateWasRequested:o})=>{t||s==null||s(e,a,o)},[s,t]),L=n.useCallback(({index:e,style:a})=>{if(t&&e===0)return null;const o=t?e-1:e,j=r[o];return i.jsx(O,{item:j,rowRenderer:f,style:a})},[r,f,t]);n.useEffect(()=>{t||_()},[_,t]);const A=n.useMemo(()=>t?n.forwardRef(({children:e,...a},o)=>i.jsxs("div",{ref:o,...a,children:[u(l),e]})):void 0,[t,u,l]);return C&&t?i.jsxs("div",{ref:y,id:d,className:z(m.tableBody,m.withHeader,c),"data-testid":h||R(B.TABLE_VIRTUALIZED_BODY,d),children:[u(l),i.jsx(w,{})]}):i.jsx(w,{className:z(m.tableBody,{[m.withHeader]:t},c),id:d,"data-testid":h||R(B.TABLE_VIRTUALIZED_BODY,d),ref:y,children:(r==null?void 0:r.length)&&i.jsx(N,{children:({height:e,width:a})=>i.jsx(D,{className:m.tableBodyItems,itemSize:k[I],height:e,itemCount:t?r.length+1:r.length,width:a,overscanCount:E,onScroll:q,outerRef:o=>{p.current=o},innerElementType:A,children:L})})})});try{v.displayName="TableVirtualizedBody",v.__docgenInfo={description:"",displayName:"TableVirtualizedBody",props:{items:{defaultValue:null,description:"The list of items to render in the virtualized table.",name:"items",required:!0,type:{name:"TableVirtualizedRow[]"}},rowRenderer:{defaultValue:null,description:"Function to render a row in the table.",name:"rowRenderer",required:!0,type:{name:"(item: TableVirtualizedRow) => Element"}},onScroll:{defaultValue:null,description:"Callback function triggered on scroll.",name:"onScroll",required:!1,type:{name:"(horizontalScrollDirection: ScrollDirection, scrollTop: number, scrollUpdateWasRequested: boolean) => void"}},columns:{defaultValue:null,description:"The columns configuration for the table.",name:"columns",required:!1,type:{name:"TableColumn[]"}},headerRenderer:{defaultValue:null,description:"Function to render the table header.",name:"headerRenderer",required:!1,type:{name:"(columns: TableColumn[]) => Element"}},overscanCount:{defaultValue:{value:"1"},description:"Number of rows to render above/below the visible area.",name:"overscanCount",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{v as T};
