import{r as s}from"./index-CTZeEbLr.js";import{u as g}from"./index-nBaTNWgC.js";import{u as M}from"./index-DEnqPy1V.js";import{u as A}from"./index-BWKJv4Cj.js";import{u as w}from"./index-D6ED5lUn.js";function v({isItemSelectable:e,visualFocusItemIndex:r,itemsCount:t}){if(!(r>t-1))for(let n=1;n<=t;n++){const a=(r+n)%t;if(e(a))return a}}function x({isItemSelectable:e,visualFocusItemIndex:r,itemsCount:t}){for(let n=1;n<=t-1;n++){let a=r-n;if(a<0&&(a=t+a),e(a))return a}}try{v.displayName="getNextSelectableIndex",v.__docgenInfo={description:"",displayName:"getNextSelectableIndex",props:{isItemSelectable:{defaultValue:null,description:"",name:"isItemSelectable",required:!0,type:{name:"(index: number) => boolean"}},visualFocusItemIndex:{defaultValue:null,description:"",name:"visualFocusItemIndex",required:!0,type:{name:"number"}},itemsCount:{defaultValue:null,description:"",name:"itemsCount",required:!0,type:{name:"number"}}}}}catch{}try{x.displayName="getPreviousSelectableIndex",x.__docgenInfo={description:"",displayName:"getPreviousSelectableIndex",props:{isItemSelectable:{defaultValue:null,description:"",name:"isItemSelectable",required:!0,type:{name:"(index: number) => boolean"}},visualFocusItemIndex:{defaultValue:null,description:"",name:"visualFocusItemIndex",required:!0,type:{name:"number"}},itemsCount:{defaultValue:null,description:"",name:"itemsCount",required:!0,type:{name:"number"}}}}}catch{}const S="Enter",P=" ";function q({itemsCount:e,focusedElementRef:r,visualFocusItemIndex:t,setVisualFocusItemIndex:n,isHorizontalList:a,isItemSelectable:u,listenerOptions:d,triggeredByKeyboard:o}){const c=a?"ArrowRight":"ArrowDown",i=a?"ArrowLeft":"ArrowUp",f=s.useCallback(m=>{if(document.activeElement!==r.current||!o.current&&(o.current=!0,t>-1))return;let b;m===c?b=v({isItemSelectable:u,visualFocusItemIndex:t,itemsCount:e}):m===i&&(b=x({isItemSelectable:u,visualFocusItemIndex:t,itemsCount:e})),b>-1&&b!==t&&n(b)},[r,o,c,i,t,n,u,e]),p=s.useCallback(()=>{f(i)},[i,f]),l=s.useCallback(()=>{f(c)},[c,f]);g({keys:[c],callback:l,...d}),g({keys:[i],callback:p,...d})}function C({visualFocusItemIndex:e,focusedElementRef:r,itemsCount:t,setVisualFocusItemIndex:n,onItemClick:a,isItemSelectable:u,listenerOptions:d=void 0,isIgnoreSpaceAsItemSelection:o=!1}){const c=s.useMemo(()=>o?[S]:[S,P],[o]),i=s.useCallback((p,l)=>{const m=l>=0&&l<t;!a||!m||!u(l)||(e!==l&&n(l),a(p,l))},[t,a,u,e,n]),f=s.useCallback(p=>{r.current.contains(document.activeElement)&&i(p,e)},[i,r,e]);g({keys:c,callback:f,...d})}function E({focusedElementRef:e,visualFocusItemIndex:r,setVisualFocusItemIndex:t}){const n=A(e),a=s.useCallback(()=>{r!==-1&&t(-1)},[t,r]);s.useEffect(()=>{(e==null?void 0:e.current)===null&&(n==null?void 0:n.current)!==null&&a()},[e.current,n,a]),M({eventName:"blur",ref:e,callback:a})}function O({focusedElementRef:e,isItemSelectable:r,visualFocusItemIndex:t,setVisualFocusItemIndex:n,itemsCount:a,defaultVisualFocusItemIndex:u=-1}){const d=s.useRef(!1),o=s.useCallback(()=>{if(d.current=!0,t!==u){let i;r(u)?i=u:i=v({isItemSelectable:r,itemsCount:a,visualFocusItemIndex:u}),n(i)}},[u,r,a,n,d,t]),c=s.useCallback(()=>{d.current=!1},[d]);return w({ref:e,onFocusByKeyboard:o,onFocusByMouse:c}),{triggeredByKeyboard:d}}function k({visualFocusItemIndex:e,itemsIds:r,isItemSelectable:t,setVisualFocusItemIndex:n}){const a=A(r);s.useEffect(()=>{let u;if(a!==void 0&&a!==r&&a!==void 0&&e!==-1){const o=a[e];u=r.indexOf(o)}else u=e;if(u!==e)if(t(u))n(u);else{const o=v({isItemSelectable:t,visualFocusItemIndex:u,itemsCount:r.length});n(o)}},[e,r,t,n,a])}try{q.displayName="useSupportArrowsKeyboardNavigation",q.__docgenInfo={description:"",displayName:"useSupportArrowsKeyboardNavigation",props:{itemsCount:{defaultValue:null,description:"",name:"itemsCount",required:!0,type:{name:"number"}},focusedElementRef:{defaultValue:null,description:"",name:"focusedElementRef",required:!0,type:{name:"MutableRefObject<HTMLElement>"}},visualFocusItemIndex:{defaultValue:null,description:"",name:"visualFocusItemIndex",required:!0,type:{name:"number"}},setVisualFocusItemIndex:{defaultValue:null,description:"",name:"setVisualFocusItemIndex",required:!0,type:{name:"(index: number) => void"}},isHorizontalList:{defaultValue:null,description:"",name:"isHorizontalList",required:!0,type:{name:"boolean"}},isItemSelectable:{defaultValue:null,description:"",name:"isItemSelectable",required:!0,type:{name:"(index: number) => boolean"}},triggeredByKeyboard:{defaultValue:null,description:"",name:"triggeredByKeyboard",required:!0,type:{name:"MutableRefObject<boolean>"}},listenerOptions:{defaultValue:null,description:"",name:"listenerOptions",required:!0,type:{name:'Omit<UseKeyEventArgs, "keys" | "callback">'}}}}}catch{}try{C.displayName="useSupportPressItemKeyboardNavigation",C.__docgenInfo={description:"",displayName:"useSupportPressItemKeyboardNavigation",props:{visualFocusItemIndex:{defaultValue:null,description:"",name:"visualFocusItemIndex",required:!0,type:{name:"number"}},focusedElementRef:{defaultValue:null,description:"",name:"focusedElementRef",required:!0,type:{name:"MutableRefObject<HTMLElement>"}},itemsCount:{defaultValue:null,description:"",name:"itemsCount",required:!0,type:{name:"number"}},setVisualFocusItemIndex:{defaultValue:null,description:"",name:"setVisualFocusItemIndex",required:!0,type:{name:"(index: number) => void"}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, index: number) => void"}},isItemSelectable:{defaultValue:null,description:"",name:"isItemSelectable",required:!0,type:{name:"(index: number) => boolean"}},listenerOptions:{defaultValue:{value:"undefined"},description:"",name:"listenerOptions",required:!1,type:{name:'Omit<UseKeyEventArgs, "keys" | "callback">'}},isIgnoreSpaceAsItemSelection:{defaultValue:{value:"false"},description:"",name:"isIgnoreSpaceAsItemSelection",required:!1,type:{name:"boolean"}}}}}catch{}try{E.displayName="useCleanVisualFocusOnBlur",E.__docgenInfo={description:"",displayName:"useCleanVisualFocusOnBlur",props:{focusedElementRef:{defaultValue:null,description:"",name:"focusedElementRef",required:!0,type:{name:"MutableRefObject<HTMLElement>"}},visualFocusItemIndex:{defaultValue:null,description:"",name:"visualFocusItemIndex",required:!0,type:{name:"number"}},setVisualFocusItemIndex:{defaultValue:null,description:"",name:"setVisualFocusItemIndex",required:!0,type:{name:"(index: number) => void"}}}}}catch{}try{O.displayName="useSetDefaultItemOnFocusEvent",O.__docgenInfo={description:"",displayName:"useSetDefaultItemOnFocusEvent",props:{focusedElementRef:{defaultValue:null,description:"",name:"focusedElementRef",required:!0,type:{name:"MutableRefObject<HTMLElement>"}},isItemSelectable:{defaultValue:null,description:"",name:"isItemSelectable",required:!0,type:{name:"(index: number) => boolean"}},visualFocusItemIndex:{defaultValue:null,description:"",name:"visualFocusItemIndex",required:!0,type:{name:"number"}},setVisualFocusItemIndex:{defaultValue:null,description:"",name:"setVisualFocusItemIndex",required:!0,type:{name:"(index: number) => void"}},itemsCount:{defaultValue:null,description:"",name:"itemsCount",required:!0,type:{name:"number"}},defaultVisualFocusItemIndex:{defaultValue:{value:"-1"},description:"",name:"defaultVisualFocusItemIndex",required:!1,type:{name:"number"}}}}}catch{}try{k.displayName="useKeepFocusOnItemWhenListChanged",k.__docgenInfo={description:"",displayName:"useKeepFocusOnItemWhenListChanged",props:{visualFocusItemIndex:{defaultValue:null,description:"",name:"visualFocusItemIndex",required:!0,type:{name:"number"}},itemsIds:{defaultValue:null,description:"",name:"itemsIds",required:!0,type:{name:"string[]"}},isItemSelectable:{defaultValue:null,description:"",name:"isItemSelectable",required:!0,type:{name:"(index: number) => boolean"}},setVisualFocusItemIndex:{defaultValue:null,description:"",name:"setVisualFocusItemIndex",required:!0,type:{name:"(index: number) => void"}}}}}catch{}var L=(e=>(e.APPLICATION="application",e.COMBOBOX="combobox",e.COMPOSITE="composite",e.GROUP="group",e.TEXTBOX="textbox",e.MENU="menu",e))(L||{});function F({focusedElementRef:e,itemsIds:r,isItemSelectable:t,onItemClick:n,defaultVisualFocusFirstIndex:a=!1,focusedElementRole:u="group",isHorizontalList:d=!1,isIgnoreSpaceAsItemSelection:o=!1,useDocumentEventListeners:c=!1,ignoreDocumentFallback:i=!1}){const f=a?0:-1,p=r.length,[l,m]=s.useState(-1),b=r[l],N=s.useMemo(()=>c?i?{ignoreDocumentFallback:i}:void 0:{ref:e,preventDefault:!0,stopPropagation:!0},[c,e,i]),{triggeredByKeyboard:y}=O({focusedElementRef:e,isItemSelectable:t,visualFocusItemIndex:l,setVisualFocusItemIndex:m,itemsCount:p,defaultVisualFocusItemIndex:f}),h=s.useCallback((_,I)=>{y.current=I;const V=r.indexOf(_);V>-1&&V!==l&&m(V)},[r,y,l]);q({itemsCount:p,focusedElementRef:e,visualFocusItemIndex:l,setVisualFocusItemIndex:m,triggeredByKeyboard:y,isHorizontalList:d,isItemSelectable:t,listenerOptions:N}),C({visualFocusItemIndex:l,itemsCount:p,focusedElementRef:e,setVisualFocusItemIndex:m,onItemClick:n,isItemSelectable:t,listenerOptions:N,isIgnoreSpaceAsItemSelection:o}),k({visualFocusItemIndex:l,itemsIds:r,isItemSelectable:t,setVisualFocusItemIndex:m}),E({focusedElementRef:e,visualFocusItemIndex:l,setVisualFocusItemIndex:m});const K=s.useCallback(_=>I=>n(I,_),[n]);return{visualFocusItemIndex:y.current?l:void 0,visualFocusItemId:y.current?b:void 0,focusedElementProps:{"aria-activedescendant":y.current?b:void 0,role:u},onItemClickCallback:n,createOnItemClickCallback:K,setVisualFocusItemId:h}}F.roles=L;try{F.displayName="useActiveDescendantListFocus",F.__docgenInfo={description:"",displayName:"useActiveDescendantListFocus",props:{focusedElementRef:{defaultValue:null,description:"",name:"focusedElementRef",required:!0,type:{name:"MutableRefObject<HTMLElement>"}},itemsIds:{defaultValue:null,description:"",name:"itemsIds",required:!0,type:{name:"string[]"}},isItemSelectable:{defaultValue:null,description:"",name:"isItemSelectable",required:!0,type:{name:"(index: number) => boolean"}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, index: number) => void"}},defaultVisualFocusFirstIndex:{defaultValue:{value:"false"},description:"",name:"defaultVisualFocusFirstIndex",required:!1,type:{name:"boolean"}},focusedElementRole:{defaultValue:{value:"Role.GROUP"},description:"",name:"focusedElementRole",required:!1,type:{name:"Role"}},isHorizontalList:{defaultValue:{value:"false"},description:"",name:"isHorizontalList",required:!1,type:{name:"boolean"}},isIgnoreSpaceAsItemSelection:{defaultValue:{value:"false"},description:"",name:"isIgnoreSpaceAsItemSelection",required:!1,type:{name:"boolean"}},useDocumentEventListeners:{defaultValue:{value:"false"},description:"",name:"useDocumentEventListeners",required:!1,type:{name:"boolean"}},ignoreDocumentFallback:{defaultValue:{value:"false"},description:"",name:"ignoreDocumentFallback",required:!1,type:{name:"boolean"}}}}}catch{}export{F as u};
