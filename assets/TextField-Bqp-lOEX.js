import{j as t}from"./jsx-runtime-lwGtIXvq.js";import{c as n}from"./index-BpvXyOxN.js";import{r as l}from"./index-CTZeEbLr.js";import{u as He}from"./index-BAD2x3ug.js";import{I as G}from"./Icon-MuJFX10s.js";import{L as Ne}from"./Loader-BoNkL6w8.js";import{T as je}from"./Text-DYuGGc4e.js";import{F as Fe}from"./FieldLabel-DyBOK_B1.js";import{B as m}from"./sizes-BOsbvv4u.js";import{u as ze}from"./useMergeRef-C008K4k9.js";import{C as Y}from"./Clickable-CzbLyDBE.js";import{a as Oe,g as Z,b as J}from"./test-ids-utils-B1IbFLmr.js";import{N as d}from"./function-utils-CSFuT5hl.js";import{T as Q}from"./Tooltip-C-Jn4wPI.js";import{H as We}from"./HiddenText-UFsS1QXm.js";import{w as Be}from"./withStaticProps-DfSG2La2.js";const Ue="_textField_1eb1s_1",Pe="_labelWrapper_1eb1s_12",Ke="_subTextContainer_1eb1s_16",Xe="_counter_1eb1s_23",$e="_disabled_1eb1s_27",Ge="_icon_1eb1s_27",Ye="_inputWrapper_1eb1s_31",Ze="_input_1eb1s_31",Je="_iconContainer_1eb1s_47",Qe="_iconContainerHasIcon_1eb1s_47",ea="_readOnly_1eb1s_71",aa="_inputHasIcon_1eb1s_91",ta="_onlyUnderline_1eb1s_103",na="_tooltipContainer_1eb1s_111",ra="_wrapperSizeMedium_1eb1s_120",ia="_wrapperSizeLarge_1eb1s_124",la="_iconContainerActive_1eb1s_144",sa="_iconContainerClickable_1eb1s_144",oa="_inputErrorValidation_1eb1s_182",ua="_subTextContainerStatus_1eb1s_203",da="_inputSuccessValidation_1eb1s_208",ca="_wrapperSizeSmall_1eb1s_233",pa="_loaderContainer_1eb1s_303",fa="_loaderContainerHasIcon_1eb1s_315",ma="_loader_1eb1s_303",ha="_loaderSvg_1eb1s_324",e={textField:Ue,labelWrapper:Pe,subTextContainer:Ke,counter:Xe,disabled:$e,icon:Ge,inputWrapper:Ye,input:Ze,iconContainer:Je,iconContainerHasIcon:Qe,readOnly:ea,inputHasIcon:aa,onlyUnderline:ta,tooltipContainer:na,wrapperSizeMedium:ra,wrapperSizeLarge:ia,iconContainerActive:la,iconContainerClickable:sa,inputErrorValidation:oa,subTextContainerStatus:ua,inputSuccessValidation:da,wrapperSizeSmall:ca,loaderContainer:pa,loaderContainerHasIcon:fa,loader:ma,loaderSvg:ha};var ae=(a=>(a.CHAR="Input char count",a.VALIDATION_TEXT="Additional helper text",a))(ae||{});m.SMALL,m.MEDIUM,m.LARGE;var te=(a=>(a.TEXT="text",a.PASSWORD="password",a.SEARCH="search",a.DATE="date",a.DATE_TIME="datetime-local",a.NUMBER="number",a.TEL="tel",a.URL="url",a.EMAIL="email",a))(te||{}),ne=(a=>(a.ERROR="error",a.SUCCESS="success",a))(ne||{});const ee={error:e.inputErrorValidation,success:e.inputSuccessValidation},ba={[m.SMALL]:e.wrapperSizeSmall,[m.MEDIUM]:e.wrapperSizeMedium,[m.LARGE]:e.wrapperSizeLarge},ya={primary:"",secondary:""},k=l.forwardRef(({className:a="",placeholder:R="",autoComplete:re="off",value:I,onChange:M=d,onBlur:D=d,onFocus:ie=d,onKeyDown:le=d,onWheel:se=d,debounceRate:oe=0,autoFocus:H=!1,disabled:_=!1,readonly:N=!1,setRef:ue=d,iconName:c,secondaryIconName:p,id:b="input",title:de="",size:V="small",validation:i=null,wrapperClassName:ce="",onIconClick:x=d,clearOnIconClick:E=!1,labelIconName:pe,showCharCount:j=!1,inputAriaLabel:fe,searchResultsContainerId:F="",activeDescendant:me="",iconsNames:S=ya,type:he="text",maxLength:f=null,allowExceedingMaxLength:z=!1,trim:be=!1,role:ye="",required:y=!1,requiredErrorText:q="",loading:O=!1,"data-testid":Ce,secondaryDataTestId:_e,tabIndex:xe,underline:ve=!1,name:ge,controlled:h=!1,iconTooltipContent:T,secondaryTooltipContent:w,dir:Ie},Ve)=>{const[u,W]=l.useState(!1),s=l.useRef(null),Ee=ze(Ve,s,ue),Se=l.useCallback(r=>{y&&!r.target.value&&W(!0),D(r)},[D,y]),C=l.useCallback((r,Me)=>{u&&r&&W(!1);const De=Me||{target:s.current};M(r,De)},[M,u]),{inputValue:B,onEventChanged:U,clearValue:P}=He({delay:oe,onChange:C,initialStateValue:I,trim:be}),o=l.useMemo(()=>h?I:B,[h,I,B]),qe=l.useCallback(r=>{h?C(r.target.value,r):U(r)},[h,C,U]),v=l.useMemo(()=>p&&o?p:c,[c,p,o]),K=l.useCallback(()=>{_||(E&&(s.current&&s.current.focus(),s.current.value="",h?C(""):P()),x(v))},[_,E,x,v,h,C,P]),Te=l.useMemo(()=>{if(typeof f=="number"&&o&&o.length>f)return ee.error;if((!i||!i.status)&&!u)return"";const r=u?"error":i.status;return ee[r]},[f,i,u,o]),g=c||p,we=j||i&&i.text||u&&q,A=p===v,L=c===v,Ae=(x!==d||S.primary||T)&&o&&c.length&&L,Le=(p||w)&&A&&!!o,X=z?`${b}-allow-exceeding-max-length-text`:void 0;l.useEffect(()=>{if(!(s!=null&&s.current)||!H)return;const r=requestAnimationFrame(()=>s.current.focus());return()=>cancelAnimationFrame(r)},[s,H]);const $=x!==d||E,ke=S.primary||T,Re=S.secondary||w;return t.jsx("div",{className:n(e.textField,ce,{[e.disabled]:_,[e.onlyUnderline]:ve}),role:ye,"aria-busy":O,children:t.jsxs("div",{className:n(e.labelWrapper),children:[t.jsx(Fe,{labelText:de,icon:pe,labelFor:b,required:y}),t.jsxs("div",{className:n(e.inputWrapper,ba[V],Te),children:[t.jsx("input",{className:n(a,e.input,{[e.inputHasIcon]:!!g,[e.readOnly]:N}),placeholder:R,autoComplete:re,value:o,onChange:qe,disabled:_,readOnly:N,ref:Ee,type:he,id:b,"data-testid":Ce||Z(J.TEXT_FIELD,b),"data-vibe":Oe.TEXT_FIELD,name:ge,onBlur:Se,onFocus:ie,onKeyDown:le,onWheel:se,maxLength:typeof f=="number"&&!z?f:void 0,role:F&&"combobox","aria-label":fe||R,"aria-invalid":i&&i.status==="error"||u,"aria-owns":F,"aria-activedescendant":me,"aria-required":y,"aria-describedby":X,required:y,tabIndex:xe,dir:Ie}),O&&t.jsx("div",{className:n(e.loaderContainer,{[e.loaderContainerHasIcon]:g}),children:t.jsx("div",{className:n(e.loader),children:t.jsx(Ne,{className:n(e.loaderSvg)})})}),c&&t.jsx(Q,{content:L?T:void 0,referenceWrapperClassName:e.tooltipContainer,children:t.jsx(Y,{className:n(e.iconContainer,{[e.iconContainerHasIcon]:g,[e.iconContainerActive]:L,[e.iconContainerClickable]:$}),onClick:K,tabIndex:Ae?"0":"-1",ariaLabel:ke,children:t.jsx(G,{icon:c,className:n(e.icon),iconType:"font",iconSize:V==="small"?"16px":"18px"})})}),p&&t.jsx(Q,{content:A?w:void 0,addKeyboardHideShowTriggersByDefault:!0,referenceWrapperClassName:e.tooltipContainer,children:t.jsx(Y,{className:n(e.iconContainer,{[e.iconContainerHasIcon]:g,[e.iconContainerActive]:A,[e.iconContainerClickable]:$}),onClick:K,tabIndex:Le?"0":"-1","data-testid":_e||Z(J.TEXT_FIELD_SECONDARY_BUTTON,b),ariaLabel:Re,children:t.jsx(G,{icon:p,className:n(e.icon),iconType:"font",iconSize:V==="small"?"16px":"18px"})})})]}),we&&t.jsxs(je,{type:"text2",color:"secondary",className:n(e.subTextContainer),children:[(i&&i.text||u&&q)&&t.jsx("span",{className:n(e.subTextContainerStatus),children:u?q:i.text}),j&&t.jsxs("span",{className:n(e.counter),"aria-label":ae.CHAR,children:[o&&o.length||0,typeof f=="number"&&`/${f}`,t.jsx(We,{id:X,text:`Maximum of ${f} characters`})]})]})]})})}),Ma=Be(k,{sizes:m,feedbacks:ne,types:te});try{k.displayName="TextField",k.__docgenInfo={description:"",displayName:"TextField",props:{placeholder:{defaultValue:{value:""},description:"The placeholder text displayed when the input is empty.",name:"placeholder",required:!1,type:{name:"string"}},autoComplete:{defaultValue:{value:"off"},description:"Configures the browser's autocomplete behavior.",name:"autoComplete",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"The current value of the text field.",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Callback fired when the text field value changes.",name:"onChange",required:!1,type:{name:'(value: string, event: ChangeEvent<HTMLInputElement> | Pick<ChangeEvent<HTMLInputElement>, "target">) => void'}},onBlur:{defaultValue:null,description:"Callback fired when the text field loses focus.",name:"onBlur",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onFocus:{defaultValue:null,description:"Callback fired when the text field gains focus.",name:"onFocus",required:!1,type:{name:"(event: FocusEvent<Element, Element>) => void"}},onKeyDown:{defaultValue:null,description:"Callback fired when a key is pressed inside the text field.",name:"onKeyDown",required:!1,type:{name:"(event: KeyboardEvent<Element>) => void"}},onWheel:{defaultValue:null,description:"Callback fired when the mouse wheel is used inside the text field.",name:"onWheel",required:!1,type:{name:"(event: WheelEvent<Element>) => void"}},debounceRate:{defaultValue:{value:"0"},description:"The debounce rate for input value changes.",name:"debounceRate",required:!1,type:{name:"number"}},autoFocus:{defaultValue:{value:"false"},description:"If true, the input is automatically focused on mount.",name:"autoFocus",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"If true, disables the text field.",name:"disabled",required:!1,type:{name:"boolean"}},readonly:{defaultValue:{value:"false"},description:"If true, makes the text field read-only.",name:"readonly",required:!1,type:{name:"boolean"}},setRef:{defaultValue:null,description:"A function to set a reference to the input element.",name:"setRef",required:!1,type:{name:"(node: HTMLElement) => void"}},iconName:{defaultValue:null,description:"The primary icon displayed inside the text field.",name:"iconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},secondaryIconName:{defaultValue:null,description:"The secondary icon displayed inside the text field.",name:"secondaryIconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},title:{defaultValue:{value:""},description:"The label displayed above the text field.",name:"title",required:!1,type:{name:"string"}},size:{defaultValue:{value:"small"},description:"The size of the text field.",name:"size",required:!1,type:{name:"TextFieldSize"}},validation:{defaultValue:{value:"null"},description:"Validation state for the text field.",name:"validation",required:!1,type:{name:'{ status?: "success" | "error"; text?: ReactNode; }'}},wrapperClassName:{defaultValue:{value:""},description:"Class name applied to the text field wrapper.",name:"wrapperClassName",required:!1,type:{name:"string"}},onIconClick:{defaultValue:null,description:"Callback fired when the icon inside the text field is clicked.",name:"onIconClick",required:!1,type:{name:"(icon: string | FunctionComponent<{}>) => void"}},clearOnIconClick:{defaultValue:{value:"false"},description:"If true, clears the input when the icon is clicked.",name:"clearOnIconClick",required:!1,type:{name:"boolean"}},labelIconName:{defaultValue:null,description:"The icon displayed inside the label.",name:"labelIconName",required:!1,type:{name:"string | FunctionComponent<{}>"}},showCharCount:{defaultValue:{value:"false"},description:"If true, displays the character count.",name:"showCharCount",required:!1,type:{name:"boolean"}},inputAriaLabel:{defaultValue:null,description:"The ARIA label for the input field.",name:"inputAriaLabel",required:!1,type:{name:"string"}},searchResultsContainerId:{defaultValue:{value:""},description:"The ID of the container where search results are displayed.",name:"searchResultsContainerId",required:!1,type:{name:"string"}},activeDescendant:{defaultValue:{value:""},description:"The ID of the currently active search result.",name:"activeDescendant",required:!1,type:{name:"string"}},iconsNames:{defaultValue:{value:'{ primary: "", secondary: "" }'},description:"Icon labels for accessibility.",name:"iconsNames",required:!1,type:{name:"{ primary: string; secondary: string; }"}},type:{defaultValue:{value:"text"},description:"The type of the text field.",name:"type",required:!1,type:{name:"TextFieldType"}},maxLength:{defaultValue:{value:"null"},description:"The maximum number of characters allowed.",name:"maxLength",required:!1,type:{name:"number"}},allowExceedingMaxLength:{defaultValue:{value:"false"},description:"If true, allows the user to exceed the character limit set by `maxLength`.",name:"allowExceedingMaxLength",required:!1,type:{name:"boolean"}},trim:{defaultValue:{value:"false"},description:"If true, trims whitespace from the input value.",name:"trim",required:!1,type:{name:"boolean"}},role:{defaultValue:{value:""},description:"The ARIA role of the text field.",name:"role",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"If true, marks the input as required.",name:"required",required:!1,type:{name:"boolean"}},requiredErrorText:{defaultValue:{value:""},description:"The error message displayed when a required field is left empty.",name:"requiredErrorText",required:!1,type:{name:"string"}},loading:{defaultValue:{value:"false"},description:"If true, displays a loading indicator inside the text field.",name:"loading",required:!1,type:{name:"boolean"}},secondaryDataTestId:{defaultValue:null,description:"Test ID for the secondary icon.",name:"secondaryDataTestId",required:!1,type:{name:"string"}},tabIndex:{defaultValue:null,description:"The tab order of the input field.",name:"tabIndex",required:!1,type:{name:"number"}},name:{defaultValue:null,description:"The name attribute for the input field.",name:"name",required:!1,type:{name:"string"}},underline:{defaultValue:{value:"false"},description:"If true, renders only an underline style for the text field.",name:"underline",required:!1,type:{name:"boolean"}},controlled:{defaultValue:{value:"false"},description:"If true, the component is controlled by an external state.",name:"controlled",required:!1,type:{name:"boolean"}},iconTooltipContent:{defaultValue:null,description:"Tooltip content for the primary icon.",name:"iconTooltipContent",required:!1,type:{name:"string"}},secondaryTooltipContent:{defaultValue:null,description:"Tooltip content for the secondary icon.",name:"secondaryTooltipContent",required:!1,type:{name:"string"}},dir:{defaultValue:null,description:"The text direction of the input.",name:"dir",required:!1,type:{name:'"auto" | "rtl" | "ltr"'}},className:{defaultValue:{value:""},description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:{value:"input"},description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Ma as T};
