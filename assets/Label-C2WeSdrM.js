import{j as l}from"./jsx-runtime-lwGtIXvq.js";import{c as m}from"./index-BpvXyOxN.js";import{C as D,g as H,a as B}from"./test-ids-utils-BiWUJdxm.js";import{g as S}from"./typesciptCssModulesHelper-Ji7rRrZn.js";import{r as n}from"./index-CTZeEbLr.js";import{T as v}from"./Text-DVNPP_6L.js";import{C as F,c as z}from"./colors-vars-map-B-3B1jIC.js";import{u as O}from"./useClickableProps-CtaZWk7Q.js";import{u as W}from"./useMergeRef-Do2VYePL.js";import{a as R}from"./useIsOverflowing-CqkoFCDi.js";import{c as w}from"./camelCase-CO1PkVrH.js";import{w as U}from"./withStaticProps-DfSG2La2.js";const j=()=>l.jsx("svg",{width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M0 0V2.76772C0 4.21783 1.77351 4.92116 2.76736 3.86519L5.45681 1.00765C6.06097 0.365738 6.90294 0.00127805 7.7843 3.35493e-06C5.30942 2.53165e-06 2.69058 1.4328e-06 0 0Z",fill:"#E44258"})});j.displayName="Leg";var P=(t=>(t.FILL="fill",t.LINE="line",t))(P||{}),I=(t=>(t.PRIMARY="primary",t.DARK="dark",t.NEGATIVE="negative",t.POSITIVE="positive",t))(I||{});const X={...I,...F},V={small:v.types.TEXT3,medium:v.types.TEXT2},K="_clickable_1xvp4_2",Z="_disabled_1xvp4_15",G="_disableTextSelection_1xvp4_19",J="_clickableWrapper_1xvp4_28",Y="_label_1xvp4_45",Q="_small_1xvp4_55",ee="_withLeg_1xvp4_60",te="_legWrapper_1xvp4_64",ae="_kindFill_1xvp4_72",le="_colorPrimary_1xvp4_72",ne="_colorDark_1xvp4_81",se="_colorNegative_1xvp4_87",oe="_colorPositive_1xvp4_96",re="_kindLine_1xvp4_106",ie="_smallText_1xvp4_150",c={clickable:K,"focus-visible":"_focus-visible_1xvp4_5",disabled:Z,disableTextSelection:G,clickableWrapper:J,label:Y,small:Q,withLeg:ee,legWrapper:te,kindFill:ae,colorPrimary:le,colorDark:ne,colorNegative:se,colorPositive:oe,kindLine:re,smallText:ie},ce="_celebration_1y43h_1",pe="_svg_1y43h_5",me="_stroke_1y43h_12",fe="_base_1y43h_21",de="_first_1y43h_29",ue="_second_1y43h_34",_e="_third_1y43h_39",r={celebration:ce,svg:pe,stroke:me,base:fe,first:de,second:ue,third:_e},q=4,he=1;function g({children:t,onAnimationEnd:o}){const e=n.useRef(),a=n.useRef(),[s,f]=n.useState(),u=n.useCallback(({borderBoxSize:d})=>{const{blockSize:p,inlineSize:i}=d||{};if(e.current){const x=be({width:i,height:p});f(x);const b=ve({width:i,height:p});e.current.style.setProperty("--container-perimeter",String(b))}},[]);R({ref:e,callback:u,debounceTime:0});const h=n.forwardRef((d,p)=>n.cloneElement(t,{ref:p}));return l.jsxs("div",{className:r.celebration,ref:e,children:[l.jsxs("svg",{className:r.svg,children:[l.jsx("path",{className:m(r.stroke,r.base),d:s}),l.jsx("path",{className:m(r.stroke,r.first),d:s}),l.jsx("path",{className:m(r.stroke,r.second),d:s}),l.jsx("path",{className:m(r.stroke,r.third),d:s,onAnimationEnd:o})]}),l.jsx(h,{ref:a})]})}function be({width:t,height:o,borderRadius:e=q,strokeWidth:a=he}){const s=a/2;return`M ${t-a/2}, ${e} V ${o-e} A ${e} ${e} 0 0 1 ${t-e} ${o-a/2} H ${e+s} A ${e} ${e} 0 0 1 ${a/2} ${o-e} V ${e+s} A ${e} ${e} 0 0 1 ${e} ${a/2} L ${t-e}, ${a/2} A ${e} ${e} 0 0 1 ${t-a/2} ${e} Z`}function ve({width:t,height:o,borderRadius:e=q}){const a=t-2*e,s=o-2*e;return 2*Math.PI*e+2*a+2*s}try{g.displayName="LabelCelebrationAnimation",g.__docgenInfo={description:"",displayName:"LabelCelebrationAnimation",props:{children:{defaultValue:null,description:"The child component that will be wrapped by the animation.",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},onAnimationEnd:{defaultValue:null,description:"Callback fired when the celebration animation ends.",name:"onAnimationEnd",required:!0,type:{name:"() => void"}}}}}catch{}const k=n.forwardRef(({className:t,labelClassName:o,kind:e="fill",color:a="primary",text:s="",isLegIncluded:f=!1,id:u,"data-testid":h,onClick:d,celebrationAnimation:p,size:i="medium"},x)=>{const b=n.useRef(null),C=W(x,b),[y,T]=n.useState(p),_=!!d,L=n.useMemo(()=>m(c.label,S(c,w("kind-"+e)),S(c,w("color-"+a)),{[c.withLeg]:f,[c.clickable]:_,[c.small]:i==="small"},o),[e,a,f,o,_,i]),$=n.useMemo(()=>{if(z.includes(a))return e==="line"?{color:`var(--color-${a})`}:{backgroundColor:`var(--color-${a})`}},[a,e]),M=n.useCallback(N=>{d&&(N.preventDefault(),d(N))},[d]),E=O({onClick:M,id:u,ariaHidden:!1,ariaHasPopup:!1,ariaExpanded:!1},b);n.useEffect(()=>{T(p)},[p]);const A=n.useMemo(()=>l.jsx("span",{..._&&E,className:m({[c.clickableWrapper]:_},t),"data-testid":h||H(B.LABEL,u),"data-vibe":D.LABEL,ref:C,children:l.jsxs(v,{style:$,element:"span",type:V[i],className:L,color:"onInverted","data-celebration-text":y,children:[l.jsx(v,{element:"span",type:V[i],color:"inherit",className:m({[c.smallText]:i==="small"}),children:s}),l.jsx("span",{className:m(c.legWrapper),children:f?l.jsx(j,{}):null})]})}),[_,E,t,h,u,C,L,y,s,f,i,$]);return y&&e==="line"?l.jsx(g,{onAnimationEnd:()=>T(!1),children:A}):A}),we=U(k,{colors:X,kinds:P});try{k.displayName="Label",k.__docgenInfo={description:"",displayName:"Label",props:{labelClassName:{defaultValue:null,description:"Class name applied to the inner text wrapper.",name:"labelClassName",required:!1,type:{name:"string"}},kind:{defaultValue:{value:"fill"},description:"The visual style of the label.",name:"kind",required:!1,type:{name:"LabelKind"}},color:{defaultValue:{value:"primary"},description:"The background color of the label.",name:"color",required:!1,type:{name:"LabelColor"}},text:{defaultValue:{value:""},description:"The text content of the label.",name:"text",required:!1,type:{name:"string"}},isLegIncluded:{defaultValue:{value:"false"},description:"If true, includes a leg (decorative extension).",name:"isLegIncluded",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"Callback fired when the label is clicked.",name:"onClick",required:!1,type:{name:"(event: MouseEvent<HTMLSpanElement, MouseEvent>) => void"}},celebrationAnimation:{defaultValue:null,description:"If true, triggers a celebration animation.",name:"celebrationAnimation",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"medium"},description:"The size of the label.",name:"size",required:!1,type:{name:"LabelSizes"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{we as L};
