import{j as o}from"./jsx-runtime-lwGtIXvq.js";import{r as t,R as W}from"./index-CTZeEbLr.js";import{c as T}from"./index-BpvXyOxN.js";import{g as S}from"./test-ids-utils-DBF55-X4.js";import{a as ce,C as x}from"./constants-BFnbiwiw.js";import{u as z}from"./useMergeRef-Do2VYePL.js";import{w as ue}from"./withStaticProps-DfSG2La2.js";import{I as pe}from"./IconButton-Dn6_e6fx.js";import{T as ee}from"./Text-5PiIofEG.js";import{T as me}from"./Tooltip-BlFnX8EL.js";import{g as A}from"./typesciptCssModulesHelper-DQ-2Bs84.js";import{t as fe}from"./Info-jvFNh0HS.js";import{F as D}from"./Flex-DIp2zxrn.js";import{I as F}from"./Icon-CpEYCgaz.js";import{a as N,S as be}from"./Skeleton-C1JxO6Wz.js";import{a as ye,b as _e,r as ge}from"./SortDescending-DfYW2xR2.js";import{c as G}from"./withStaticProps-BEcHOprC.js";function H(e){return typeof e=="number"?`${e}px`:typeof e=="string"?/%|px|fr$/.test(e)?e:`${e}px`:e!=null&&e.min&&(e!=null&&e.max)?`minmax(${H(e.min)}, ${H(e.max)})`:"minmax(112px, 1fr)"}function he(e,s={}){return{...s,display:"grid",gridTemplateColumns:e.map(c=>H(c.width)).join(" ")}}function Te(e){return e==="asc"?ye:e==="desc"?_e:ge}function Ce(e){return e==="asc"?"desc":e==="desc"?"none":"asc"}function Re(e){return e==="asc"?"ascending":e==="desc"?"descending":"none"}function Se(e){return e==="circle"?N.CIRCLE:e==="rectangle"?N.RECTANGLE:N.TEXT}function xe(e,s){return e==="long-text"?["long-text","medium-text"][s%2]:e}const ve=5;var te=(e=>(e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e))(te||{});const we={small:32,medium:40,large:48},Ve="_table_1w7xd_3",ke="_border_1w7xd_23",qe="_virtualized_1w7xd_33",Ee="_hasScroll_1w7xd_36",V={table:Ve,border:ke,virtualized:qe,hasScroll:Ee},ae=t.createContext(void 0),L=({value:e,children:s})=>{const{setIsScrolled:c}=e,a=t.useRef(null),l=t.useRef(null),d=t.useRef(0),n=t.useCallback((i,p)=>{if(i===d.current)return;p==="body"&&a.current&&(a.current.scrollLeft=i),p==="head"&&l.current&&(l.current.scrollLeft=i);const m=i>0;c(f=>f!==m?m:f),d.current=i},[c]),r=t.useCallback(i=>{const p=i.target.scrollLeft;n(p,"head")},[n]),u=t.useCallback(i=>{const p=i.target.scrollLeft;n(p,"body")},[n]),b=t.useMemo(()=>({...e,headRef:a,onHeadScroll:r,virtualizedListRef:l,onVirtualizedListScroll:u}),[e,r,u]);return o.jsx(ae.Provider,{value:b,children:s})},le=()=>{const e=t.useContext(ae);if(e===void 0)throw new Error("useTable must be used within a TableProvider");return e};try{L.displayName="TableProvider",L.__docgenInfo={description:"",displayName:"TableProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TableProviderValue"}}}}}catch{}const ne=t.createContext(void 0),M=({value:e,children:s})=>{const{tableRootRef:c,hoveredRowRef:a,isMenuOpen:l,resetHoveredRow:d,setHoveredRowRef:n,setIsMenuOpen:r}=e,[u,b]=t.useState(0),i=t.useRef(!1),p=t.useCallback(_=>{if(l)return;n(_);const C=c.current.getBoundingClientRect().top,q=_.current.getBoundingClientRect().top;b(q-C)},[l,n,c]),m=t.useCallback(()=>{l||i.current||n(null)},[l,n]),f=t.useCallback(()=>{i.current=!0},[]),h=t.useCallback(()=>{i.current=!1,!l&&(a!=null&&a.current||n(null))},[l,a,n]),y=t.useCallback(()=>{r(!0)},[r]),v=t.useCallback(()=>{r(!1)},[r]),w=t.useMemo(()=>{var _;return{hoveredRowId:(_=a==null?void 0:a.current)==null?void 0:_.id,resetHoveredRow:d,menuButtonPosition:u,onMouseOverRow:p,onMouseLeaveRow:m,onMouseOverRowMenu:f,onMouseLeaveRowMenu:h,setTableMenuShown:y,setTableMenuHidden:v}},[a,d,u,m,h,p,f,y,v]);return o.jsx(ne.Provider,{value:w,children:s})},Ne=()=>{const e=t.useContext(ne);if(!e)throw new Error("useTableRowMenuContext must be used within a TableRowMenuProvider");return e};try{M.displayName="TableRowMenuProvider",M.__docgenInfo={description:"",displayName:"TableRowMenuProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TableRowMenuProviderValue"}}}}}catch{}const I=t.forwardRef(({id:e,className:s,"data-testid":c,columns:a,errorState:l,emptyState:d,dataState:n,style:r,children:u,size:b="medium",withoutBorder:i},p)=>{const m=t.useRef(null),f=z(p,m),[h,y]=t.useState(!1),[v,w]=t.useState(null),_=t.useCallback(()=>{y(!1),w(null)},[]),[C,q]=t.useState(!1),$=t.useCallback(()=>{q(!0)},[]),[E,O]=t.useState(!1),re=t.useCallback(R=>{if(_(),!C){const X=R.target.scrollLeft>0;O(J=>J!==X?X:J)}},[_,C]),{gridTemplateColumns:se}=he(a),oe={"--table-grid-template-columns":se,"--table-row-size":`${we[b]}px`,...r},ie=t.useMemo(()=>({columns:a,dataState:n,emptyState:d,errorState:l,size:b,tableRootRef:m,isVirtualized:C,markTableAsVirtualized:$,isScrolled:E,setIsScrolled:R=>O(R)}),[a,n,d,l,C,$,E,b]),de=t.useMemo(()=>({tableRootRef:m,hoveredRowRef:v,isMenuOpen:h,resetHoveredRow:_,setHoveredRowRef:R=>w(R),setIsMenuOpen:R=>y(R)}),[v,h,_,w]);return o.jsx(L,{value:ie,children:o.jsx(M,{value:de,children:o.jsx("div",{ref:f,id:e,className:T(V.table,{[V.border]:!i,[V.virtualized]:C,[V.hasScroll]:E},s),"data-testid":c||S(x.TABLE,e),"data-vibe":ce.TABLE,role:"table",style:oe,onScroll:re,children:u})})})}),Ct=ue(I,{sizes:te});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{columns:{defaultValue:null,description:"Defines the columns of the table.",name:"columns",required:!0,type:{name:"TableColumn[]"}},dataState:{defaultValue:null,description:"State of the data being displayed (loading or error).",name:"dataState",required:!1,type:{name:"{ isLoading?: boolean; isError?: boolean; }"}},errorState:{defaultValue:null,description:"React element displayed when there is an error state.",name:"errorState",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},emptyState:{defaultValue:null,description:"React element displayed when there is no data.",name:"emptyState",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},style:{defaultValue:null,description:"Custom styles for the table.",name:"style",required:!1,type:{name:"CSSProperties"}},children:{defaultValue:null,description:"The child components inside the table, such as `<TableHeader />` and `<TableBody />`.",name:"children",required:!1,type:{name:"ReactElement<TableHeaderProps, string | JSXElementConstructor<any>> | ReactElement<TableBodyProps, string | JSXElementConstructor<...>> | (ReactElement<...> | ReactElement<...>)[]"}},size:{defaultValue:{value:"medium"},description:"The row size of the table.",name:"size",required:!1,type:{name:"RowSizes"}},withoutBorder:{defaultValue:null,description:"If true, removes the table's outer border.",name:"withoutBorder",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Ae="_tableHeader_kkfng_1",He="_virtualized_kkfng_14",U={tableHeader:Ae,virtualized:He},K=t.forwardRef(({id:e,className:s,"data-testid":c,children:a},l)=>{const{headRef:d,onHeadScroll:n,isVirtualized:r}=le(),u=z(d,l);return o.jsx("div",{ref:u,id:e,className:T(U.tableHeader,{[U.virtualized]:r},s),"data-testid":c||S(x.TABLE_HEADER,e),role:"rowgroup",onScroll:n,children:a})});try{K.displayName="TableHeader",K.__docgenInfo={description:"",displayName:"TableHeader",props:{children:{defaultValue:null,description:"The child elements inside the table header, typically `<TableHeaderCell />` components.",name:"children",required:!1,type:{name:"ReactElement<TableHeaderCellProps, string | JSXElementConstructor<any>> | ReactElement<TableHeaderCellProps, string | JSXElementConstructor<...>>[]"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Le="_tableHeaderCell_wfafu_3",Me="_sticky_wfafu_24",Ie="_sortActive_wfafu_33",Be="_tableHeaderCellContent_wfafu_36",Pe="_icon_wfafu_39",je="_infoTooltip_wfafu_42",ze="_tableHeaderCellSort_wfafu_45",$e="_sort_wfafu_33",Oe="_asc_wfafu_52",Xe="_desc_wfafu_52",Je="_show_wfafu_55",g={tableHeaderCell:Le,"focus-visible":"_focus-visible_wfafu_15",sticky:Me,sortActive:Ie,tableHeaderCellContent:Be,icon:Pe,infoTooltip:je,tableHeaderCellSort:ze,sort:$e,asc:Oe,desc:Xe,show:Je},Y=t.forwardRef(({id:e,className:s,"data-testid":c,title:a,onSortClicked:l,infoContent:d,icon:n,sortState:r="none",sortButtonAriaLabel:u="Sort",sticky:b},i)=>{const[p,m]=t.useState(!1),f=Re(r),h=l&&f!=="none",y=f!=="none"||p;return o.jsxs("div",{ref:i,id:e,className:T(g.tableHeaderCell,{[g.sortActive]:h,[g.sticky]:b},s),"data-testid":c||S(x.TABLE_HEADER_CELL,e),role:"columnheader",onMouseOver:()=>m(!0),onMouseLeave:()=>m(!1),onFocus:()=>m(!0),onBlur:()=>m(!1),"aria-sort":l?f:void 0,tabIndex:l?0:void 0,children:[o.jsxs(D,{direction:"row",align:"center",className:g.tableHeaderCellContent,gap:"xs",children:[n&&o.jsx(F,{icon:n,className:g.icon}),typeof a=="string"?o.jsx(ee,{type:"text2",weight:"medium",color:"secondary",children:a}):a,d&&o.jsx(me,{content:d,referenceWrapperClassName:g.infoTooltip,children:o.jsx(F,{icon:fe,iconLabel:d})})]}),l&&o.jsx(D,{direction:"row",align:"center",className:g.tableHeaderCellSort,children:o.jsx(pe,{icon:Te(r),kind:"tertiary",size:"xs",ariaLabel:u,"aria-hidden":!y,className:T(g.sort,A(g,r),{[g.show]:y}),onClick:()=>l(Ce(r))})})]})});try{Y.displayName="TableHeaderCell",Y.__docgenInfo={description:"",displayName:"TableHeaderCell",props:{title:{defaultValue:null,description:"The title of the column, displayed inside the header cell.",name:"title",required:!0,type:{name:"ReactNode"}},icon:{defaultValue:null,description:"Icon displayed next to the column title.",name:"icon",required:!1,type:{name:"SubIcon"}},infoContent:{defaultValue:null,description:"Tooltip content for additional information about the column.",name:"infoContent",required:!1,type:{name:"string"}},sortState:{defaultValue:{value:"none"},description:"Current sorting state of the column.",name:"sortState",required:!1,type:{name:'"none" | "desc" | "asc"'}},onSortClicked:{defaultValue:null,description:"Callback fired when the column header is clicked to change sorting.",name:"onSortClicked",required:!1,type:{name:'(direction: "none" | "desc" | "asc") => void'}},sortButtonAriaLabel:{defaultValue:{value:"Sort"},description:"ARIA label for the sort button.",name:"sortButtonAriaLabel",required:!1,type:{name:"string"}},sticky:{defaultValue:null,description:"If true, the header cell remains visible while scrolling horizontally.",name:"sticky",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const We="_tableRow_1fspi_2",De={tableRow:We},B=t.forwardRef(({highlighted:e,children:s,style:c,id:a,className:l,"data-testid":d},n)=>{const r=t.useRef(null),u=z(r,n),{onMouseOverRow:b,onMouseLeaveRow:i}=Ne(),p=t.useCallback(()=>{b(r)},[b]);return o.jsx("div",{id:a,"data-testid":d||S(x.TABLE_ROW,a),ref:u,role:"row","aria-selected":e||!1,className:T(De.tableRow,l),style:c,onMouseEnter:p,onMouseLeave:i,tabIndex:-1,children:s})});try{B.displayName="TableRow",B.__docgenInfo={description:"",displayName:"TableRow",props:{highlighted:{defaultValue:null,description:"If true, applies a highlighted style to the row.",name:"highlighted",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"The child components inside the table row, typically `<TableCell />` elements.",name:"children",required:!1,type:{name:"ReactElement<TableCellProps, string | JSXElementConstructor<any>> | ReactElement<TableCellProps, string | JSXElementConstructor<...>>[]"}},style:{defaultValue:null,description:"Custom styles applied to the table row.",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Fe="_tableBody_1lt0s_1",Ge={tableBody:Fe},Ue="_tableCell_1uasb_1",Ke="_sticky_1uasb_7",Q={tableCell:Ue,sticky:Ke},P=t.forwardRef(({sticky:e,id:s,className:c,"data-testid":a,children:l},d)=>{const n=W.Children.count(l)===1,r=typeof W.Children.toArray(l)[0],u=r==="string"||r==="number";return o.jsx("div",{ref:d,id:s,className:T(Q.tableCell,{[Q.sticky]:e},c),"data-testid":a||S(x.TABLE_CELL,s),role:"cell",children:n&&u?o.jsx(ee,{type:"text2",color:"primary",children:l}):l})});try{P.displayName="TableCell",P.__docgenInfo={description:"",displayName:"TableCell",props:{children:{defaultValue:null,description:"The content inside the table cell.",name:"children",required:!1,type:{name:"ReactNode"}},sticky:{defaultValue:null,description:"If true, makes the cell sticky (typically used for frozen columns).",name:"sticky",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Ye="_tableCellSkeletonWrapper_1p0ku_1",Qe="_longText_1p0ku_4",Ze="_mediumText_1p0ku_7",et="_tableCellSkeleton_1p0ku_1",tt="_circle_1p0ku_14",at="_rectangle_1p0ku_14",k={tableCellSkeletonWrapper:Ye,longText:Qe,mediumText:Ze,tableCellSkeleton:et,circle:tt,rectangle:at},j=({type:e="long-text"})=>{const s=["long-text","medium-text"].includes(e);return o.jsx(P,{children:o.jsx(be,{type:Se(e),wrapperClassName:T(k.tableCellSkeletonWrapper,A(k,G(e))),className:T(k.tableCellSkeleton,{[A(k,G(e))]:!s}),fullWidth:!0})})};try{j.displayName="TableCellSkeleton",j.__docgenInfo={description:"",displayName:"TableCellSkeleton",props:{type:{defaultValue:{value:"long-text"},description:"The type of loading state for the skeleton.",name:"type",required:!1,type:{name:"TableLoadingStateType"}},short:{defaultValue:null,description:"If true, renders a shorter skeleton for text-based loading states.",name:"short",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Z=t.forwardRef(({id:e,className:s,"data-testid":c,children:a},l)=>{const{dataState:d,emptyState:n,errorState:r,columns:u}=le(),{isLoading:b,isError:i}=d||{},p=[...new Array(ve)].map((m,f)=>o.jsx(B,{children:u.map(({loadingStateType:h},y)=>o.jsx(j,{type:xe(h,f)},`${f}-${y}`))},f));return o.jsx("div",{ref:l,id:e,className:T(Ge.tableBody,s),"data-testid":c||S(x.TABLE_BODY,e),role:"rowgroup",children:b?p:i?r:!a||Array.isArray(a)&&a.length===0?n:a})});try{Z.displayName="TableBody",Z.__docgenInfo={description:"",displayName:"TableBody",props:{children:{defaultValue:null,description:"The child components inside the table body, such as `<TableRow />` elements.",name:"children",required:!1,type:{name:"ReactElement<TableRowProps, string | JSXElementConstructor<any>> | ReactElement<TableRowProps, string | JSXElementConstructor<...>>[] | ReactElement<...>"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{we as R,Ct as T,K as a,Y as b,Z as c,B as d,P as e,Ne as f,le as u};
