import{j as p}from"./jsx-runtime-lwGtIXvq.js";import{c as R}from"./index-BpvXyOxN.js";import{r as a,R as x}from"./index-CTZeEbLr.js";import{u as S}from"./useMergeRef-Do2VYePL.js";import{u as O}from"./index-gB5zY9qh.js";import{L as N,b as F}from"./ListItem-DSS3Q0ML.js";import{T as B}from"./Text-BwLUW2oo.js";import{V as J}from"./VirtualizedList-BhChyItu.js";import{k as q,U as X}from"./useClickableProps-BJf5EuJX.js";import{a as K,g as W,C as G}from"./test-ids-utils-B1IbFLmr.js";import{u as Y}from"./useIsomorphicLayoutEffect-BBiFUoiz.js";import{w as Q}from"./withStaticProps-DfSG2La2.js";const Z="_listTitle_1u8a6_1",ee={listTitle:Z},b=a.forwardRef(({className:e,id:r,children:t,tabIndex:d,"data-testid":l},u)=>{const c=a.useRef(null),o=S(u,c);return p.jsx(B,{type:"text1",weight:"medium","data-testid":l||r,"aria-level":3,tabIndex:d,role:"heading",ref:o,className:R(ee.listTitle,e),id:r,children:t})});Object.assign(b,{displayName:"ListTitle"});try{b.displayName="ListTitle",b.__docgenInfo={description:"",displayName:"ListTitle",props:{tabIndex:{defaultValue:null,description:"The tab index for keyboard navigation.",name:"tabIndex",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"The title text.",name:"children",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const te="_scrollableContainer_cjz0y_1",se={scrollableContainer:te},_={TITLE:"title",ITEM:"item"},re=48,ie=32,A=({children:e})=>{const r=a.useMemo(()=>(Array.isArray(e)?e:[e]).map((l,u)=>{const c=l.type.displayName;if(c===b.displayName)return{type:_.TITLE,id:`list-title-${u}`,props:l.props,height:re};if(c===N.displayName){const{id:o}=l.props;return{type:_.ITEM,id:o||`list-item-${u}`,props:l.props,height:ie}}else return}).filter(l=>l!==void 0),[e]),t=a.useCallback((d,l,u)=>{const{type:c,props:o}=d;let L;switch(c){case _.TITLE:{L=p.jsx(b,{...o});break}case _.ITEM:{L=p.jsx(N,{...o});break}}return p.jsx("div",{style:u,children:L})},[]);return p.jsx(J,{scrollableClassName:R(se.scrollableContainer),items:r,itemRenderer:t})};try{A.displayName="VirtualizedListItems",A.__docgenInfo={description:"",displayName:"VirtualizedListItems",props:{children:{defaultValue:null,description:"The list of children.",name:"children",required:!1,type:{name:"ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<any>> | ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<...>>[]"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}var C=(e=>(e.DIV="div",e.NAV="nav",e.UL="ul",e.OL="ol",e))(C||{});let ne=0;const ae=()=>`list-${ne++}`,le=["option","listitem","menuitem","tab","treeitem"],oe=e=>{const[r,t]=a.useState();return Y(()=>{t(e||ae())},[e]),r},v=(e,r)=>{var t;return(t=e.current[r])==null?void 0:t.id},de=(e,r)=>e.current.findIndex(t=>(t==null?void 0:t.id)===r),ue=e=>{switch(e){case"ul":case"ol":return"li";case"nav":return"a";default:return"div"}},T=e=>e&&e instanceof HTMLElement&&le.includes(e.getAttribute("role")),ce=(e,r)=>{for(;e<r.current.length-1;){const t=r.current[++e];if(T(t))return e}},me=(e,r)=>{for(;e>0;){const t=r.current[--e];if(T(t))return e}},pe="_list_17d8x_2",fe={list:pe},V=a.forwardRef(({className:e,id:r,component:t=C.UL,children:d,ariaLabel:l,ariaDescribedBy:u,"aria-controls":c,renderOnlyVisibleItems:o=!1,style:L,role:P="listbox","data-testid":D},w)=>{const g=a.useRef(null),M=S(w,g),n=a.useRef([]),h=oe(r),[f,j]=a.useState(0),k=t,I=a.useCallback(i=>{var s;j(de(n,i)),(s=g==null?void 0:g.current)==null||s.setAttribute("aria-activedescendant",i)},[]),H=a.useCallback(i=>{if(o)return;i.preventDefault();const s=i.key===q.UP_ARROW,m=i.key===q.DOWN_ARROW;let y;m&&f+1<n.current.length?y=ce(f,n):s&&f>0&&(y=me(f,n)),y!==void 0&&(I(v(n,y)),n.current[y].focus())},[f,o,I]);O({keys:X,callback:H,ref:g}),a.useEffect(()=>{const i=n.current.findIndex(s=>s instanceof HTMLElement&&T(s)&&(s==null?void 0:s.getAttribute("aria-selected"))==="true");if(i!==-1)I(v(n,i));else{const s=n.current.findIndex(m=>T(m));s!==-1&&I(v(n,s))}},[I]);const U=a.useMemo(()=>{let i=Array.isArray(d)?d:[d];return o?i=p.jsx(A,{children:i}):(n.current=n.current.slice(0,i.length),i=x.Children.map(i,(s,m)=>{if(!x.isValidElement(s))return s;const y=s.props.id||`${h}-item-${m}`,E=n.current[m],$=E==null||T(E);return x.cloneElement(s,{ref:z=>n.current[m]=z,tabIndex:f===m&&$?0:-1,id:y,component:ue(t),role:s.props.role})})),i},[d,t,f,h,o]);return p.jsx(F.Provider,{value:{updateFocusedItem:I},children:p.jsx(k,{"data-testid":D||W(G.LIST,r),"data-vibe":K.LIST,ref:M,style:L,className:R(fe.list,e),id:h,"aria-label":l,"aria-describedby":u,"aria-controls":c,tabIndex:-1,role:P,children:U})})}),Ve=Q(V,{components:C});try{V.displayName="List",V.__docgenInfo={description:"",displayName:"List",props:{component:{defaultValue:{value:"ListWrapperComponentTypeEnum.UL"},description:"The wrapping component for the list.",name:"component",required:!1,type:{name:"ListElement"}},ariaLabel:{defaultValue:null,description:"The ARIA label describing the list.",name:"ariaLabel",required:!1,type:{name:"string"}},ariaDescribedBy:{defaultValue:null,description:"The ID of an element that describes the list.",name:"ariaDescribedBy",required:!1,type:{name:"string"}},"aria-controls":{defaultValue:null,description:"The ID of an element controlled by the list.",name:"aria-controls",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The child elements inside the list.",name:"children",required:!1,type:{name:"ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<any>> | ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<...>>[]"}},renderOnlyVisibleItems:{defaultValue:{value:"false"},description:"If true, uses a virtualized list to render only visible items for performance optimization.",name:"renderOnlyVisibleItems",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"Custom inline styles applied to the list.",name:"style",required:!1,type:{name:"CSSProperties"}},role:{defaultValue:{value:"listbox"},description:"The ARIA role of the list.",name:"role",required:!1,type:{name:"AriaRole"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Ve as L,b as a};
