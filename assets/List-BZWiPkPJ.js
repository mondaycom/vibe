import{c as R}from"./index-BpvXyOxN.js";import{r as i,R as u}from"./index-Hemj67b4.js";import{u as S}from"./useMergeRef-DQ4XPFxl.js";import{u as O}from"./index-8zVcErkr.js";import{L as N,b as F}from"./ListItem-Cr9G06Ed.js";import{T as B}from"./Text-B2fubIt7.js";import{V as J}from"./VirtualizedList-vReWKAg5.js";import{k as q,U as X}from"./function-utils-6EQ2u6TA.js";import{a as K,g as W,C as j}from"./test-ids-utils-9ISiqDto.js";import{u as G}from"./useIsomorphicLayoutEffect-FdvxY73P.js";import{w as Y}from"./withStaticProps-DfSG2La2.js";const Q="_listTitle_1u8a6_1",Z={listTitle:Q},b=i.forwardRef(({className:e,id:r,children:t,tabIndex:d,"data-testid":l},c)=>{const m=i.useRef(null),o=S(c,m);return u.createElement(B,{type:"text1",weight:"medium","data-testid":l||r,"aria-level":3,tabIndex:d,role:"heading",ref:o,className:R(Z.listTitle,e),id:r},t)});Object.assign(b,{displayName:"ListTitle"});try{b.displayName="ListTitle",b.__docgenInfo={description:"",displayName:"ListTitle",props:{tabIndex:{defaultValue:null,description:"The tab index for keyboard navigation.",name:"tabIndex",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"The title text.",name:"children",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}const ee="_scrollableContainer_cjz0y_1",te={scrollableContainer:ee},_={TITLE:"title",ITEM:"item"},se=48,re=32,A=({children:e})=>{const r=i.useMemo(()=>(Array.isArray(e)?e:[e]).map((l,c)=>{const m=l.type.displayName;if(m===b.displayName)return{type:_.TITLE,id:`list-title-${c}`,props:l.props,height:se};if(m===N.displayName){const{id:o}=l.props;return{type:_.ITEM,id:o||`list-item-${c}`,props:l.props,height:re}}else return}).filter(l=>l!==void 0),[e]),t=i.useCallback((d,l,c)=>{const{type:m,props:o}=d;let L;switch(m){case _.TITLE:{L=u.createElement(b,{...o});break}case _.ITEM:{L=u.createElement(N,{...o});break}}return u.createElement("div",{style:c},L)},[]);return u.createElement(J,{scrollableClassName:R(te.scrollableContainer),items:r,itemRenderer:t})};try{A.displayName="VirtualizedListItems",A.__docgenInfo={description:"",displayName:"VirtualizedListItems",props:{children:{defaultValue:null,description:"The list of children.",name:"children",required:!1,type:{name:"ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<any>> | ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<...>>[]"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}var C=(e=>(e.DIV="div",e.NAV="nav",e.UL="ul",e.OL="ol",e))(C||{});let ae=0;const ne=()=>`list-${ae++}`,ie=["option","listitem","menuitem","tab","treeitem"],le=e=>{const[r,t]=i.useState();return G(()=>{t(e||ne())},[e]),r},h=(e,r)=>{var t;return(t=e.current[r])==null?void 0:t.id},oe=(e,r)=>e.current.findIndex(t=>(t==null?void 0:t.id)===r),ue=e=>{switch(e){case"ul":case"ol":return"li";case"nav":return"a";default:return"div"}},T=e=>e&&e instanceof HTMLElement&&ie.includes(e.getAttribute("role")),de=(e,r)=>{for(;e<r.current.length-1;){const t=r.current[++e];if(T(t))return e}},ce=(e,r)=>{for(;e>0;){const t=r.current[--e];if(T(t))return e}},me="_list_17d8x_2",pe={list:me},V=i.forwardRef(({className:e,id:r,component:t=C.UL,children:d,ariaLabel:l,ariaDescribedBy:c,"aria-controls":m,renderOnlyVisibleItems:o=!1,style:L,role:x="listbox","data-testid":P},D)=>{const g=i.useRef(null),w=S(D,g),n=i.useRef([]),E=le(r),[f,M]=i.useState(0),k=t,I=i.useCallback(a=>{var s;M(oe(n,a)),(s=g==null?void 0:g.current)==null||s.setAttribute("aria-activedescendant",a)},[]),H=i.useCallback(a=>{if(o)return;a.preventDefault();const s=a.key===q.UP_ARROW,p=a.key===q.DOWN_ARROW;let y;p&&f+1<n.current.length?y=de(f,n):s&&f>0&&(y=ce(f,n)),y!==void 0&&(I(h(n,y)),n.current[y].focus())},[f,o,I]);O({keys:X,callback:H,ref:g}),i.useEffect(()=>{const a=n.current.findIndex(s=>s instanceof HTMLElement&&T(s)&&(s==null?void 0:s.getAttribute("aria-selected"))==="true");if(a!==-1)I(h(n,a));else{const s=n.current.findIndex(p=>T(p));s!==-1&&I(h(n,s))}},[I]);const U=i.useMemo(()=>{let a=Array.isArray(d)?d:[d];return o?a=u.createElement(A,null,a):(n.current=n.current.slice(0,a.length),a=u.Children.map(a,(s,p)=>{if(!u.isValidElement(s))return s;const y=s.props.id||`${E}-item-${p}`,v=n.current[p],$=v==null||T(v);return u.cloneElement(s,{ref:z=>n.current[p]=z,tabIndex:f===p&&$?0:-1,id:y,component:ue(t),role:s.props.role})})),a},[d,t,f,E,o]);return u.createElement(F.Provider,{value:{updateFocusedItem:I}},u.createElement(k,{"data-testid":P||W(j.LIST,r),"data-vibe":K.LIST,ref:w,style:L,className:R(pe.list,e),id:E,"aria-label":l,"aria-describedby":c,"aria-controls":m,tabIndex:-1,role:x},U))}),Ae=Y(V,{components:C});try{V.displayName="List",V.__docgenInfo={description:"",displayName:"List",props:{component:{defaultValue:{value:"ListWrapperComponentTypeEnum.UL"},description:"The wrapping component for the list.",name:"component",required:!1,type:{name:"enum",value:[{value:'"div"'},{value:'"nav"'},{value:'"ol"'},{value:'"ul"'}]}},ariaLabel:{defaultValue:null,description:"The ARIA label describing the list.",name:"ariaLabel",required:!1,type:{name:"string"}},ariaDescribedBy:{defaultValue:null,description:"The ID of an element that describes the list.",name:"ariaDescribedBy",required:!1,type:{name:"string"}},"aria-controls":{defaultValue:null,description:"The ID of an element controlled by the list.",name:"aria-controls",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The child elements inside the list.",name:"children",required:!1,type:{name:"ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<any>> | ReactElement<ListItemProps | ListTitleProps, string | JSXElementConstructor<...>>[]"}},renderOnlyVisibleItems:{defaultValue:{value:"false"},description:"If true, uses a virtualized list to render only visible items for performance optimization.",name:"renderOnlyVisibleItems",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"Custom inline styles applied to the list.",name:"style",required:!1,type:{name:"CSSProperties"}},role:{defaultValue:{value:"listbox"},description:"The ARIA role of the list.",name:"role",required:!1,type:{name:"AriaRole"}},className:{defaultValue:null,description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Ae as L,b as a};
