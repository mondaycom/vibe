import{j as u}from"./jsx-runtime-lwGtIXvq.js";import{c as V}from"./index-BpvXyOxN.js";import{r as l}from"./index-CTZeEbLr.js";import{g as Qe}from"./typesciptCssModulesHelper-Ji7rRrZn.js";import{g as qe,a as Ee,C as et}from"./test-ids-utils-BiWUJdxm.js";import{u as _e}from"./useMergeRef-Do2VYePL.js";import{S as tt}from"./Search-1tqW-CcQ.js";import{T as ot}from"./Text-DVNPP_6L.js";import{T as nt,i as at}from"./Tooltip-Bz77u-mN.js";import{u as it}from"./useIsOverflowing-CqkoFCDi.js";import{a as rt,w as lt}from"./withStaticProps-DfSG2La2.js";import{k as Ie}from"./useClickableProps-CtaZWk7Q.js";import{I as st}from"./Icon-CMBPUOKb.js";import{D as ut}from"./Divider-5b08Ypxw.js";import{u as xe}from"./index-DtzvftkN.js";import{V as dt}from"./VirtualizedList-Bpy5ozHu.js";import{B as ct}from"./sizes-BOsbvv4u.js";import{n as Ve}from"./noop-DX6rZLP_.js";import{c as mt}from"./camelCase-CO1PkVrH.js";import{B as pt}from"./Button-zprqw9Vf.js";function Ne(e,t){return e!==void 0?`combobox-item-${e}`:`combobox-item-${t}`}const we="combobox-divider",ye="combobox-category",P="combobox-option",Oe="combobox-listbox";var ke=(e=>(e.DEFAULT="default",e.RENDERER="renderer",e))(ke||{});const ft="_comboboxOption_llgw1_2",bt="_disabled_llgw1_13",yt="_selected_llgw1_23",ht="_active_llgw1_28",gt="_activeOutline_llgw1_34",Ct="_optionLabel_llgw1_42",vt="_optionIcon_llgw1_49",_t="_left_llgw1_53",T={comboboxOption:ft,disabled:bt,selected:yt,active:ht,activeOutline:gt,optionLabel:Ct,optionIcon:vt,left:_t},ne=({index:e,option:t,className:a,isActive:r,visualFocus:n,scrollRef:o,scrollOffset:s=100,onOptionClick:i,onOptionLeave:p,onOptionHover:c,optionLineHeight:m,shouldScrollWhenActive:h=!0,optionRenderer:b=null})=>{const{id:x,leftIcon:O,leftIconType:q,rightIcon:w,rightIconType:C,label:v,iconSize:M=18,disabled:_,selected:j,ariaLabel:S,belongToCategory:E=!1}=t;let{tooltipContent:g}=t;const f=l.useRef(null),k=l.useRef(),H=it({ref:k});l.useEffect(()=>{var F;const d=f.current;n&&d&&h&&(o!=null&&o.current&&d?o.current.scrollTop=d.offsetTop-s:(F=d==null?void 0:d.scrollIntoView)==null||F.call(d,{behaviour:"smooth"}))},[f,n,h,o,s,E]);const B=(d,F,X)=>F==="renderer"?d(V(T.optionIcon,X)):u.jsx(st,{className:V(T.optionIcon,X),iconType:"font",icon:d,iconSize:M,ignoreFocusStyle:!0}),D=l.useCallback(d=>{_||i(d,e,t,!0)},[e,t,i,_]),J=l.useCallback(d=>{_||p(d,e,t,!0)},[e,t,p,_]),U=l.useCallback(d=>{_||c(d,e,t,!0)},[e,t,c,_]),$=l.useCallback(d=>{(d.key===Ie.ENTER||d.key===Ie.SPACE)&&i(d,e,t,!1)},[i,e,t]);g||(g=H?v:null);const Z=l.useMemo(()=>b&&b(t),[b,t]),Q=u.jsxs(u.Fragment,{children:[O&&B(O,q,T.left),u.jsx("div",{ref:k,className:V(T.optionLabel),children:v}),w&&B(w,C,"")]});return u.jsx(nt,{...t.tooltipProps,content:g,hideWhenReferenceHidden:!0,children:u.jsx("div",{ref:f,"aria-level":E?2:1,"aria-selected":r,"aria-label":S||v,id:Ne(x,e),"data-testid":qe(Ee.COMBOBOX_OPTION,e),onMouseEnter:U,onClick:D,onKeyDown:$,onMouseLeave:J,className:V(T.comboboxOption,a,{[T.disabled]:_,[T.selected]:j,[T.active]:r,[T.activeOutline]:n}),style:{height:m},children:Z||Q},x||v)})},Re=rt(ne,{iconTypes:ke});try{ne.displayName="ComboboxOption",ne.__docgenInfo={description:"",displayName:"ComboboxOption",props:{index:{defaultValue:null,description:"The index of the option in the list.",name:"index",required:!1,type:{name:"number"}},option:{defaultValue:null,description:"The option data containing label, icons, and other properties.",name:"option",required:!1,type:{name:"IComboboxOption"}},className:{defaultValue:null,description:"Class name applied to the option element.",name:"className",required:!1,type:{name:"string"}},isActive:{defaultValue:null,description:"If true, the option is currently active.",name:"isActive",required:!1,type:{name:"boolean"}},visualFocus:{defaultValue:null,description:"If true, the option has visual focus.",name:"visualFocus",required:!1,type:{name:"boolean"}},scrollRef:{defaultValue:null,description:"A reference to the scroll container.",name:"scrollRef",required:!1,type:{name:"RefObject<HTMLElement>"}},scrollOffset:{defaultValue:{value:"100"},description:"The amount of offset when scrolling to the active item.",name:"scrollOffset",required:!1,type:{name:"number"}},optionLineHeight:{defaultValue:null,description:"The height of each option.",name:"optionLineHeight",required:!1,type:{name:"number"}},shouldScrollWhenActive:{defaultValue:{value:"true"},description:"If true, scrolls to the active option when it is selected.",name:"shouldScrollWhenActive",required:!1,type:{name:"boolean"}},optionRenderer:{defaultValue:{value:"null"},description:"Custom renderer for the option content.",name:"optionRenderer",required:!1,type:{name:"(option: IComboboxOption) => Element"}},onOptionClick:{defaultValue:null,description:"Callback fired when an option is clicked.",name:"onOptionClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}},onOptionLeave:{defaultValue:null,description:"Callback fired when the mouse leaves an option.",name:"onOptionLeave",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}},onOptionEnter:{defaultValue:null,description:"Callback fired when the mouse enters an option.",name:"onOptionEnter",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}},onOptionHover:{defaultValue:null,description:"Callback fired when hovering over an option.",name:"onOptionHover",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}}}}}catch{}const It=(e,t,a)=>{const r=e.reduce((n,o)=>{var i;const s=o.categoryId;return!s||(i=t[s])!=null&&i.onlyShowOnSearch&&!a||(n[s]?n[s].push(o):n[s]=[o]),n},{});return Object.keys(t).reduce((n,o)=>(r[o]&&(n[o]=r[o]),n),{})},xt=(e,t)=>t.filter(({label:a})=>!e||a.toLowerCase().includes(e.toLowerCase())),Vt="_comboboxCategory_12p4s_2",Te={comboboxCategory:Vt},Ot="_combobox_1il48_2",qt="_stickyCategory_1il48_12",Et="_comboboxCategory_1il48_12",Nt="_sizeSmall_1il48_18",wt="_sizeMedium_1il48_22",kt="_sizeLarge_1il48_26",Rt="_empty_1il48_30",Tt="_comboboxSearchWrapper_1il48_35",Mt="_comboboxNoResults_1il48_41",St="_comboboxMessageWrapper_1il48_52",Lt="_comboboxMessage_1il48_52",jt="_addNewButton_1il48_65",At="_buttonLabel_1il48_71",Ft="_comboboxList_1il48_77",I={combobox:Ot,stickyCategory:qt,comboboxCategory:Et,sizeSmall:Nt,sizeMedium:wt,sizeLarge:kt,empty:Rt,comboboxSearchWrapper:Tt,comboboxNoResults:Mt,comboboxMessageWrapper:St,comboboxMessage:Lt,addNewButton:jt,buttonLabel:At,comboboxList:Ft},ae=({category:e,className:t})=>{const{label:a,id:r,ariaLabel:n,color:o}=e;return a?u.jsx("div",{role:"row","aria-level":1,"aria-label":n||a,id:`combobox-category-${r}`,style:o&&{color:o},className:V(Te.comboboxCategory,I.comboboxCategory,t),children:a},r):null};try{ae.displayName="ComboboxCategory",ae.__docgenInfo={description:"",displayName:"ComboboxCategory",props:{category:{defaultValue:null,description:"The category data.",name:"category",required:!0,type:{name:"IComboboxCategory"}},className:{defaultValue:null,description:"Class name applied to the category element.",name:"className",required:!0,type:{name:"string"}}}}}catch{}const Ht="_scrollableContainer_guj3w_1",Bt="_optionsContainer_guj3w_10",Dt="_categoryWithOptions_guj3w_16",Wt="_firstCategory_guj3w_16",zt="_categoryWithoutOptions_guj3w_17",A={scrollableContainer:Ht,optionsContainer:Bt,categoryWithOptions:Dt,firstCategory:Wt,categoryWithoutOptions:zt},$t="_comboboxItemContainer_1nwbz_1",Xt="_dividerContainer_1nwbz_8",Kt="_divider_1nwbz_8",Pt="_sticky_1nwbz_19",G={comboboxItemContainer:$t,dividerContainer:Xt,divider:Kt,sticky:Pt},Gt=17,Yt=32;function ie({categories:e,options:t,filterValue:a,withCategoriesDivider:r,optionLineHeight:n}){return l.useMemo(()=>{let o=[],s=[];const i=new Map;if(e){const p=It(t,e,a);let c=0;Object.keys(p).forEach((m,h)=>{const b=r&&h!==0;b&&o.push(le({categoryId:m}));const x=p[m].length>0,O=h===0,q=se({categoryId:m,categoryData:e[m],withDivider:b,className:V({[A.categoryWithOptions]:x,[A.categoryWithoutOptions]:!x,[A.firstCategory]:O})});o.push(q),i.set(m,q),p[m].forEach(w=>{const C=Y({height:n,option:w,index:c,categoryId:q.id});i.set(C.id,C),o.push(C),s.push(w),c++})})}else s=t,o=t.map((p,c)=>Y({height:n,option:p,index:c}));return{items:o,itemsMap:i,selectableItems:s}},[e,t,a,r,n])}function re({defaultVisualFocusFirstIndex:e,inputRef:t,onClick:a,isChildSelectable:r,options:n,getOptionId:o}){const s=l.useMemo(()=>n.map((m,h)=>o(m==null?void 0:m.id,h)),[o,n]),{visualFocusItemIndex:i,visualFocusItemId:p,onItemClickCallback:c}=xe({defaultVisualFocusFirstIndex:e,focusedElementRef:t,focusedElementRole:xe.roles.COMBOBOX,itemsIds:s,onItemClick:a,isItemSelectable:r,isIgnoreSpaceAsItemSelection:!0});return{visualFocusItemIndex:i,visualFocusItemId:p,onOptionClick:c}}function le({categoryId:e}){return{type:we,height:Gt,id:`${e}-divider`}}function se({withDivider:e,categoryId:t,categoryData:a,className:r}){return{height:Yt,type:ye,category:a,id:t,withDivider:e,className:r}}function Y({option:e,height:t,index:a,optionRenderer:r,isActive:n,optionLineHeight:o,shouldScrollToSelectedItem:s,categoryId:i}){return{type:P,height:t,belongToCategory:!0,index:a,option:e,id:e.id||a.toString(),optionRenderer:r,isActive:n,optionLineHeight:o,shouldScrollToSelectedItem:s,categoryId:i}}function ue({item:e,style:t,optionEvents:a,optionRenderData:r,isVirtualized:n,stickyCategories:o}){const{type:s,...i}=e;let p,c;switch(s){case we:{c=de({id:i.id,height:i.height});break}case ye:{c=ce({id:i.id,category:i.category,className:i.className}),o&&!n&&(p=G.sticky);break}case P:{c=me({...i,...a,...r});break}}return u.jsx("div",{className:V(G.comboboxItemContainer,p),style:t,children:c},i.id)}function de({id:e,height:t}){return u.jsx("div",{className:G.dividerContainer,style:{height:t},children:u.jsx(ut,{className:G.divider},e)})}function ce({id:e,category:t,className:a}){return u.jsx(ae,{category:t,className:a},e)}function me({id:e,index:t,option:a,className:r,onOptionClick:n,onOptionEnter:o,onOptionLeave:s,optionLineHeight:i,optionRenderer:p,scrollRef:c,shouldScrollToSelectedItem:m,activeItemIndex:h,visualFocusItemIndex:b}){return u.jsx(Re,{className:r,index:t,option:a,optionRenderer:p,scrollRef:c,isActive:h===t,visualFocus:t===b,onOptionClick:n,onOptionHover:o,onOptionLeave:s,onOptionEnter:o,optionLineHeight:i,shouldScrollWhenActive:m},e)}try{ie.displayName="useItemsData",ie.__docgenInfo={description:"",displayName:"useItemsData",props:{categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"IComboboxCategoryMap"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"IComboboxOption[]"}},filterValue:{defaultValue:null,description:"",name:"filterValue",required:!0,type:{name:"string"}},withCategoriesDivider:{defaultValue:null,description:"",name:"withCategoriesDivider",required:!0,type:{name:"boolean"}},optionLineHeight:{defaultValue:null,description:"",name:"optionLineHeight",required:!0,type:{name:"number"}}}}}catch{}try{re.displayName="useKeyboardNavigation",re.__docgenInfo={description:"",displayName:"useKeyboardNavigation",props:{defaultVisualFocusFirstIndex:{defaultValue:null,description:"",name:"defaultVisualFocusFirstIndex",required:!1,type:{name:"boolean"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!0,type:{name:"MutableRefObject<HTMLElement>"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, index: number) => void"}},isChildSelectable:{defaultValue:null,description:"",name:"isChildSelectable",required:!0,type:{name:"(index: number) => boolean"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"IComboboxOption[]"}},getOptionId:{defaultValue:null,description:"",name:"getOptionId",required:!0,type:{name:"(optionId: string, index: number) => string"}}}}}catch{}try{le.displayName="createDividerItemObject",le.__docgenInfo={description:"",displayName:"createDividerItemObject",props:{categoryId:{defaultValue:null,description:"",name:"categoryId",required:!0,type:{name:"string"}}}}}catch{}try{se.displayName="createCategoryItemObject",se.__docgenInfo={description:"",displayName:"createCategoryItemObject",props:{withDivider:{defaultValue:null,description:"",name:"withDivider",required:!0,type:{name:"boolean"}},categoryId:{defaultValue:null,description:"",name:"categoryId",required:!0,type:{name:"string"}},categoryData:{defaultValue:null,description:"",name:"categoryData",required:!0,type:{name:"IComboboxCategory"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}}}catch{}try{Y.displayName="createOptionItemObject",Y.__docgenInfo={description:"",displayName:"createOptionItemObject",props:{option:{defaultValue:null,description:"",name:"option",required:!1,type:{name:"IComboboxOption"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},optionRenderer:{defaultValue:null,description:"",name:"optionRenderer",required:!1,type:{name:"(option: IComboboxOption) => Element"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!1,type:{name:"boolean"}},optionLineHeight:{defaultValue:null,description:"",name:"optionLineHeight",required:!1,type:{name:"number"}},shouldScrollToSelectedItem:{defaultValue:null,description:"",name:"shouldScrollToSelectedItem",required:!1,type:{name:"boolean"}},categoryId:{defaultValue:null,description:"",name:"categoryId",required:!1,type:{name:"string"}}}}}catch{}try{ue.displayName="comboboxItemRenderer",ue.__docgenInfo={description:"",displayName:"comboboxItemRenderer",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"IComboboxItem"}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"CSSProperties"}},optionEvents:{defaultValue:null,description:"",name:"optionEvents",required:!0,type:{name:"IComboboxOptionEvents"}},optionRenderData:{defaultValue:null,description:"",name:"optionRenderData",required:!0,type:{name:"any"}},isVirtualized:{defaultValue:null,description:"",name:"isVirtualized",required:!0,type:{name:"boolean"}},stickyCategories:{defaultValue:null,description:"",name:"stickyCategories",required:!1,type:{name:"boolean"}}}}}catch{}try{de.displayName="dividerItemRenderer",de.__docgenInfo={description:"",displayName:"dividerItemRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}}}catch{}try{ce.displayName="categoryItemRenderer",ce.__docgenInfo={description:"",displayName:"categoryItemRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},category:{defaultValue:null,description:"",name:"category",required:!0,type:{name:"IComboboxCategory"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}}}catch{}try{me.displayName="optionItemRenderer",me.__docgenInfo={description:"",displayName:"optionItemRenderer",props:{id:{defaultValue:null,description:"The unique ID of the option item.",name:"id",required:!1,type:{name:"string"}},index:{defaultValue:null,description:"The index of the option item.",name:"index",required:!1,type:{name:"number"}},option:{defaultValue:null,description:"The option details.",name:"option",required:!1,type:{name:"IComboboxOption"}},className:{defaultValue:null,description:"Class name applied to the option item.",name:"className",required:!1,type:{name:"string"}},isActive:{defaultValue:null,description:"If true, the option is currently active.",name:"isActive",required:!1,type:{name:"boolean"}},visualFocus:{defaultValue:null,description:"If true, the option has visual focus.",name:"visualFocus",required:!1,type:{name:"boolean"}},scrollRef:{defaultValue:null,description:"A reference to the scroll container.",name:"scrollRef",required:!1,type:{name:"MutableRefObject<HTMLElement>"}},scrollOffset:{defaultValue:null,description:"The amount of offset when scrolling to the active item.",name:"scrollOffset",required:!1,type:{name:"number"}},optionLineHeight:{defaultValue:null,description:"The height of the option item.",name:"optionLineHeight",required:!1,type:{name:"number"}},shouldScrollToSelectedItem:{defaultValue:null,description:"If true, the selected item is automatically scrolled into view.",name:"shouldScrollToSelectedItem",required:!1,type:{name:"boolean"}},shouldScrollWhenActive:{defaultValue:null,description:"If true, scrolls to the active option when it is selected.",name:"shouldScrollWhenActive",required:!1,type:{name:"boolean"}},belongToCategory:{defaultValue:null,description:"If true, the option belongs to a category.",name:"belongToCategory",required:!1,type:{name:"boolean"}},visualFocusItemIndex:{defaultValue:null,description:"The index of the item with visual focus.",name:"visualFocusItemIndex",required:!1,type:{name:"number"}},activeItemIndex:{defaultValue:null,description:"The index of the currently active item.",name:"activeItemIndex",required:!1,type:{name:"number"}},optionRenderer:{defaultValue:null,description:"Custom renderer for the option content.",name:"optionRenderer",required:!1,type:{name:"(option: IComboboxOption) => Element"}},onOptionClick:{defaultValue:null,description:"Callback fired when an option is clicked.",name:"onOptionClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}},onOptionLeave:{defaultValue:null,description:"Callback fired when the mouse leaves an option.",name:"onOptionLeave",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}},onOptionEnter:{defaultValue:null,description:"Callback fired when the mouse enters an option.",name:"onOptionEnter",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}},onOptionHover:{defaultValue:null,description:"Callback fired when hovering over an option.",name:"onOptionHover",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}}}}}catch{}const pe=l.forwardRef(({className:e,optionClassName:t,categories:a,options:r,optionRenderer:n,activeItemIndex:o,visualFocusItemIndex:s,onOptionClick:i,onOptionEnter:p,onOptionLeave:c,optionLineHeight:m,shouldScrollToSelectedItem:h,renderOnlyVisibleOptions:b,onActiveCategoryChanged:x,maxOptionsWithoutScroll:O,itemsMap:q,stickyCategories:w,id:C},v)=>{const M=l.useRef(),_=l.useMemo(()=>{if(O){const g=Math.min(r.length+Object.keys(a??{}).length,O+.5);return{height:m*g}}},[O,m,r,a]),j=l.useCallback((g,f,k)=>ue({stickyCategories:w,item:g,style:k,optionEvents:{onOptionClick:i,onOptionEnter:p,onOptionLeave:c},optionRenderData:{className:t,optionLineHeight:m,optionRenderer:n,visualFocusItemIndex:s,scrollRef:b?null:v,activeItemIndex:o,shouldScrollToSelectedItem:h},isVirtualized:b}),[i,p,c,t,m,n,s,b,v,o,h]),S=l.useCallback(({firstItemId:g})=>{window.requestAnimationFrame(()=>{const f=q.get(g);if(f&&(f.type===ye||f.type===P)){const k=f.type===P&&f.categoryId?f.categoryId:f.id;if(k!==M.current){M.current=k;const H=q.get(M.current);x(H)}}})},[q,x]);let E;return b?E=u.jsx(dt,{ref:v,className:V(A.optionsContainer,e),items:r,itemRenderer:j,role:"listbox",scrollableClassName:A.scrollableContainer,onItemsRendered:S,style:_,id:C}):E=u.jsx("div",{className:V(A.scrollableContainer,A.optionsContainer,e),role:"listbox",id:C,style:_,ref:v,children:r.map((g,f)=>j(g,f,void 0))}),E});try{pe.displayName="ComboboxItems",pe.__docgenInfo={description:"",displayName:"ComboboxItems",props:{className:{defaultValue:null,description:"Class name applied to the options container.",name:"className",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Class name applied to individual options.",name:"optionClassName",required:!1,type:{name:"string"}},categories:{defaultValue:null,description:"The categories available in the combobox.",name:"categories",required:!1,type:{name:"IComboboxCategoryMap"}},options:{defaultValue:null,description:"The list of options displayed in the combobox.",name:"options",required:!1,type:{name:"IComboboxItem[]"}},optionRenderer:{defaultValue:null,description:"Custom renderer for an option.",name:"optionRenderer",required:!1,type:{name:"(option: IComboboxOption) => Element"}},activeItemIndex:{defaultValue:null,description:"The index of the currently active item.",name:"activeItemIndex",required:!1,type:{name:"number"}},visualFocusItemIndex:{defaultValue:null,description:"The index of the item with visual focus.",name:"visualFocusItemIndex",required:!1,type:{name:"number"}},optionLineHeight:{defaultValue:null,description:"The height of each option item.",name:"optionLineHeight",required:!1,type:{name:"number"}},shouldScrollToSelectedItem:{defaultValue:null,description:"If true, the list scrolls to the selected item when opened.",name:"shouldScrollToSelectedItem",required:!1,type:{name:"boolean"}},renderOnlyVisibleOptions:{defaultValue:null,description:"If true, only renders visible options (optimization for large lists).",name:"renderOnlyVisibleOptions",required:!1,type:{name:"boolean"}},onActiveCategoryChanged:{defaultValue:null,description:"Callback fired when the active category changes.",name:"onActiveCategoryChanged",required:!1,type:{name:"(category: IComboboxItem) => void"}},maxOptionsWithoutScroll:{defaultValue:null,description:"The maximum number of options displayed without scrolling.",name:"maxOptionsWithoutScroll",required:!1,type:{name:"number"}},itemsMap:{defaultValue:null,description:"A map of item IDs to item data.",name:"itemsMap",required:!1,type:{name:"Map<string, IComboboxItem>"}},stickyCategories:{defaultValue:null,description:"If true, categories remain visible when scrolling.",name:"stickyCategories",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"The ID of the options container.",name:"id",required:!1,type:{name:"string"}},onOptionClick:{defaultValue:null,description:"Callback fired when an option is clicked.",name:"onOptionClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}},onOptionLeave:{defaultValue:null,description:"Callback fired when the mouse leaves an option.",name:"onOptionLeave",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}},onOptionEnter:{defaultValue:null,description:"Callback fired when the mouse enters an option.",name:"onOptionEnter",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}},onOptionHover:{defaultValue:null,description:"Callback fired when hovering over an option.",name:"onOptionHover",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption, mouseTriggered: boolean) => void"}}}}}catch{}const Jt="_stickyCategoryHeader_2r0uv_1",Ut={stickyCategoryHeader:Jt},fe=({label:e,color:t,className:a})=>e===void 0?null:u.jsx("div",{className:V(Ut.stickyCategoryHeader,I.comboboxCategory,Te.comboboxCategory,a),style:t&&{color:t},"aria-hidden":!0,children:e});try{fe.displayName="StickyCategoryHeader",fe.__docgenInfo={description:"",displayName:"StickyCategoryHeader",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const be=l.forwardRef(({className:e="",optionClassName:t="",searchWrapperClassName:a,stickyCategoryClassName:r,searchIcon:n,id:o="",placeholder:s="",size:i="medium",defaultVisualFocusFirstIndex:p,optionLineHeight:c=32,optionsListHeight:m,autoFocus:h=!1,disabled:b=!1,options:x=[],categories:O,withCategoriesDivider:q=!1,noResultsMessage:w="No results found",onAddNew:C,addNewLabel:v="Add new",onClick:M=he=>{},filter:_=xt,disableFilter:j=!1,filterValue:S,onFilterChanged:E,loading:g=!1,onOptionHover:f=Ve,onOptionLeave:k=Ve,shouldScrollToSelectedItem:H=!0,noResultsRenderer:B,stickyCategories:D=!1,optionRenderer:J=null,renderOnlyVisibleOptions:U=!1,clearFilterOnSelection:$=!1,maxOptionsWithoutScroll:Z,defaultFilter:Q="",searchInputAriaLabel:d="Search for content","data-testid":F,debounceRate:X,searchInputRef:Me,renderAction:Se,hideRenderActionOnInput:Le},je)=>{const he=l.useRef(null),Ae=l.useRef(null),Fe=_e(je,he),ge=_e(Ae,Me),[R,W]=l.useState(S||Q);S!==void 0&&S!==R&&W(S);const ee=l.useCallback(y=>{Ce(-1),E&&E(y),W(y)},[W,E]),He=l.useCallback((y,L,Ze)=>{f(y,L,Ze)},[f]),z=l.useMemo(()=>j?x:_(R,x),[x,R,_,j]),[Be,Ce]=l.useState(-1),te=l.useCallback(y=>y!==void 0&&z[y]&&!z[y].disabled,[z]),De=l.useCallback(()=>{C&&C(R),W("")},[C,R,W]),K=z.length>0,ve=R.length>0;function We(){return at(v)?v(R):v}function ze(){return B?B():u.jsxs("div",{className:I.comboboxNoResults,children:[u.jsx("div",{className:I.comboboxMessageWrapper,children:u.jsx("span",{className:I.comboboxMessage,children:w})}),C&&!b&&u.jsx(pt,{className:I.addNewButton,size:i,kind:"tertiary",onClick:De,children:u.jsx("span",{className:I.buttonLabel,children:We()})})]})}const[N,$e]=l.useState(),Xe=l.useCallback(y=>{var L;((L=y==null?void 0:y.category)==null?void 0:L.label)!==(N==null?void 0:N.label)&&$e(y==null?void 0:y.category)},[N]),{items:Ke,itemsMap:Pe,selectableItems:oe}=ie({categories:O,options:z,filterValue:R,withCategoriesDivider:q,optionLineHeight:c}),Ge=l.useCallback((y,L)=>{M(oe[L]),te(L)&&Ce(L),$&&ee("")},[M,oe,te,$,ee]),{visualFocusItemIndex:Ye,visualFocusItemId:Je,onOptionClick:Ue}=re({getOptionId:Ne,defaultVisualFocusFirstIndex:p,onClick:Ge,isChildSelectable:te,options:oe,inputRef:ge});return u.jsxs(ot,{type:"text2",ref:Fe,className:V(I.combobox,e,Qe(I,mt("size-"+i)),{[I.empty]:!K,[I.stickyCategory]:D}),id:o,"data-testid":F||qe(Ee.COMBOBOX,o),ellipsis:!1,"data-vibe":et.COMBOBOX,children:[u.jsxs("div",{className:I.comboboxList,style:{maxHeight:m},children:[u.jsx(tt,{ref:ge,value:R,className:V(I.comboboxSearchWrapper,a),inputAriaLabel:d,currentAriaResultId:Je,id:"combobox-search",placeholder:s,size:i,disabled:b,onChange:ee,autoFocus:h,loading:g,searchIconName:n,ariaExpanded:ve||K,ariaHasPopup:"listbox",searchResultsContainerId:o?`${o}-listbox`:Oe,debounceRate:X,renderAction:Se,hideRenderActionOnInput:Le}),D&&u.jsx(fe,{label:N==null?void 0:N.label,color:N==null?void 0:N.color,className:r}),K&&u.jsx(pe,{stickyCategories:D,categories:O,options:Ke,itemsMap:Pe,optionClassName:t,optionRenderer:J,activeItemIndex:Be,onActiveCategoryChanged:Xe,onOptionClick:Ue,onOptionEnter:He,onOptionLeave:k,optionLineHeight:c,shouldScrollToSelectedItem:H,renderOnlyVisibleOptions:U,maxOptionsWithoutScroll:Z,visualFocusItemIndex:Ye,id:o?`${o}-listbox`:Oe})]}),ve&&!K&&!g&&ze()]})}),Co=lt(be,{sizes:ct,iconTypes:Re.iconTypes});try{be.displayName="Combobox",be.__docgenInfo={description:"",displayName:"Combobox",props:{optionClassName:{defaultValue:{value:""},description:"Class name applied to each option item.",name:"optionClassName",required:!1,type:{name:"string"}},searchWrapperClassName:{defaultValue:null,description:"Class name applied to the search wrapper.",name:"searchWrapperClassName",required:!1,type:{name:"string"}},stickyCategoryClassName:{defaultValue:null,description:"Class name applied to the sticky category header.",name:"stickyCategoryClassName",required:!1,type:{name:"string"}},placeholder:{defaultValue:{value:""},description:"Placeholder text displayed in the search input.",name:"placeholder",required:!1,type:{name:"string"}},noResultsMessage:{defaultValue:{value:"No results found"},description:"Message displayed when no results are found.",name:"noResultsMessage",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"If true, the combobox is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},options:{defaultValue:{value:"[]"},description:"The list of available options.",name:"options",required:!1,type:{name:"IComboboxOption[]"}},categories:{defaultValue:null,description:"The list of available categories.",name:"categories",required:!1,type:{name:"IComboboxCategoryMap"}},withCategoriesDivider:{defaultValue:{value:"false"},description:"If true, displays a divider between category sections.",name:"withCategoriesDivider",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"medium"},description:"The size of the combobox.",name:"size",required:!1,type:{name:"ComboboxSizes"}},optionLineHeight:{defaultValue:{value:"32"},description:"The height of each option item.",name:"optionLineHeight",required:!1,type:{name:"number"}},optionsListHeight:{defaultValue:null,description:"The height of the options list.",name:"optionsListHeight",required:!1,type:{name:"number"}},autoFocus:{defaultValue:{value:"false"},description:"If true, the search input is focused when the component mounts.",name:"autoFocus",required:!1,type:{name:"boolean"}},onAddNew:{defaultValue:null,description:'Callback fired when the "Add new" button is clicked.',name:"onAddNew",required:!1,type:{name:"(value: string) => void"}},addNewLabel:{defaultValue:{value:"Add new"},description:'Label displayed for the "Add new" button.',name:"addNewLabel",required:!1,type:{name:"string | ((label: string) => ElementContent)"}},filter:{defaultValue:{value:`(filterValue: string, options: IComboboxOption[]) =>
  options.filter(
    ({ label }: { label: string }) => !filterValue || label.toLowerCase().includes(filterValue.toLowerCase())
  )`},description:"Custom filter function for searching options.",name:"filter",required:!1,type:{name:"(filterValue: string, options: IComboboxOption[]) => IComboboxOption[]"}},defaultFilter:{defaultValue:null,description:"The default search input",name:"defaultFilter",required:!1,type:{name:"string"}},disableFilter:{defaultValue:{value:"false"},description:"If true, disables filtering.",name:"disableFilter",required:!1,type:{name:"boolean"}},filterValue:{defaultValue:null,description:"Controlled search input value.",name:"filterValue",required:!1,type:{name:"string"}},onFilterChanged:{defaultValue:null,description:"Callback fired when the search input value changes.",name:"onFilterChanged",required:!1,type:{name:"(value: string) => void"}},loading:{defaultValue:{value:"false"},description:"If true, displays a loading state.",name:"loading",required:!1,type:{name:"boolean"}},onOptionHover:{defaultValue:null,description:"Callback fired when an option is hovered.",name:"onOptionHover",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>, index: number, option: IComboboxOption) => void"}},onOptionLeave:{defaultValue:null,description:"Callback fired when the mouse leaves an option.",name:"onOptionLeave",required:!1,type:{name:"() => void"}},shouldScrollToSelectedItem:{defaultValue:{value:"true"},description:"If true, automatically scrolls to the selected option.",name:"shouldScrollToSelectedItem",required:!1,type:{name:"boolean"}},noResultsRenderer:{defaultValue:null,description:"Custom renderer for when no results are found.",name:"noResultsRenderer",required:!1,type:{name:"() => Element"}},stickyCategories:{defaultValue:{value:"false"},description:"If true, keeps categories visible when scrolling.",name:"stickyCategories",required:!1,type:{name:"boolean"}},defaultVisualFocusFirstIndex:{defaultValue:null,description:"If true, visually focuses the first item by default.",name:"defaultVisualFocusFirstIndex",required:!1,type:{name:"boolean"}},clearFilterOnSelection:{defaultValue:{value:"false"},description:"If true, clears the search input when an option is selected.",name:"clearFilterOnSelection",required:!1,type:{name:"boolean"}},optionRenderer:{defaultValue:{value:"null"},description:"Custom renderer for options.",name:"optionRenderer",required:!1,type:{name:"(option: IComboboxOption) => Element"}},maxOptionsWithoutScroll:{defaultValue:null,description:"Maximum number of options displayed before scrolling.",name:"maxOptionsWithoutScroll",required:!1,type:{name:"number"}},renderOnlyVisibleOptions:{defaultValue:{value:"false"},description:"If true, renders only visible options for performance optimization.",name:"renderOnlyVisibleOptions",required:!1,type:{name:"boolean"}},onClick:{defaultValue:{value:"(_optionData: IComboboxOption) => {}"},description:"Callback fired when an option is clicked.",name:"onClick",required:!1,type:{name:"(optionData: IComboboxOption) => void"}},searchIcon:{defaultValue:null,description:"Custom search icon.",name:"searchIcon",required:!1,type:{name:"SubIcon"}},searchInputAriaLabel:{defaultValue:{value:"Search for content"},description:"ARIA label for the search input.",name:"searchInputAriaLabel",required:!1,type:{name:"string"}},debounceRate:{defaultValue:null,description:"The debounce rate for filtering.",name:"debounceRate",required:!1,type:{name:"number"}},searchInputRef:{defaultValue:null,description:"Ref for the search input element.",name:"searchInputRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},renderAction:{defaultValue:null,description:"Additional action button inside the search input.",name:"renderAction",required:!1,type:{name:"ReactElement<(ForwardRefExoticComponent<IconButtonProps & RefAttributes<HTMLElement>> & Required<IconButtonStaticProps>) | (ForwardRefExoticComponent<...> & Required<...>), string | JSXElementConstructor<...>>"}},hideRenderActionOnInput:{defaultValue:null,description:"If true, hides the additional action when the user types in the search input.",name:"hideRenderActionOnInput",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"A CSS class name to apply to the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"A unique identifier for testing purposes.",name:"data-testid",required:!1,type:{name:"string"}},id:{defaultValue:{value:""},description:"An HTML id attribute for the component.",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{Co as C};
